/*!
 * Copyright (C) 2018 jobsta
 * 
 * This file is part of ReportBro, a library to generate PDF and Excel reports.
 * Demos can be found at https://www.reportbro.com
 * 
 * Dual licensed under AGPLv3 and ReportBro commercial license:
 * https://www.reportbro.com/license
 * 
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see https://www.gnu.org/licenses/
 * 
 * Details for ReportBro commercial license can be found at
 * https://www.reportbro.com/license/agreement
 * 
 */
(function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=141)})([function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(98),o=a(n);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),o.default(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}()},function(e,t,r){e.exports={"default":r(108),__esModule:!0}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(100),o=a(n),i=r(97),l=a(i),d=r(44),s=a(d);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s.default(t)));e.prototype=l.default(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?o.default(e,t):e.__proto__=t)}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(44),o=a(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||("undefined"==typeof t?"undefined":o.default(t))!=="object"&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),i=n(o),l=r(8),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(60),f=n(h),m=r(17),b=n(m),g=r(7),v=n(g),y=r(19),_=n(y),w=r(13),I=n(w),C=r(6),D=a(C),S=function(){function e(t,r,a,n,o){u.default(this,e),this.rb=o,this.id=r,this.name=t,this.panelItem=null,this.x="0",this.y="0",this.width=""+a,this.height=""+n,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return p.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=D.convertInputToNumber(this.x),this.yVal=D.convertInputToNumber(this.y),this.widthVal=D.convertInputToNumber(this.width),this.heightVal=D.convertInputToNumber(this.height)}},{key:"setup",value:function(){var e=this.getContainer();if(null!==e){var t=e.getContentSize();this.xVal+this.widthVal>t.width&&(this.xVal=t.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>t.height&&(this.yVal=t.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var t=this;this.el.dblclick(function(e){t.rb.isSelectedObject(t.id)||(t.rb.selectObject(t.id,!0),e.stopPropagation())}).mousedown(function(r){r.shiftKey?t.rb.deselectObject(t.id):t.rb.isSelectedObject(t.id)?t.rb.getDocument().startDrag(r.originalEvent.pageX,r.originalEvent.pageY,t.id,t.containerId,t.linkedContainerId,t.getElementType(),e.dragType.element):t.rb.deselectAll(!0),r.stopPropagation()}).on("touchstart",function(r){if(t.rb.isSelectedObject(t.id)){var a=C.getEventAbsPos(r);t.rb.getDocument().startDrag(a.x,a.y,t.id,t.containerId,t.linkedContainerId,t.getElementType(),e.dragType.element)}r.preventDefault()}).on("touchmove",function(e){t.rb.getDocument().processDrag(e)}).on("touchend",function(){t.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var t=this;this.el.dblclick(function(e){t.handleDoubleClick(e)}).mousedown(function(e){t.handleClick(e,!1)}).on("touchstart",function(r){if(t.rb.isSelectedObject(t.id)){var a=C.getEventAbsPos(r);t.rb.getDocument().startDrag(a.x,a.y,t.id,t.containerId,t.linkedContainerId,t.getElementType(),e.dragType.element),r.preventDefault()}else t.handleClick(r,!0)}).on("touchmove",function(e){t.rb.isSelectedObject(t.id)&&t.rb.getDocument().processDrag(e)}).on("touchend",function(){t.rb.isSelectedObject(t.id)&&t.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(e){this.handleClick(e,!0)}},{key:"handleClick",value:function(t,r){if(this.rb.isSelectedObject(this.id))t.shiftKey?this.rb.deselectObject(this.id):r||this.rb.getDocument().startDrag(t.originalEvent.pageX,t.originalEvent.pageY,this.id,this.containerId,this.linkedContainerId,this.getElementType(),e.dragType.element),t.stopPropagation();else if(r||!this.isContainerSelected()){var a=!0;if(t.shiftKey){var n=[];this.appendContainerChildren(n);var o=!0,i=!1,l=void 0;try{for(var s,u=d.default(n);!(o=(s=u.next()).done);o=!0){var c=s.value;if(this.rb.isSelectedObject(c.getId())){a=!1;break}}}catch(p){i=!0,l=p}finally{try{!o&&u.return&&u.return()}finally{if(i)throw l}}}a&&this.rb.selectObject(this.id,!t.shiftKey),t.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getContainerContentSize",value:function(){var e=this.getContainer();return null!==e?e.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var e=this.getContainer();null!==e&&e.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var e=this.getContainer();return null!==e?e.isSelected():!1}},{key:"appendContainerChildren",value:function(t){if(this.linkedContainerId!==null&&this.panelItem!==null){var r=this.panelItem.getChildren(),a=!0,n=!1,o=void 0;try{for(var i,l=d.default(r);!(a=(i=l.next()).done);a=!0){var s=i.value;s.getData()instanceof e&&(t.push(s.getData()),s.getData().appendContainerChildren(t))}}catch(u){n=!0,o=u}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}}}},{key:"getAbsolutePosition",value:function(){var e={x:this.xVal,y:this.yVal},t=this.getContainer();if(null!==t){var r=t.getOffset();e.x+=r.x,e.y+=r.y}return e}},{key:"checkBounds",value:function(t,r,a,n,o,i){if(t+a>o.width&&(t=o.width-a),0>t&&(t=0),t+a>o.width&&(a=o.width-t),r+n>o.height&&(r=o.height-n),0>r&&(r=0),r+n>o.height&&(n=o.height-r),t!==this.xVal&&this.hasProperty("x")){var l=new v.default(this.id,"x",""+t,v.default.type.text,this.rb);l.disableSelect(),i.addCommand(l)}if(r!==this.yVal&&this.hasProperty("y")){var s=new v.default(this.id,"y",""+r,v.default.type.text,this.rb);s.disableSelect(),i.addCommand(s)}if(a!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(a,!0,i),n!==this.getDisplayHeight()&&this.hasProperty("height")){var u=new v.default(this.id,"height",""+n,v.default.type.text,this.rb);u.disableSelect(),i.addCommand(u)}var c=this.getLinkedContainer();if(null!==c&&c.getPanelItem()!==null){var p={width:a,height:n},h=!0,f=!1,m=void 0;try{for(var b,g=d.default(c.getPanelItem().getChildren());!(h=(b=g.next()).done);h=!0){var y=b.value;if(y.getData()instanceof e){var _=y.getData();_.checkBounds(_.getValue("xVal"),_.getValue("yVal"),_.getDisplayWidth(),_.getDisplayHeight(),p,i)}}}catch(w){f=!0,m=w}finally{try{!h&&g.return&&g.return()}finally{if(f)throw m}}}}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){if(this[e]=t,"x"===e||"y"===e||"width"===e||"height"===e)this[e+"Val"]=D.convertInputToNumber(t),this.updateDisplay();else if("containerId"===e){if(this.el!==null&&(this.el.detach(),this.appendToContainer()),this.linkedContainerId!==null){var r=this.getLinkedContainer();null!==r&&r.setParent(this.getContainer())}}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(e)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(e)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(e,t){return t}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId"),e}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(e){return this.getProperties().indexOf(e)!==-1}},{key:"getElementType",value:function(){return e.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(e){D.convertInputToNumber(this.styleId)===e&&this.updateStyle()}},{key:"getDragDiff",value:function(t,r,a,n){var o={x:0,y:0},i=void 0,l=void 0,d=this.xVal,s=this.yVal,u=d+this.getDisplayWidth(),c=s+this.getDisplayHeight(),p=this.getMinWidth(),h=this.getMaxWidth(),f=this.getMinHeight();if(a===e.dragType.element)i=d+t,0!==n&&(i=D.roundValueToInterval(i,n)),l=s+r,0!==n&&(l=D.roundValueToInterval(l,n)),o.x=i-d,o.y=l-s;else{var m=this.getContainerContentSize();(a===e.dragType.sizerNW||a===e.dragType.sizerN||a===e.dragType.sizerNE)&&(l=s+r,0!==n&&(l=D.roundValueToInterval(l,n)),l>c-f?l=0!==n?D.roundValueToLowerInterval(c-f,n):c-f:0>l&&(l=0),o.y=l-s),(a===e.dragType.sizerNE||a===e.dragType.sizerE||a===e.dragType.sizerSE)&&(i=u+t,0!==n&&(i=D.roundValueToInterval(i,n)),d+p>i?i=0!==n?D.roundValueToUpperInterval(d+p,n):d+p:i>h&&(i=h),o.x=i-u),(a===e.dragType.sizerSE||a===e.dragType.sizerS||a===e.dragType.sizerSW)&&(l=c+r,0!==n&&(l=D.roundValueToInterval(l,n)),s+f>l?l=0!==n?D.roundValueToUpperInterval(s+f,n):s+f:l>m.height&&(l=m.height),o.y=l-c),(a===e.dragType.sizerSW||a===e.dragType.sizerW||a===e.dragType.sizerNW)&&(i=d+t,0!==n&&(i=D.roundValueToInterval(i,n)),i>u-p?i=0!==n?D.roundValueToLowerInterval(u-p,n):u-p:0>i&&(i=0),o.x=i-d)}return o}},{key:"updateDrag",value:function(t,r,a,n,o){var i=this.xVal,l=this.yVal,d=i+this.getDisplayWidth(),s=l+this.getDisplayHeight(),u=this.getMaxWidth(),c=this.getContainerContentSize();a===e.dragType.element?(i+=t,d=i+this.getDisplayWidth(),l+=r,s=l+this.getDisplayHeight()):((a===e.dragType.sizerNW||a===e.dragType.sizerN||a===e.dragType.sizerNE)&&(l+=r),(a===e.dragType.sizerNE||a===e.dragType.sizerE||a===e.dragType.sizerSE)&&(d+=t),(a===e.dragType.sizerSE||a===e.dragType.sizerS||a===e.dragType.sizerSW)&&(s+=r),(a===e.dragType.sizerSW||a===e.dragType.sizerW||a===e.dragType.sizerNW)&&(i+=t),0>i&&(i=0),i>d&&(d=i),0>l&&(l=0),l>s&&(s=l),d>u&&(d=u),s>c.height&&(s=c.height));var p=d-i,h=s-l;if(null!==o){var m=!1,b=this.getContainer(),g={width:0,height:0};if(null!==n&&n.getId()!==this.getContainerId()){if(m=!0,g=n.getContentSize(),null!==b){var y=n.getOffsetTo(b);i-=y.x,l-=y.y}}else g=b.getContentSize();if(!m||n.isElementAllowed(this.getElementType())){if(this.checkBounds(i,l,p,h,g,o),m){var _=new v.default(this.id,"containerId",n.getId(),v.default.type.internal,this.rb);o.addCommand(_),_=new f.default(this.getPanelItem(),n.getPanelItem(),n.getPanelItem().getChildren().length,this.rb),o.addCommand(_)}o.isEmpty()&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(i,l,p,h)}},{key:"select",value:function(){var t=this;if(this.el!==null){var r=this.getSizerContainerElement(),a=this.getSizers(),n=!0,o=!1,i=void 0;try{for(var l,s=function(){var a=l.value,n=a,o=$('<div class="rbroSizer rbroSizer'+a+'"></div>').mousedown(function(r){t.rb.getDocument().startDrag(r.pageX,r.pageY,t.id,t.containerId,t.linkedContainerId,t.getElementType(),e.dragType["sizer"+n]),r.stopPropagation()}).on("touchstart",function(r){if(t.rb.isSelectedObject(t.id)){var a=C.getEventAbsPos(r);t.rb.getDocument().startDrag(a.x,a.y,t.id,t.containerId,t.linkedContainerId,t.getElementType(),e.dragType["sizer"+n])}r.preventDefault(),r.stopPropagation()}).on("touchmove",function(e){t.rb.getDocument().processDrag(e)}).on("touchend",function(){t.rb.getDocument().stopDrag()});r.append(o)},u=d.default(a);!(n=(l=u.next()).done);n=!0)s()}catch(c){o=!0,i=c}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}this.el.addClass("rbroSelected"),this.el.css("z-index","10")}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var e=this.getSizerContainerElement();e.find(".rbroSizer").remove(),this.el.css("z-index",""),this.el.removeClass("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){var e=this.getContainerContentSize();return e.width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"getDataSource",value:function(){return null}},{key:"getAllDataSources",value:function(t,r){if((this.getElementType()===e.type.table||this.getElementType()==e.type.section)&&r&&r.getValue("bandType")===_.default.bandType.content){var a=this.getDataSource();null!==a&&t.push(a)}var n=this.getPanelItem();if(null!==n){var o=n.getParent();null!==o&&o.getData()instanceof e&&o.getData().getAllDataSources(t,this)}}},{key:"addCommandsForChangedParameterName",value:function(){}},{key:"addCommandForChangedParameterName",value:function(e,t,r,a){var n=e.getParent(),o=[],i=null,l=null;if(this.getAllDataSources(o,null),null!==n&&n.getValue("type")===I.default.type.array){var s=!0,u=!1,c=void 0;try{for(var p,h=d.default(o);!(s=(p=h.next()).done);s=!0){var f=p.value;if(f.parameters.indexOf(e)!==-1){i="${"+e.getName()+"}",l="${"+t+"}";break}}}catch(m){u=!0,c=m}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}}else if(null!==n&&n.getValue("type")===I.default.type.map)i="${"+n.getName()+"."+e.getName()+"}",l="${"+n.getName()+"."+t+"}";else if(e.getValue("type")===I.default.type.map)i="${"+e.getName()+".",l="${"+t+".";else{var b=!1,g=!0,y=!1,_=void 0;try{for(var w,C=d.default(o);!(g=(w=C.next()).done);g=!0){var S=w.value,k=!0,P=!1,x=void 0;try{for(var E,$=d.default(S.parameters);!(k=(E=$.next()).done);k=!0){var T=E.value;if(T.getName()===e.getName()){b=!0;break}}}catch(m){P=!0,x=m}finally{try{!k&&$.return&&$.return()}finally{if(P)throw x}}}}catch(m){y=!0,_=m}finally{try{!g&&C.return&&C.return()}finally{if(y)throw _}}b||(i="${"+e.getName()+"}",l="${"+t+"}")}if(null!==i&&null!==l&&this.getValue(r).indexOf(i)!==-1){var V=new v.default(this.id,r,D.replaceAll(this.getValue(r),i,l),v.default.type.text,this.rb);a.addCommand(V)}}},{key:"addCommandsForDelete",value:function(e){var t=[];this.appendContainerChildren(t),t.push(this);var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(t);!(r=(o=i.next()).done);r=!0){var l=o.value,s=new b.default(!1,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),l.getPanelItem().getSiblingPosition(),this.rb);e.addCommand(s)}}catch(u){a=!0,n=u}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}},{key:"addCommandsForChangedWidth",value:function(e,t,r){var a=new v.default(this.id,"width",""+e,v.default.type.text,this.rb);t&&a.disableSelect(),r.addCommand(a)}},{key:"addChildren",value:function(){}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var e={elementType:this.getElementType()},t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getFields());!(t=(n=o.next()).done);t=!0){var i=n.value;e[i]=["x","y","width","height"].indexOf(i)===-1?this.getValue(i):this.getValue(i+"Val")}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"toJSON",value:function(){return i.default(this.toJS())}}]),e}();t.default=S,S.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},S.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8}},function(e,t){"use strict";function r(e){e.on("keyup",function(){var e=this.value.replace(/[^0-9]/g,"");this.value!==e&&(this.value=e)})}function a(e){e.on("keyup",function(){var e=this.value.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),t=this.className,r=t.indexOf("decimalPlaces");if(-1!==r){r+=13;var a,n=t.indexOf(" ",r);a=-1!==n?parseInt(t.substring(r,n),10):parseInt(t.substr(r),10),isNaN(a)||(r=e.indexOf("."),-1===r&&(r=e.indexOf(",")),-1!==r&&e.length-1-r>a&&(e=e.substring(0,r+a+1)))}this.value!==e&&(this.value=e)})}function n(e,t,r){var a=parseFloat(e.replace(",","."));return isNaN(a)?""+t:t>a?""+t:a>r?""+r:e}function o(e){if("number"==typeof e)return e;if("string"==typeof e&&""!==e){var t=parseFloat(e.replace(",","."));if(!isNaN(t))return t}return 0}function i(e,t){var r=Math.ceil(e/t)*t;return t>>1>=r-e?r:r-t}function l(e,t){return Math.floor(e/t)*t}function d(e,t){return Math.ceil(e/t)*t}function s(e,t,r){for(var a=e;a.indexOf(t)!==-1;)a=a.replace(t,r);return a}function u(e,t,r){var a={showInitial:!1,preferredFormat:"hex",containerClassName:"rbroColorContainer",replacerClassName:"rbroColorPicker",showPalette:!0,showButtons:!1,showSelectionPalette:!1,palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]],change:function(){e.spectrum("hide")},show:function(){e.parent().addClass("rbroActive")},hide:function(){e.parent().removeClass("rbroActive")}};$.extend(a,r||{}),e.spectrum(a),e.show(),e.focus(function(){e.parent().addClass("rbroActive")}),e.blur(function(){e.parent().removeClass("rbroActive")})}function c(e){return!e||/^#[0-9A-F]{6}$/i.test(e)}function p(e,t){if(document.selection){e.focus();var r=document.selection.createRange();r.text=t,e.focus()}else if(e.selectionStart||e.selectionStart===0){var a=e.selectionStart,n=e.selectionEnd,o=e.scrollTop;e.value=e.value.substring(0,a)+t+e.value.substring(n,e.value.length),e.focus(),e.selectionStart=a+t.length,e.selectionEnd=a+t.length,e.scrollTop=o}else e.value+=t,e.focus()}function h(e,t){var r=e.split("/");return r.length>=2&&r[0]===t?r[1]:null}function f(e){if(!(window.TouchEvent&&e.originalEvent instanceof TouchEvent))return{x:e.originalEvent.pageX,y:e.originalEvent.pageY};if(e.touches.length>0){var t=e.touches[e.touches.length-1];return{x:t.pageX,y:t.pageY}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.setInputPositiveInteger=r,t.setInputDecimal=a,t.checkInputDecimal=n,t.convertInputToNumber=o,t.roundValueToInterval=i,t.roundValueToLowerInterval=l,t.roundValueToUpperInterval=d,t.replaceAll=s,t.initColorPicker=u,t.isValidColor=c,t.insertAtCaret=p,t.getDataTransferType=h,t.getEventAbsPos=f,String.prototype.reverse=function(){return this.split("").reverse().join("")}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(3),h=a(p),f=r(11),m=a(f),b=function(e){function t(e,r,a,n,i){l.default(this,t);var d=c.default(this,(t.__proto__||o.default(t)).call(this));d.objId=e,d.field=r,d.value=a,d.type=n,d.rb=i;var s=i.getDataObject(e);return d.oldValue=s.getValue(r),d.firstExecution=!0,d.select=!0,d.notifyChange=!0,d}return h.default(t,e),s.default(t,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(e){var t=this.rb.getDataObject(this.objId);t.setValue(this.field,e),this.field==="name"&&($("#rbro_menu_item_name"+this.objId).text(e),$("#rbro_menu_item_name"+this.objId).attr("title",e),this.rb.notifyEvent(t,m.default.operation.rename)),this.notifyChange&&this.rb.notifyEvent(t,m.default.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(e){this.notifyChange=e}},{key:"allowReplace",value:function(e){return e instanceof t&&this.type===t.type.text&&this.objId===e.objId&&this.field===e.field}},{key:"replace",value:function(e){this.oldValue=e.oldValue}}]),t}(m.default);t.default=b,b.type={text:"text",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"}},function(e,t,r){e.exports={"default":r(103),__esModule:!0}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(2),o=a(n),i=r(99),l=a(i);t.default=function d(e,t,r){null===e&&(e=Function.prototype);var a=l.default(e,t);if(void 0===a){var n=o.default(e);return null===n?void 0:d(n,t,r)}if("value"in a)return a.value;var i=a.get;return void 0===i?void 0:i.call(r)}},function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(){o.default(this,e)}return l.default(e,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(){return!1}},{key:"replace",value:function(){}}]),e}();t.default=d,d.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(38),s=a(d),u=r(39),c=a(u),p=r(18),h=a(p),f=r(60),m=a(f),b=r(7),g=a(b),v=r(13),y=a(v),_=r(14),w=a(_),I=r(5),C=a(I),D=r(24);a(D);var S=function(){function e(t,r,a,n,i){var l=this;o.default(this,e),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},$.extend(this.properties,n),this.panelName=t;var d=null!==a?a.getName():"";this.id=null!==a?a.getId():n.id,this.parent=r,this.data=a,this.rb=i,this.children=[],this.dragEnterCount=0,this.element=$("<li></li>"),this.properties.visible||this.element.addClass("rbroHidden");var u=$('<div id="rbro_menu_item'+this.id+'" class="rbroMenuItem"></div>');this.properties.draggable&&(u.attr("draggable","true"),u.on("dragstart",function(e){e.originalEvent.dataTransfer.setData("text/plain",""),e.originalEvent.dataTransfer.effectAllowed="move",l.rb.startBrowserDrag("panelItem",null,l.id),e.stopPropagation()})),u.on("dragover",function(e){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var t=l.getDropObjectInfo();t.allowDrop&&(e.preventDefault(),e.stopPropagation())}}).on("dragenter",function(e){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var t=l.getDropObjectInfo();t.allowDrop&&(u.addClass("rbroMenuItemDragOver"),l.dragEnterCount++,e.preventDefault())}}).on("dragleave",function(){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var e=l.getDropObjectInfo();e.allowDrop&&(l.dragEnterCount--,l.dragEnterCount===0&&u.removeClass("rbroMenuItemDragOver"))}}).on("drop",function(e){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var t=l.getDropObjectInfo();if(t.allowDrop){l.dragEnterCount--,u.removeClass("rbroMenuItemDragOver");var r=new h.default("Move panel item",l.rb),a=l.rb.getDataObject(l.rb.getBrowserDragId());if(a instanceof C.default&&a.getValue("containerId")!==t.container.getId()){a.checkBounds(a.getValue("xVal"),a.getValue("yVal"),a.getValue("widthVal"),a.getValue("heightVal"),t.container.getSize(),r);var n=new g.default(a.getId(),"containerId",t.container.getId(),g.default.type.internal,l.rb);r.addCommand(n)}var o=new m.default(a.getPanelItem(),t.panel,t.position,l.rb);return r.addCommand(o),l.rb.executeCommand(r),e.preventDefault(),!1}}});var p=$('<div class="rbroMenuItemText"><span id="rbro_menu_item_name'+this.id+'">'+d+"</span></div>");this.properties.showAdd&&u.append($('<div id="rbro_menu_item_add'+this.id+'" class="rbroButton rbroRoundButton rbroIcon-plus"></div>').click(function(e){if("parameter"===t){var r=new s.default(!0,{},l.rb.getUniqueId(),l.getId(),-1,l.rb);l.rb.executeCommand(r)}else if("style"===t){var a=new c.default(!0,{},l.rb.getUniqueId(),l.getId(),-1,l.rb);l.rb.executeCommand(a)}var n=l.children[l.children.length-1];l.rb.selectObject(n.getId(),!0),e.stopPropagation()})),this.properties.showDelete&&u.append($('<div class="rbroButton rbroDeleteButton rbroIcon-cancel"></div>').click(function(){var e=null;"parameter"===t?e=new s.default(!1,l.getData().toJS(),l.getId(),l.parent.getId(),l.getSiblingPosition(),l.rb):"style"===t?(e=new h.default("Delete",l),l.getData().addCommandsForDelete(e)):l.isDocElementPanel()&&l.getData()instanceof C.default&&(e=new h.default("Delete",l),l.getData().addCommandsForDelete(e)),null!==e&&l.rb.executeCommand(e)})),u.click(function(e){if(!l.properties.hasDetails||$("#rbro_menu_item"+l.id).hasClass("rbroMenuItemActive")){var t=$("#rbro_menu_item_children"+l.id);t.length>0&&(u.toggleClass("rbroMenuItemOpen"),t.toggleClass("rbroHidden"))}if(l.properties.hasDetails)if(l.rb.isSelectedObject(l.id))e.shiftKey&&l.rb.deselectObject(l.id);else{var r=!0;l.isDocElementPanel()&&(r=!e.shiftKey),l.rb.selectObject(l.id,r)}}),this.properties.hasChildren&&(u.addClass("rbroMenuItemNoChildren"),p.append('<div id="rbro_menu_item_children_toggle'+this.id+'" class="rbroMenuArrow rbroIcon-arrow-right"></div>'),this.element.append($('<ul id="rbro_menu_item_children'+this.id+'" class="rbroHidden"></ul>'))),u.prepend(p),this.element.prepend(u)}return l.default(e,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.removeClass("rbroHidden")}},{key:"hide",value:function(){this.element.addClass("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e;var t=null!==e?e.getName():"";$("#rbro_menu_item_name"+this.id).text(t)}},{key:"setActive",value:function(){$("#rbro_menu_item"+this.id).addClass("rbroMenuItemActive")}},{key:"setInactive",value:function(){$("#rbro_menu_item"+this.id).removeClass("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var e=[],t=this.getParent();null!==t;)e.push(t.id),t=t.getParent();return e}},{key:"openParentItems",value:function(){for(var e=this.getParent();null!==e;)e.open(),e=e.getParent()}},{key:"open",value:function(){var e=$("#rbro_menu_item_children"+this.getId());e.length>0&&($("#rbro_menu_item"+this.getId()).addClass("rbroMenuItemOpen"),e.removeClass("rbroHidden"))}},{key:"close",value:function(){var e=$("#rbro_menu_item_children"+this.getId());e.length>0&&($("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemOpen"),e.addClass("rbroHidden"))}},{key:"appendChild",value:function(e){this.children.length===0&&$("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemNoChildren"),this.children.push(e),$("#rbro_menu_item_children"+this.getId()).append(e.getElement())}},{key:"insertChild",value:function(e,t){this.children.length===0&&$("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemNoChildren"),-1!==e?this.children.splice(e,0,t):this.children.push(t);var r=$("#rbro_menu_item_children"+this.getId()+" > li");-1!==e&&e<r.length?r.eq(e).before(t.getElement()):$("#rbro_menu_item_children"+this.getId()).append(t.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"removeChild",value:function(e){this.removeChildInternal(e,!0)}},{key:"removeChildInternal",value:function(e,t){for(var r=0;r<this.children.length;r++)if(e.getId()===this.children[r].getId()){this.children.splice(r,1),t&&e.getElement().remove(),this.children.length===0&&$("#rbro_menu_item"+this.getId()).addClass("rbroMenuItemNoChildren");break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null)for(var e=this.getParent().getChildren(),t=0;t<e.length;t++)if(e[t]===this)return t;return 0}},{key:"moveTo",value:function(e){this.element.detach(),this.parent.removeChildInternal(this,!1),this.parent=e,e.appendChild(this)}},{key:"moveToPosition",value:function(e,t){this.element.detach(),this.parent.removeChildInternal(this,!1),this.parent=e,e.insertChild(t,this)}},{key:"clear",value:function(){$("#rbro_menu_item_children"+this.id).empty(),this.children=[]}},{key:"getDropObjectInfo",value:function(){var e={allowDrop:!1,panel:null,position:-1,container:null},t=this.rb.getDataObject(this.rb.getBrowserDragId());if(null!==t){var r=!1;if(t instanceof C.default)this.data instanceof C.default&&this.data.isDroppingAllowed()?(e.container=this.data.getLinkedContainer(),e.container===null&&(e.container=this.data.getContainer(),r=!0)):this.panelName==="band"&&(e.container=this.data),e.container!==null&&e.container.isElementAllowed(t.getElementType())&&(e.allowDrop=!0);else if(t instanceof y.default)if(this.data instanceof y.default){var a=this.data.getParent();null!==a?a.getValue("type")===y.default.type.array?t.getValue("type")!==y.default.type.array&&t.getValue("type")!==y.default.type.map&&t.getValue("type")!==y.default.type.sum&&t.getValue("type")!==y.default.type.average&&(e.allowDrop=!0,r=!0):a.getValue("type")===y.default.type.map&&t.getValue("type")!==y.default.type.array&&t.getValue("type")!==y.default.type.map&&(e.allowDrop=!0,r=!0):(e.allowDrop=!0,r=!0)}else this.panelName==="parameter"&&(e.allowDrop=!0);else t instanceof w.default&&(this.data instanceof w.default?(e.allowDrop=!0,r=!0):this.panelName==="style"&&(e.allowDrop=!0));
e.allowDrop&&(r?(e.panel=this.getParent(),e.position=this.getSiblingPosition()+1):(e.panel=this,e.position=0),(e.panel===null||e.panel===t.getPanelItem().getParent()&&e.position===t.getPanelItem().getSiblingPosition())&&(e.allowDrop=!1))}return e}},{key:"isDocElementPanel",value:function(){return this.panelName===C.default.type.text||this.panelName===C.default.type.image||this.panelName===C.default.type.line||this.panelName===C.default.type.table||this.panelName===C.default.type.pageBreak||this.panelName===C.default.type.barCode||this.panelName===C.default.type.frame||this.panelName===C.default.type.section}}]),e}();t.default=S},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),i=n(o),l=r(8),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(38),f=n(h),m=r(11),b=n(m),g=r(7),v=n(g),y=r(12),_=n(y),w=r(6),I=a(w),C=function(){function e(t,r,a){u.default(this,e),this.rb=a,this.id=t,this.name=a.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=e.type.string,this.arrayItemType=e.type.string,this.eval=!a.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.children=[],this.editable=a.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(r)}return p.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);"showOnlyNameType"in e&&e.showOnlyNameType&&(this.editable=!1)}},{key:"setup",value:function(){if(this.type===e.type.array||this.type===e.type.map){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.children);!(t=(n=o.next()).done);t=!0){var i=n.value,l=new e(i.id||this.rb.getUniqueId(),i,this.rb);this.rb.addParameter(l);var s=new _.default("parameter",this.panelItem,l,{hasChildren:!0,showAdd:l.editable,showDelete:l.editable,draggable:!0},this.rb);l.setPanelItem(s),this.panelItem.appendChild(s),l.setup(),this.rb.notifyEvent(l,b.default.operation.add)}}catch(u){r=!0,a=u}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}this.updateMenuItemDisplay()}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var t=this.id;if(this.type===e.type.array||this.type===e.type.map){var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.children);!(r=(o=i.next()).done);r=!0){var l=o.value;l.id>t&&(t=l.id)}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}return t}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){this[e]=t,"type"===e&&this.updateMenuItemDisplay()}},{key:"updateMenuItemDisplay",value:function(){this.type===e.type.array||this.type===e.type.map?($("#rbro_menu_item_add"+this.getId()).show(),$("#rbro_menu_item_children"+this.getId()).show(),$("#rbro_menu_item_children_toggle"+this.getId()).show()):($("#rbro_menu_item_add"+this.getId()).hide(),$("#rbro_menu_item_children"+this.getId()).hide(),$("#rbro_menu_item_children_toggle"+this.getId()).hide())}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof e?this.panelItem.getParent().getData():null}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"expression",r);var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(this.getChildren());!(a=(i=l.next()).done);a=!0){var s=i.value;s.addCommandsForChangedParameterName(e,t,r)}}catch(u){n=!0,o=u}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}}},{key:"addCommandForChangedParameterName",value:function(t,r,a,n){var o=t.getParent(),i=null,l=null;if(null!==o&&o.getValue("type")===e.type.map?(i="${"+o.getName()+"."+t.getName()+"}",l="${"+o.getName()+"."+r+"}"):t.getValue("type")===e.type.map?(i="${"+t.getName()+".",l="${"+r+"."):(i="${"+t.getName()+"}",l="${"+r+"}"),null!==i&&null!==l&&this.getValue(a).indexOf(i)!==-1){var d=new v.default(this.id,a,I.replaceAll(this.getValue(a),i,l),v.default.type.text,this.rb);n.addCommand(d)}}},{key:"addUpdateTestDataCmdForChangedParameter",value:function(t,r,a){if(this.type===e.type.array){var n=[];try{var o=JSON.parse(this.testData);if(Array.isArray(o)){var l=!0,s=!1,u=void 0;try{for(var c,p=d.default(o);!(l=(c=p.next()).done);l=!0){var h=c.value,f={};for(var m in h)h.hasOwnProperty(m)&&(m===t?f[r]=h[m]:f[m]=h[m]);n.push(f)}}catch(b){s=!0,u=b}finally{try{!l&&p.return&&p.return()}finally{if(s)throw u}}}var g=i.default(n);if(this.testData!==g){var y=new v.default(this.id,"testData",g,v.default.type.text,this.rb);a.addCommand(y)}}catch(_){}}}},{key:"addCommandsForChangedParameterType",value:function(t,r){if(this.type!==e.type.array&&t===e.type.array){var a={name:"row_number",type:e.type.number,eval:!1,editable:!1,showOnlyNameType:!0},n=new f.default(!0,a,this.rb.getUniqueId(),this.getId(),0,this.rb);n.setShowDelete(!1),r.addCommand(n)}else if(this.type===e.type.array&&t!==e.type.array){var o=this.getChildren(),i=!0,l=!1,s=void 0;try{for(var u,c=d.default(o);!(i=(u=c.next()).done);i=!0){var p=u.value;if(p.getValue("name")==="row_number"&&!p.getValue("editable")){var h=new f.default(!1,p.toJS(),p.getId(),this.getId(),p.getPanelItem().getSiblingPosition(),this.rb);r.addCommand(h);break}}}catch(m){l=!0,s=m}finally{try{!i&&c.return&&c.return()}finally{if(l)throw s}}}}},{key:"toJS",value:function(){var t={},r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.getFields());!(r=(o=i.next()).done);r=!0){var l=o.value;t[l]=this.getValue(l)}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}if(this.type===e.type.array||this.type===e.type.map){var u=[],c=!0,p=!1,h=void 0;try{for(var f,m=d.default(this.panelItem.getChildren());!(c=(f=m.next()).done);c=!0){var b=f.value;u.push(b.getData().toJS())}}catch(s){p=!0,h=s}finally{try{!c&&m.return&&m.return()}finally{if(p)throw h}}t.children=u}return t}},{key:"getChildren",value:function(){var t=[];if(this.type===e.type.array||this.type===e.type.map){var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.panelItem.getChildren());!(r=(o=i.next()).done);r=!0){var l=o.value;t.push(l.getData())}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}return t}},{key:"appendParameterItems",value:function(t,r){if(this.type===e.type.map){var a=[];if(Array.isArray(r)){var n=!0,o=!1,i=void 0;try{for(var l,s=d.default(this.getChildren());!(n=(l=s.next()).done);n=!0){var u=l.value;r.indexOf(u.type)!==-1&&a.push(u)}}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}else a=this.getChildren();a.length>0&&t.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:this.name});var p=!0,h=!1,f=void 0;try{for(var m,b=d.default(a);!(p=(m=b.next()).done);p=!0){var g=m.value,v=this.name+"."+g.getName();t.push({name:v,nameLowerCase:v.toLowerCase(),id:g.getId(),description:""})}}catch(c){h=!0,f=c}finally{try{!p&&b.return&&b.return()}finally{if(h)throw f}}}else this.type!==e.type.array?Array.isArray(r)&&r.indexOf(this.type)===-1||t.push({name:this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:""}):Array.isArray(r)&&r.indexOf(this.type)!==-1&&t.push({name:this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:""})}},{key:"appendFieldParameterItems",value:function(t,r){if(this.type===e.type.array){var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(this.panelItem.getChildren());!(a=(i=l.next()).done);a=!0){var s=i.value,u=s.getData();r&&u.getValue("type")!==r||t.push({name:this.name+"."+u.getName(),description:""})}}catch(c){n=!0,o=c}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}}}},{key:"getTestDataRows",value:function(t){if(this.type!==e.type.array&&this.type!==e.type.simpleArray)return null;var r=[];if(this.type===e.type.simpleArray){var a={name:"data",type:this.arrayItemType,allowMultiple:!1};r.push(a)}else{var n=!0,o=!1,i=void 0;try{for(var l,s=d.default(this.getChildren());!(n=(l=s.next()).done);n=!0){var u=l.value;if(!u.showOnlyNameType){var c={name:u.getName()};u.getValue("type")===e.type.simpleArray?(c.type=u.getValue("arrayItemType"),c.allowMultiple=!0,c.arraySize=1):(c.type=u.getValue("type"),c.allowMultiple=!1),r.push(c)}}}catch(p){o=!0,i=p}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}var h=[];if(r.length>0){t&&h.push(r);try{var f=JSON.parse(this.testData);if(Array.isArray(f)){var m=!0,b=!1,g=void 0;try{for(var v,y=d.default(f);!(m=(v=y.next()).done);m=!0){var _=v.value,w={},I=!1,C=!0,D=!1,S=void 0;try{for(var k,P=d.default(r);!(C=(k=P.next()).done);C=!0){var x=k.value;if(x.name in _){var E=_[x.name];(x.allowMultiple&&Array.isArray(E)||!x.allowMultiple&&!Array.isArray(E))&&(I=!0,w[x.name]=E,x.allowMultiple&&E.length>0&&(x.arraySize=E.length))}}}catch(p){D=!0,S=p}finally{try{!C&&P.return&&P.return()}finally{if(D)throw S}}I&&h.push(w)}}catch(p){b=!0,g=p}finally{try{!m&&y.return&&y.return()}finally{if(b)throw g}}}}catch($){}}return h}}],[{key:"removeIds",value:function(e){if(e.children){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(e.children);!(t=(n=o.next()).done);t=!0){var i=n.value;"id"in i&&delete i.id}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}}]),e}();t.default=C,C.type={none:"none",string:"string",number:"number","boolean":"boolean",date:"date",image:"image",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(39),p=n(c),h=r(11),f=n(h),m=r(7),b=n(m),g=r(5),v=n(g),y=r(6),_=a(y),w=function(){function e(t,r,a){d.default(this,e),this.rb=a,this.id=t,this.name=a.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=e.alignment.left,this.verticalAlignment=e.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=e.font.courier,this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(r)}return u.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.borderWidthVal=_.convertInputToNumber(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(t,r){if(this[t]=r,t.indexOf("border")!==-1&&("borderWidth"===t&&(this.borderWidthVal=_.convertInputToNumber(r)),e.setBorderValue(this,t,"",r,this.rb)),"name"!==t){var a=!0,n=!1,o=void 0;try{for(var l,d=i.default(this.rb.getDocElements(!0));!(a=(l=d.next()).done);a=!0){var s=l.value;s.updateChangedStyle(this.getId())}}catch(u){n=!0,o=u}finally{try{!a&&d.return&&d.return()}finally{if(n)throw o}}}}},{key:"addCommandsForChangedProperty",value:function(e,t,r,a){var n=""+this.getId(),o=!0,l=!1,d=void 0;try{for(var s,u=i.default(this.rb.getDocElements(!0));!(o=(s=u.next()).done);o=!0){var c=s.value;if(c.hasProperty("styleId")){if(c.getValue("styleId")===n&&c.getValue(e)!==t){var p=new b.default(c.getId(),e,t,r,this.rb);p.disableSelect(),a.addCommand(p)}if(c.getValue("cs_styleId")===n&&c.getValue("cs_"+e)!==t){var h=new b.default(c.getId(),"cs_"+e,t,r,this.rb);h.disableSelect(),a.addCommand(h)}}}}catch(f){l=!0,d=f}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}}},{key:"addCommandsForDelete",value:function(e){var t=void 0,r=this.rb.getDocElements(!0),a=!0,n=!1,o=void 0;try{for(var l,d=i.default(r);!(a=(l=d.next()).done);a=!0){var s=l.value;s.getElementType()!==v.default.type.text&&s.getElementType()!==v.default.type.tableText||!s.getValue("styleId")||_.convertInputToNumber(s.getValue("styleId"))!==this.id||(t=new b.default(s.getId(),"styleId","",b.default.type.text,this.rb),e.addCommand(t))}}catch(u){n=!0,o=u}finally{try{!a&&d.return&&d.return()}finally{if(n)throw o}}t=new p.default(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),e.addCommand(t)}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.getFields());!(t=(n=o.next()).done);t=!0){var l=n.value;e[l]=this.getValue(l)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}}],[{key:"setBorderValue",value:function(e,t,r,a,n){var o=t;if(r.length>0&&(o=o.substr(r.length)),"borderLeft"===o||"borderTop"===o||"borderRight"===o||"borderBottom"===o){var i=e.getValue(r+"borderLeft")&&e.getValue(r+"borderTop")&&e.getValue(r+"borderRight")&&e.getValue(r+"borderBottom"),l=r+"borderAll";i!==e[l]&&(e[l]=i,n.notifyEvent(e,f.default.operation.change,l))}}}]),e}();t.default=w,w.font={courier:"courier",helvetica:"helvetica",timesRoman:"times_roman"},w.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"}},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,t,r){var a=r(54)("wks"),n=r(36),o=r(15).Symbol,i="function"==typeof o,l=e.exports=function(e){return a[e]||(a[e]=i&&o[e]||(i?o:n)("Symbol."+e))};l.store=a},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(3),h=a(p),f=r(11),m=a(f),b=r(83),g=a(b),v=r(5),y=a(v),_=r(61),w=a(_),I=r(84),C=a(I),D=r(85),S=a(D),k=r(62),P=a(k),x=r(41),E=a(x),$=r(42),T=a($),V=r(63),O=a(V),A=r(12),B=a(A),F=function(e){function t(e,r,a,n,i,d,s){l.default(this,t);var u=c.default(this,(t.__proto__||o.default(t)).call(this));return u.add=e,u.elementType=r,u.initialData=a,u.parentId=i,u.position=d,u.rb=s,u.id=n,u.firstExecution=!0,u}return h.default(t,e),s.default(t,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var r=t.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(r,m.default.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=r.toJS())}}},{key:"deleteElement",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&this.rb.deleteDocElement(e)}}],[{key:"createElement",value:function(e,t,r,a,n,o){var i=void 0,l={draggable:!0};r===y.default.type.text?i=new O.default(e,t,o):r===y.default.type.line?i=new S.default(e,t,o):r===y.default.type.image?i=new C.default(e,t,o):r===y.default.type.pageBreak?i=new P.default(e,t,o):r===y.default.type.table?(i=new T.default(e,t,o),l.hasChildren=!0):r===y.default.type.frame?(i=new w.default(e,t,o),l.hasChildren=!0):r===y.default.type.section?(i=new E.default(e,t,o),l.hasChildren=!0):r===y.default.type.barCode&&(i=new g.default(e,t,o)),o.addDocElement(i);var d=i.getContainer().getPanelItem(),s=new B.default(r,d,i,l,o);return i.setPanelItem(s),d.insertChild(a,s),i.setup(n),i}}]),t}(m.default);t.default=F},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=a(n),i=r(2),l=a(i),d=r(0),s=a(d),u=r(1),c=a(u),p=r(4),h=a(p),f=r(3),m=a(f),b=r(11),g=a(b),v=r(7),y=a(v),_=function(e){function t(e,r){s.default(this,t);var a=h.default(this,(t.__proto__||l.default(t)).call(this));return a.name=e,a.rb=r,a.commands=[],a.selectObjectIds=[],a.selectionCmdIndex=[],a}return m.default(t,e),c.default(t,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var e=this.selectionCmdIndex[this.selectionCmdIndex.length-1],t=0;t<this.commands.length;t++){var r=this.commands[t];r instanceof y.default&&r.setNotifyChange(t>=e)}for(var a=0;a<this.commands.length;a++)this.commands[a].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var e=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,t=this.commands.length-1;t>=0;t--){var r=this.commands[t];r instanceof y.default&&r.setNotifyChange(e>t)}for(var a=this.commands.length-1;a>=0;a--)this.commands[a].undo();this.selectObjects()}},{key:"addCommand",value:function(e){e instanceof y.default&&e.disableSelect(),this.commands.push(e)}},{key:"addSelection",value:function(e){this.selectObjectIds.indexOf(e)===-1&&this.selectObjectIds.push(e),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var e=!0,t=!0,r=!1,a=void 0;try{for(var n,i=o.default(this.selectObjectIds);!(t=(n=i.next()).done);t=!0){var l=n.value;if(!this.rb.isSelectedObject(l)){e=!1;break}}}catch(d){r=!0,a=d}finally{try{!t&&i.return&&i.return()}finally{if(r)throw a}}if(!e){var s=!0,u=!0,c=!1,p=void 0;try{for(var h,f=o.default(this.selectObjectIds);!(u=(h=f.next()).done);u=!0){var m=h.value;this.rb.selectObject(m,s),s=!1}}catch(d){c=!0,p=d}finally{try{!u&&f.return&&f.return()}finally{if(c)throw p}}}}},{key:"allowReplace",value:function(e){if(e instanceof t){var r=e.getCommands();if(this.commands.length===r.length){for(var a=0;a<this.commands.length;a++)if(!this.commands[a].allowReplace(r[a]))return!1;return!0}}return!1}},{key:"replace",value:function(e){for(var t=e.getCommands(),r=0;r<this.commands.length;r++)this.commands[r].replace(t[r])}}]),t}(g.default);t.default=_},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(4),p=n(c),h=r(9),f=n(h),m=r(3),b=n(m),g=r(31),v=n(g),y=r(5),_=n(y),w=r(6),I=a(w),C=function(e){function t(e,r,a,n,o){d.default(this,t);var l=p.default(this,(t.__proto__||i.default(t)).call(this,a,n,o));return l.panelItem=null,l.bandType=e,l.section=r,r||(e===t.bandType.header?(l.id="0_header",l.name=o.getLabel("bandHeader")):e===t.bandType.content?(l.id="0_content",l.name=o.getLabel("bandContent"),l.allowAllElements=!0):e===t.bandType.footer&&(l.id="0_footer",l.name=o.getLabel("bandFooter"))),l.el=null,l}return b.default(t,e),u.default(t,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(e){return e===_.default.type.tableText?!1:(this.bandType===t.bandType.content||e!==_.default.type.pageBreak&&e!==_.default.type.table&&e!==_.default.type.section)&&(!this.section||e!==_.default.type.section)}},{key:"getOffset",value:function(){var e=0;if(this.section){if(this.owner!==null){var r=this.owner.getAbsolutePosition();e=r.y}}else{var a=this.rb.getDocumentProperties();this.bandType===t.bandType.content&&a.getValue("header")?e=I.convertInputToNumber(a.getValue("headerSize")):this.bandType===t.bandType.footer&&(e=this.rb.getDocument().getHeight()-I.convertInputToNumber(a.getValue("footerSize")))}return{x:0,y:e}}},{key:"getSize",value:function(){var e=this.rb.getDocumentProperties(),r=e.getValue("width")-e.getValue("marginLeftVal")-e.getValue("marginRightVal"),a=0;return this.section?this.owner!==null&&(a=this.owner.getValue("heightVal")):this.bandType===t.bandType.header?a=e.getValue("headerSizeVal"):this.bandType===t.bandType.content?a=e.getValue("height")-e.getValue("headerSizeVal")-e.getValue("footerSizeVal")-e.getValue("marginTopVal")-e.getValue("marginBottomVal"):this.bandType===t.bandType.footer&&(a=e.getValue("footerSizeVal")),{width:r,height:a}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(e,r){return this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible()?!1:f.default(t.prototype.__proto__||i.default(t.prototype),"isInside",this).call(this,e,r)}}]),t}(v.default);t.default=C,C.bandType={header:"header",content:"content",footer:"footer"}},function(e,t,r){e.exports=!r(30)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},function(e,t,r){var a=r(25),n=r(67),o=r(57),i=Object.defineProperty;t.f=r(20)?Object.defineProperty:function(e,t,r){if(a(e),t=o(t,!0),a(r),n)try{return i(e,t,r)}catch(l){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var a=r(118),n=r(46);e.exports=function(e){return a(n(e))}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(17),p=n(c),h=r(19),f=n(h),m=r(40);n(m);var b=r(5),g=n(b),v=r(6),y=a(v),_=function(){function e(t,r,a){d.default(this,e),this.rootElement=t,this.rb=a,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.gridVisible=r,this.gridSize=10,this.pdfPreviewExists=!1,this.dragging=!1,this.dragElementType=null,this.dragType=g.default.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainerId=null,this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return u.default(e,[{key:"render",value:function(){var t=this,r=$("#rbro_document_panel").mousedown(function(e){t.rb.isDocElementSelected()&&!e.shiftKey&&t.rb.deselectAll(!0);var r=t.elDocContent.offset();t.startSelectionArea(e.originalEvent.pageX-r.left,e.originalEvent.pageY-r.top)}),a=$('<div id="rbro_document_tabs" class="rbroDocumentTabs"></div>').mousedown(function(e){e.stopPropagation()});a.append($('<div id="rbro_document_tab_pdf_layout" class="rbroDocumentTab rbroButton rbroTabButton">\n               '+this.rb.getLabel("documentTabPdfLayout")+"</div>").click(function(){t.setDocumentTab(e.tab.pdfLayout)}));var n=$('<div id="rbro_document_tab_pdf_preview" class="rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview \n                '+(this.rb.getProperty("enableSpreadsheet")?"rbroXlsxDownload":"")+'">\n                '+this.rb.getLabel("documentTabPdfPreview")+"</div>").click(function(){t.setDocumentTab(e.tab.pdfPreview)});this.rb.getProperty("enableSpreadsheet")&&n.append($('<span class="rbroIcon-xlsx rbroXlsxDownlaodButton" title="'+this.rb.getLabel("documentTabXlsxDownload")+'"></span>').click(function(){t.rb.downloadSpreadsheet()})),n.append($('<span class="rbroIcon-cancel" title="'+this.rb.getLabel("documentTabClose")+'"></span>').click(function(){t.closePdfPreviewTab()})),a.append(n),r.append(a);var o=$('<div id="rbro_document_pdf" class="rbroDocument rbroDragTarget rbroHidden"></div>'),i=this.rb.getDocumentProperties();this.elDocContent=$('<div id="rbro_document_content"\n            class="rbroDocumentContent '+(this.gridVisible?"rbroDocumentGrid":"")+'"></div>'),this.elHeader=$('<div id="rbro_header" class="rbroDocumentBand rbroElementContainer"\n            style="top: 0px; left: 0px;"></div>'),this.elHeader.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandHeader")+"</div>")),this.elDocContent.append(this.elHeader),this.elContent=$('<div id="rbro_content" class="rbroDocumentBand rbroElementContainer"></div>'),this.elContent.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandContent")+"</div>")),this.elDocContent.append(this.elContent),this.elFooter=$('<div id="rbro_footer" class="rbroDocumentBand rbroElementContainer"\n            style="bottom: 0px; left 0px;"></div>'),this.elFooter.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandFooter")+"</div>")),this.elDocContent.append(this.elFooter),o.append(this.elDocContent),this.elSelectionArea=$('<div id="rbro_selection_area" class="rbroHidden rbroSelectionArea"></div>'),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),o.append('<div id="rbro_divider_margin_left" class="rbroDivider rbroDividerMarginLeft"></div>'),o.append('<div id="rbro_divider_margin_top" class="rbroDivider rbroDividerMarginTop"></div>'),o.append('<div id="rbro_divider_margin_right" class="rbroDivider rbroDividerMarginRight"></div>'),o.append('<div id="rbro_divider_margin_bottom" class="rbroDivider rbroDividerMarginBottom"></div>'),o.append('<div id="rbro_divider_header" class="rbroDivider rbroDividerHeader"></div>'),o.append('<div id="rbro_divider_footer" class="rbroDivider rbroDividerFooter"></div>'),r.append(o),r.append($('<div id="rbro_document_pdf_preview" class="rbroDocumentPreview"></div>'));var l=i.getPageSize();this.updatePageSize(l.width,l.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(e.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var e=this;this.elDocContent.on("dragover",function(t){e.processDragover(t)}).on("dragenter",function(t){e.rb.isBrowserDragActive("docElement")&&(e.dragEnterCount++,t.preventDefault())}).on("dragleave",function(){e.rb.isBrowserDragActive("docElement")&&(e.dragEnterCount--,e.dragEnterCount===0&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),e.dragContainerId=null))}).on("drop",function(t){return e.processDrop(t),!1})}},{key:"processMouseMove",value:function(e){if(this.dragging)this.processDrag(e);else if(this.selectionAreaStarted){var t=this.elDocContent.offset(),r=this.getSelectionArea(e.originalEvent.pageX-t.left,e.originalEvent.pageY-t.top),a={left:this.rb.toPixel(r.left),top:this.rb.toPixel(r.top),width:this.rb.toPixel(r.width),height:this.rb.toPixel(r.height)};this.elSelectionArea.css(a),this.elSelectionArea.hasClass("rbroHidden")&&this.elSelectionArea.removeClass("rbroHidden")}}},{key:"processDragover",value:function(e){if(this.rb.isBrowserDragActive("docElement")){var t=v.getEventAbsPos(e),r=null;null!==t&&(r=this.getContainer(t.x,t.y,this.dragElementType),this.dragCurrentX=t.x,this.dragCurrentY=t.y);var a=null!==r?r.getId():null;a!==this.dragContainerId&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),null!==r&&r.dragOver(),this.dragContainerId=a),e.preventDefault(),e.stopPropagation()}}},{key:"processDrop",value:function(e){if(this.rb.isBrowserDragActive("docElement")){var t=v.getEventAbsPos(e);null!==t&&(this.dragCurrentX=t.x,this.dragCurrentY=t.y),$(".rbroElementContainer").removeClass("rbroElementDragOver"),this.rb.getDocumentProperties();for(var r=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType);null!==r&&!r.isElementAllowed(this.dragElementType);)r=r.getParent();if(null!==r&&r.isElementAllowed(this.dragElementType)){var a=this.elDocContent.offset(),n=this.dragCurrentX-a.left,o=this.dragCurrentY-a.top,i=r.getOffset();if(n-=i.x,o-=i.y,!e.ctrlKey&&this.rb.getDocument().isGridVisible()){var l=this.rb.getDocument().getGridSize();n=y.roundValueToInterval(n,l),o=y.roundValueToInterval(o,l)}var d={x:""+n,y:""+o,containerId:r.getId()},s=new p.default(!0,this.dragElementType,d,this.rb.getUniqueId(),r.getId(),-1,this.rb);this.rb.executeCommand(s)}e.preventDefault(),$("#rbro_menu_element_drag_item").addClass("rbroHidden")}}},{key:"processDrag",value:function(e){var t=v.getEventAbsPos(e);if(this.dragType===g.default.dragType.element){var r=this.getContainer(t.x,t.y,this.dragElementType),a=null;null!==r&&(a=r.getId(),a===this.dragLinkedContainerId&&(r=r.getParent(),a=null!==r?r.getId():null)),a!==this.dragCurrentContainerId&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),null!==r&&a!==this.dragContainerId&&r.dragOver()),this.dragCurrentContainerId=a}this.dragCurrentX=t.x,this.dragCurrentY=t.y,this.dragSnapToGrid=!e.ctrlKey;var n=this.rb.getDataObject(this.dragObjectId);if(null!==n){var o=n.getDragDiff(t.x-this.dragStartX,t.y-this.dragStartY,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(o.x,o.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(e,t){$("#rbro_document_pdf").css({width:this.rb.toPixel(e),height:this.rb.toPixel(t)})}},{key:"updatePageMargins",value:function(){var e=this.rb.getDocumentProperties(),t=this.rb.toPixel(y.convertInputToNumber(e.getValue("marginLeft"))-1),r=this.rb.toPixel(y.convertInputToNumber(e.getValue("marginTop"))-1),a=y.convertInputToNumber(e.getValue("marginRight")),n=y.convertInputToNumber(e.getValue("marginBottom")),o=this.rb.toPixel(a),i=this.rb.toPixel(n);$("#rbro_divider_margin_left").css("left",t),$("#rbro_divider_margin_top").css("top",r),0!==a?$("#rbro_divider_margin_right").css("right",o).show():$("#rbro_divider_margin_right").hide(),0!==n?$("#rbro_divider_margin_bottom").css("bottom",i).show():$("#rbro_divider_margin_bottom").hide(),this.elDocContent.css({left:t,top:r,right:o,bottom:i})}},{key:"updateHeader",value:function(){var e=this.rb.getDocumentProperties();if(e.getValue("header")){var t=this.rb.toPixel(e.getValue("headerSize"));this.elHeader.css("height",t),this.elHeader.show(),$("#rbro_divider_header").css("top",this.rb.toPixel(y.convertInputToNumber(e.getValue("marginTop"))+y.convertInputToNumber(e.getValue("headerSize"))-1)),$("#rbro_divider_header").show(),this.elContent.css("top",t)}else this.elHeader.hide(),$("#rbro_divider_header").hide(),this.elContent.css("top",this.rb.toPixel(0))}},{key:"updateFooter",value:function(){var e=this.rb.getDocumentProperties();if(e.getValue("footer")){var t=this.rb.toPixel(e.getValue("footerSize"));this.elFooter.css("height",t),this.elFooter.show(),$("#rbro_divider_footer").css("bottom",this.rb.toPixel(y.convertInputToNumber(e.getValue("marginBottom"))+y.convertInputToNumber(e.getValue("footerSize")))),$("#rbro_divider_footer").show(),this.elContent.css("bottom",t)
}else this.elFooter.hide(),$("#rbro_divider_footer").hide(),this.elContent.css("bottom",this.rb.toPixel(0))}},{key:"setDocumentTab",value:function(t){$("#rbro_document_tabs .rbroDocumentTab").removeClass("rbroActive"),t===e.tab.pdfLayout?($("#rbro_document_tab_pdf_layout").addClass("rbroActive"),$("#rbro_document_pdf").removeClass("rbroHidden"),$("#rbro_document_pdf_preview").css({"z-index":"",height:"0"}),$(".rbroElementButtons .rbroMenuButton").removeClass("rbroDisabled").prop("draggable",!0),$(".rbroActionButtons .rbroActionButton").prop("disabled",!1)):this.pdfPreviewExists&&t===e.tab.pdfPreview&&($("#rbro_document_tab_pdf_preview").addClass("rbroActive"),$("#rbro_document_pdf").addClass("rbroHidden"),$("#rbro_document_pdf_preview").css({"z-index":"1",height:""}),$(".rbroElementButtons .rbroMenuButton").addClass("rbroDisabled").prop("draggable",!1),$(".rbroActionButtons .rbroActionButton").prop("disabled",!0))}},{key:"openPdfPreviewTab",value:function(t){var r='<object data="'+t+'" type="application/pdf" width="100%" height="100%"></object>';this.pdfPreviewExists=!0,$("#rbro_document_pdf_preview").empty(),$("#rbro_document_pdf_preview").append(r),this.setDocumentTab(e.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,$("#rbro_document_pdf_preview").empty(),this.setDocumentTab(e.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var e=1;this.pdfPreviewExists?($("#rbro_document_tab_pdf_preview").removeClass("rbroHidden"),e++):$("#rbro_document_tab_pdf_preview").addClass("rbroHidden"),e>1?($("#rbro_document_tabs").show(),$("#rbro_document_panel").addClass("rbroHasTabs")):($("#rbro_document_tabs").hide(),$("#rbro_document_panel").removeClass("rbroHasTabs"))}},{key:"getContainer",value:function(e,t,r){var a=this.elDocContent.offset();return this.rb.getContainer(e-a.left,t-a.top,r)}},{key:"getContentScrollPosY",value:function(){var e=this.elDocContent.offset(),t=$("#rbro_document_panel").offset();return t.top-e.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.addClass("rbroDocumentGrid"):this.elDocContent.removeClass("rbroDocumentGrid")}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.height()}},{key:"getElement",value:function(e){return e===f.default.bandType.header?this.elHeader:e===f.default.bandType.content?this.elContent:e===f.default.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(e,t,r,a,n,o,i){this.dragging=!0,this.dragStartX=this.dragCurrentX=e,this.dragStartY=this.dragCurrentY=t,this.dragElementType=o,this.dragType=i,this.dragObjectId=r,this.dragContainerId=a,this.dragLinkedContainerId=n,this.dragCurrentContainerId=null,this.dragSnapToGrid=!1}},{key:"stopDrag",value:function(){var e=this.dragCurrentX-this.dragStartX,t=this.dragCurrentY-this.dragStartY,r=this.rb.getDataObject(this.dragObjectId);if(null===r||0===e&&0===t)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var a=null;this.dragType===g.default.dragType.element&&(a=this.rb.getDataObject(this.dragCurrentContainerId));var n=this.rb.getSelectedObjects();if(n.length>1&&null!==a){var o=!0,l=!1,d=void 0;try{for(var s,u=i.default(n);!(o=(s=u.next()).done);o=!0){var c=s.value;if(c.getContainerId()!==a.getId()){a=null;break}}}catch(p){l=!0,d=p}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}}var h=r.getDragDiff(e,t,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(h.x,h.y,this.dragType,a,!0)}this.dragging=!1,this.dragType=g.default.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null,$(".rbroElementContainer").removeClass("rbroElementDragOver")}},{key:"startBrowserDrag",value:function(e){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainerId=null,this.dragElementType=e,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(e,t){this.selectionAreaStarted=!0,this.selectionAreaStartX=e,this.selectionAreaStartY=t}},{key:"stopSelectionArea",value:function(e,t,r){var a=this.getSelectionArea(e,t);if(a.width>10&&a.height>10){var n=this.rb.getDocElements(!0),o=!0,l=!1,d=void 0;try{for(var s,u=i.default(n);!(o=(s=u.next()).done);o=!0){var c=s.value;if(c.isDraggingAllowed()){var p=c.getAbsolutePosition();if(a.left<p.x+c.getValue("widthVal")&&a.left+a.width>=p.x&&a.top<p.y+c.getValue("heightVal")&&a.top+a.height>=p.y){var h=!0;if(c.getContainerId()){var f=c.getContainer();null!==f&&f.isSelected()&&(h=!1)}h&&(this.rb.selectObject(c.getId(),r),r=!1)}}}}catch(m){l=!0,d=m}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.addClass("rbroHidden")}},{key:"getSelectionArea",value:function(e,t){var r={};return e>this.selectionAreaStartX?(r.left=this.selectionAreaStartX,r.width=e-this.selectionAreaStartX):(r.left=e,r.width=this.selectionAreaStartX-e),t>this.selectionAreaStartY?(r.top=this.selectionAreaStartY,r.height=t-this.selectionAreaStartY):(r.top=t,r.height=this.selectionAreaStartY-t),r}},{key:"mouseUp",value:function(e){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var t=this.elDocContent.offset();this.stopSelectionArea(e.originalEvent.pageX-t.left,e.originalEvent.pageY-t.top,!e.shiftKey)}}}]),e}();t.default=_,_.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"}},function(e,t,r){var a=r(28);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var a=r(15),n=r(10),o=r(65),i=r(27),l=r(21),d="prototype",s=function(e,t,r){var u,c,p,h=e&s.F,f=e&s.G,m=e&s.S,b=e&s.P,g=e&s.B,v=e&s.W,y=f?n:n[t]||(n[t]={}),_=y[d],w=f?a:m?a[t]:(a[t]||{})[d];f&&(r=t);for(u in r)c=!h&&w&&w[u]!==void 0,c&&l(y,u)||(p=c?w[u]:r[u],y[u]=f&&typeof w[u]!="function"?r[u]:g&&c?o(p,a):v&&w[u]==p?function(e){var t=function(t,r,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,a)}return e.apply(this,arguments)};return t[d]=e[d],t}(p):b&&"function"==typeof p?o(Function.call,p):p,b&&((y.virtual||(y.virtual={}))[u]=p,e&s.R&&_&&!_[u]&&i(_,u,p)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,r){var a=r(22),n=r(35);e.exports=r(20)?function(e,t,r){return a.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports={"default":r(104),__esModule:!0}},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(t,r,a){o.default(this,e),this.rb=a,this.id=t,this.panelItem=null,this.name=r,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return l.default(e,[{key:"init",value:function(e){this.owner=e,this.el=e.getElement(),this.elContent=e.getContentElement(),this.panelItem=e.getPanelItem(),this.parent=e.getContainer(),this.level=0;for(var t=this.parent;null!==t;)this.level++,t=t.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(e){this.elContent!==null&&this.elContent.append(e)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){for(this.parent=e,this.level=0;null!==e;)this.level++,e=e.getParent()}},{key:"isSelected",value:function(){return this.owner!==null&&this.rb.isSelectedObject(this.owner.getId())?!0:!1}},{key:"isElementAllowed",value:function(){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.addClass("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(e){if(null!==e&&e!=this){var t=this.getOffset(),r=e.getOffset();return{x:t.x-r.x,y:t.y-r.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(e,t){var r=this.getOffset(),a=this.getSize();return e-=r.x,t-=r.y,e>=0&&t>=0&&e<a.width&&t<a.height?!0:!1}},{key:"clearErrors",value:function(){}}]),e}();t.default=d},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(11),c=a(u),p=r(7),h=a(p),f=function(){function e(t,r,a,n){l.default(this,e),this.idPrefix=t,this.dataBaseClass=r,this.panelId=t+"_panel",this.rootElement=a,this.rb=n,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles")}return s.default(e,[{key:"render",value:function(){}},{key:"setValue",value:function(e,t,r){var a="#"+this.idPrefix+"_"+e.fieldId;r?$(a).addClass("rbroDifferentValues"):$(a).removeClass("rbroDifferentValues"),e.type===h.default.type.text?r?($(a).val(""),$(a).attr("placeholder",this.differentValuesLabel)):($(a).val(t),$(a).attr("placeholder","")):e.type===h.default.type.select?$(a).val(t):e.type===h.default.type.checkbox?r?$(a).prop("checked",!1):$(a).prop("checked",t):e.type===h.default.type.button?r?$(a).removeClass("rbroButtonActive"):t?$(a).addClass("rbroButtonActive"):$(a).removeClass("rbroButtonActive"):e.type===h.default.type.buttonGroup?($(a).find("button").removeClass("rbroButtonActive"),r||$(a).find('button[value="'+t+'"]').addClass("rbroButtonActive")):e.type===h.default.type.color?r?e.allowEmpty?$(a).spectrum("set",""):$(a).spectrum("set","#000000"):$(a).spectrum("set",t):e.type===h.default.type.filename&&(r?($(a).text(this.differentFilesLabel),$(a+"_container").removeClass("rbroHidden")):($(a).text(t),""===t?$(a+"_container").addClass("rbroHidden"):$(a+"_container").removeClass("rbroHidden")))}},{key:"updateDisplay",value:function(){}},{key:"show",value:function(){$("#"+this.panelId).removeClass("rbroHidden")}},{key:"hide",value:function(){$("#"+this.panelId).addClass("rbroHidden")}},{key:"notifyEvent",value:function(e,t,r){e instanceof this.dataBaseClass&&this.rb.isSelectedObject(e.id)&&t===c.default.operation.change&&this.updateDisplay(r)}},{key:"updateErrors",value:function(){$("#"+this.panelId+" .rbroFormRow").removeClass("rbroError"),$("#"+this.panelId+" .rbroErrorMessage").text("");var e=this.rb.getSelectedObject();if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,i=o.default(e.getErrors());!(t=(n=i.next()).done);t=!0){var l=n.value,d=this.propertyDescriptors[l.field];if(d){if("section"in d){var s=d.section;$("#"+this.idPrefix+"_"+s+"_header").addClass("rbroError")}var u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info.replace("<","&lt;").replace(">","&gt;")+"</span>"));var c=this.getRowId(d);$("#"+c).addClass("rbroError");var p=void 0;p="errorMsgId"in d?d.errorMsgId:this.idPrefix+"_"+d.fieldId+"_error",$("#"+p).html(u)}}}catch(h){r=!0,a=h}finally{try{!t&&i.return&&i.return()}finally{if(r)throw a}}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"scrollToFirstError",value:function(){var e=this.rb.getSelectedObject();if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,i=o.default(e.getErrors());!(t=(n=i.next()).done);t=!0){var l=n.value,d=this.propertyDescriptors[l.field];if(d&&"section"in d){var s=d.section;$("#"+this.idPrefix+"_"+s+"_header").hasClass("rbroPanelSectionHeaderOpen")||$("#"+this.idPrefix+"_"+s+"_header").trigger("click")}}}catch(u){r=!0,a=u}finally{try{!t&&i.return&&i.return()}finally{if(r)throw a}}var c="",p=-1,h=!0,f=!1,m=void 0;try{for(var b,g=o.default(e.getErrors());!(h=(b=g.next()).done);h=!0){var v=b.value,y=this.propertyDescriptors[v.field];if(y){var _=this.getRowId(y),w=document.getElementById(_),I=w.offsetTop;(""===c||p>I)&&(c=_,p=I)}}}catch(u){f=!0,m=u}finally{try{!h&&g.return&&g.return()}finally{if(f)throw m}}""!==c&&$("#rbro_detail_panel").scrollTop(p)}}},{key:"getRowId",value:function(e){var t=void 0;return t="rowId"in e?e.rowId:this.idPrefix+"_"+e.fieldId+"_row"}}]),e}();t.default=f},function(e){e.exports={}},function(e){e.exports=!0},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),i=n(o),l=r(8),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(7),f=n(h),m=r(13),b=n(m),g=r(6),v=a(g),y=function(){function e(t,r){u.default(this,e),this.rootElement=t,this.rb=r,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.type=null,this.parameters=null,this.visible=!1,this.items=null}return p.default(e,[{key:"render",value:function(){var e=this;this.elWindow=$('<div class="rbroPopupWindow rbroHidden"></div>'),this.elContent=$('<div class="rbroPopupWindowContent"></div>').mouseup(function(e){e.stopPropagation()}),this.elWindow.append(this.elContent);var t=$('<div class="rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"></div>').click(function(){e.hide()});this.elWindow.append(t),$("body").append(this.elWindow)}},{key:"show",value:function(t,r,a,n,o){var i=this,l=$(window).width(),s=$(window).height(),u=null;if(this.input=""!==a?$("#"+a):null,this.objId=r,this.type=o,this.items=t,this.elContent.empty(),$("#rbro_background_overlay").remove(),o===e.type.testData){this.parameters=t[0],t.splice(0,1),this.createTestDataTable(t);var c=Math.round(.8*l),p=Math.round(.8*s);this.elWindow.css({left:Math.round((l-c)/2)+"px",top:Math.round((s-p)/2)+$(window).scrollTop()+"px",width:c+"px",height:p+"px"}),$("body").append($('<div id="rbro_background_overlay" class="rbroBackgroundOverlay"></div>')),$("body").addClass("rbroFixedBackground")}else{(o===e.type.parameterSet||o===e.type.parameterAppend)&&(u=$('<input class="rbroPopupSearch" placeholder="'+this.rb.getLabel("parameterSearchPlaceholder")+'">').on("input",function(){i.filterParameters(u.val())}),this.elContent.append(u));var h=$("<ul></ul>").mousedown(function(e){e.preventDefault()}),f=!0,m=!1,b=void 0;try{for(var g,y=function(){var t=g.value,r=$("<li></li>");if(t.separator){o!==e.type.parameterSet&&o!==e.type.parameterAppend||!t.id||r.attr("id","parameter_group_"+t.id);var a="rbroPopupItemSeparator";t.separatorClass&&(a+=" "+t.separatorClass),r.attr("class",a)}else o!==e.type.parameterSet&&o!==e.type.parameterAppend||!t.id||r.attr("id","parameter_"+t.id),r.mousedown(function(r){if(o===e.type.pattern)i.input.val(t.name),i.input.trigger("input"),i.hide();else if(o===e.type.parameterSet){var a="${"+t.name+"}";i.input.val(a),i.input.trigger("input"),autosize.update(i.input),i.hide()}else if(o===e.type.parameterAppend){var n="${"+t.name+"}";v.insertAtCaret(i.input.get(0),n),autosize.update(i.input),i.input.trigger("input"),i.hide()}r.preventDefault()});r.append('<div class="rbroPopupItemHeader">'+t.name+"</div>"),t.description&&t.description!==""&&r.append('<div class="rbroPopupItemDescription">'+t.description+"</div>"),h.append(r)},_=d.default(t);!(f=(g=_.next()).done);f=!0)y()}catch(w){m=!0,b=w}finally{try{!f&&_.return&&_.return()}finally{if(m)throw b}}this.elContent.append(h);var I=this.input.offset(),C=I.top;s/2>C||300>C?C+this.input.height()+300<s&&(C+=this.input.height()):C-=300,this.elWindow.css({left:I.left+"px",top:C+"px",width:"400px",height:"300px"})}this.elWindow.removeClass("rbroHidden"),this.visible=!0,null!==u&&u.focus()}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===e.type.testData){var t=this.getTestData(null,-1),r=this.rb.getDataObject(this.objId),a=i.default(t);if(null!==r&&r.getValue("testData")!==a){var n=new f.default(this.objId,"testData",a,f.default.type.text,this.rb);this.rb.executeCommand(n)}$("#rbro_background_overlay").remove()}this.elWindow.addClass("rbroHidden"),this.elContent.empty(),$("body").removeClass("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"addTestDataRow",value:function(e,t,r){var a=$("<tr></tr>");a.append($("<td></td>").append($('<div class="rbroButton rbroDeleteButton rbroIcon-cancel"></div>').click(function(e){$(e.target).parent().parent().remove()})));var n=!0,o=!1,i=void 0;try{for(var l,s=d.default(t);!(n=(l=s.next()).done);n=!0){var u=l.value;if(u.allowMultiple&&u.arraySize>0){var c=null;null!==r&&u.name in r&&(c=r[u.name]);for(var p=0;p<u.arraySize;p++){var h="";Array.isArray(c)&&p<c.length&&(h=c[p]),this.appendColumn(a,u,h)}}else{var f="";if(null!==r&&u.name in r&&(f=r[u.name]),u.allowMultiple&&u.arraySize>0&&Array.isArray(f)){var m=!0,b=!1,g=void 0;try{for(var v,y=d.default(f);!(m=(v=y.next()).done);m=!0){var _=v.value;this.appendColumn(a,u,_)}}catch(w){b=!0,g=w}finally{try{!m&&y.return&&y.return()}finally{if(b)throw g}}}else this.appendColumn(a,u,f)}}}catch(w){o=!0,i=w}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}e.append(a)}},{key:"appendColumn",value:function(e,t,r){var a=$('<input type="text" value="'+r+'">').focus(function(){a.parent().addClass("rbroHasFocus")}).blur(function(){a.parent().removeClass("rbroHasFocus")});t.type===b.default.type.number?v.setInputDecimal(a):t.type===b.default.type.date&&a.attr("placeholder",this.rb.getLabel("parameterTestDataDatePattern")),e.append($("<td></td>").append(a))}},{key:"getTestData",value:function(e,t){var r=[],a=this.elContent.find("tbody").find("tr"),n=!0,o=!1,i=void 0;try{for(var l,s=d.default(a);!(n=(l=s.next()).done);n=!0){var u=l.value,c=$(u).find("input"),p={},h=0,f=!0,m=!1,b=void 0;try{for(var g,v=d.default(this.parameters);!(f=(g=v.next()).done);f=!0){var y=g.value;if(y.allowMultiple&&y.arraySize>0){for(var _=[],w=0;w<y.arraySize;w++){var I=c.eq(h);(y!==e||w!==t)&&_.push(I.val().trim()),h++}p[y.name]=_}else{var C=c.eq(h);p[y.name]=C.val().trim(),h++}}}catch(D){m=!0,b=D}finally{try{!f&&v.return&&v.return()}finally{if(m)throw b}}r.push(p)}}catch(D){o=!0,i=D}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}},{key:"createTestDataTable",value:function(e){var t=this,r=$("<div></div>"),a=$("<table></table>"),n=$("<tr></tr>"),o=$("<tbody></tbody>"),i=void 0;n.append("<th></th>");var l=!0,s=!1,u=void 0;try{for(var c,p=function(){var e=c.value;if(e.allowMultiple)for(var r=function(r){var a=$("<th></th>");a.append($("<span>"+e.name+" "+(r+1)+"</span>")),0===r?a.append($('<div class="rbroButton rbroRoundButton rbroIcon-plus"></div>').click(function(){var r=t.getTestData(null,-1);e.arraySize++,t.createTestDataTable(r)})):a.append($('<div class="rbroButton rbroRoundButton rbroIcon-minus"></div>').click(function(){var a=t.getTestData(e,r);e.arraySize--,t.createTestDataTable(a)})),n.append(a)},a=0;a<e.arraySize;a++)r(a);else n.append("<th>"+e.name+"</th>")},h=d.default(this.parameters);!(l=(c=h.next()).done);l=!0)p()}catch(f){s=!0,u=f}finally{try{!l&&h.return&&h.return()}finally{if(s)throw u}}for(a.append($("<thead></thead>").append(n)),e.length===0&&this.addTestDataRow(o,this.parameters,null),i=0;i<e.length;i++)this.addTestDataRow(o,this.parameters,e[i]);a.append(o),r.append(a),r.append($('<div class="rbroFullWidthButton"><div class="rbroButton rbroPopupWindowButton">'+this.rb.getLabel("parameterAddTestData")+"</div></div>").click(function(){t.addTestDataRow(o,t.parameters,null)})),this.elContent.empty().append(r)}},{key:"filterParameters",value:function(e){var t=null,r=0;if(this.items!==null){e=e.toLowerCase();var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(this.items);!(a=(i=l.next()).done);a=!0){var s=i.value;s.separator?(null!==t&&(r>0?$("#parameter_group_"+t).show():$("#parameter_group_"+t).hide()),t=s.id?s.id:null,r=0):s.nameLowerCase.indexOf(e)!==-1?($("#parameter_"+s.id).show(),-1!==t&&r++):$("#parameter_"+s.id).hide()}}catch(u){n=!0,o=u}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}null!==t&&(r>0?$("#parameter_group_"+t).show():$("#parameter_group_"+t).hide())}}}]),e}();t.default=y,y.type={parameterSet:0,parameterAppend:1,pattern:2,testData:3}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(3),h=a(p),f=r(11),m=a(f),b=r(13),g=a(b),v=r(12),y=a(v),_=function(e){function t(e,r,a,n,i,d){l.default(this,t);var s=c.default(this,(t.__proto__||o.default(t)).call(this));return s.add=e,s.initialData=r,s.parentId=n,s.position=i,s.rb=d,s.id=a,s.showDelete=!0,s}return h.default(t,e),s.default(t,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(e){this.showDelete=e}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=new g.default(this.id,this.initialData,this.rb);this.rb.addParameter(t);var r=new y.default("parameter",e.getPanelItem(),t,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);r.openParentItems(),t.setPanelItem(r),e.getPanelItem().insertChild(this.position,r),t.setup(),this.rb.notifyEvent(t,m.default.operation.add)}}},{key:"deleteParameter",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.initialData=e.toJS(),this.rb.deleteParameter(e))}}]),t}(m.default);t.default=_},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(3),h=a(p),f=r(11),m=a(f),b=r(14),g=a(b),v=r(12),y=a(v),_=function(e){function t(e,r,a,n,i,d){l.default(this,t);var s=c.default(this,(t.__proto__||o.default(t)).call(this));return s.add=e,s.initialData=r,s.parentId=n,s.position=i,s.rb=d,s.id=a,s}return h.default(t,e),s.default(t,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=new g.default(this.id,this.initialData,this.rb),r=new y.default("style",e.getPanelItem(),t,{draggable:!0},this.rb);r.openParentItems(),t.setPanelItem(r),e.getPanelItem().insertChild(this.position,r),this.rb.addStyle(t)}}},{key:"deleteStyle",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.initialData=e.toJS(),this.rb.deleteStyle(e))}}]),t}(m.default);t.default=_},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(41),p=n(c),h=r(6),f=a(h),m=function(){function e(t){d.default(this,e),this.rb=t,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=e.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=e.unit.mm,this.orientation=e.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=e.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=e.display.always,this.headerSizeVal=this.header?f.convertInputToNumber(this.headerSize):0,this.footerSizeVal=this.footer?f.convertInputToNumber(this.footerSize):0,this.patternLocale=t.getProperty("patternLocale"),this.patternCurrencySymbol=t.getProperty("patternCurrencySymbol"),this.width=0,this.height=0}return u.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.headerSizeVal=this.header?f.convertInputToNumber(this.headerSize):0,this.footerSizeVal=this.footer?f.convertInputToNumber(this.footerSize):0,this.marginLeftVal=f.convertInputToNumber(this.marginLeft),this.marginTopVal=f.convertInputToNumber(this.marginTop),this.marginRightVal=f.convertInputToNumber(this.marginRight),this.marginBottomVal=f.convertInputToNumber(this.marginBottom)}},{key:"setup",value:function(){var e=this.getPageSize();this.updatePageSize(e),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){if(this[e]=t,"marginLeft"===e||"marginTop"===e||"marginRight"===e||"marginBottom"===e?(this[e+"Val"]=f.convertInputToNumber(t),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):"header"===e?this.updateHeader():"footer"===e&&this.updateFooter(),("header"===e||"headerSize"===e)&&(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?f.convertInputToNumber(this.headerSize):0),("footer"===e||"footerSize"===e)&&(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?f.convertInputToNumber(this.footerSize):0),"pageFormat"===e||"pageWidth"===e||"pageHeight"===e||"unit"===e||"orientation"===e||"contentHeight"===e||"marginTop"===e||"marginBottom"===e){var r=this.getPageSize();this.updatePageSize(r)}}},{key:"updatePageSize",value:function(e){this.width=e.width,this.height=e.height,this.rb.getDocument().updatePageSize(e.width,e.height);var t=this.rb.getDocElements(!0),r=!0,a=!1,n=void 0;try{for(var o,l=i.default(t);!(r=(o=l.next()).done);r=!0){var d=o.value;d instanceof p.default&&d.setWidth(e.width)}}catch(s){a=!0,n=s}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var t=void 0,r=void 0,a=void 0,n=72;return this.pageFormat===e.pageFormat.A4?(this.orientation===e.orientation.portrait?(t=210,r=297):(t=297,r=210),a=e.unit.mm):this.pageFormat===e.pageFormat.A5?(this.orientation===e.orientation.portrait?(t=148,r=210):(t=210,r=148),a=e.unit.mm):this.pageFormat===e.pageFormat.letter?(this.orientation===e.orientation.portrait?(t=8.5,r=11):(t=11,r=8.5),a=e.unit.inch):(t=f.convertInputToNumber(this.pageWidth),r=f.convertInputToNumber(this.pageHeight),a=this.unit),a===e.unit.mm?(t=Math.round(n*t/25.4),r=Math.round(n*r/25.4)):(t=Math.round(n*t),r=Math.round(n*r)),this.contentHeight.trim()!==""&&(r=f.convertInputToNumber(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:t,height:r}}},{key:"getContentSize",value:function(){var e=this.getPageSize(),t=void 0;return t=this.contentHeight.trim()!==""?f.convertInputToNumber(this.contentHeight):e.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:e.width-this.marginLeftVal-this.marginRightVal,height:t}}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.getFields());!(t=(n=o.next()).done);t=!0){var l=n.value;e[l]=this.getValue(l)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}}]),e}();t.default=m,m.outputFormat={pdf:"pdf",xlsx:"xlsx"},m.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},m.unit={mm:"mm",inch:"inch"},m.orientation={portrait:"portrait",landscape:"landscape"},m.display={always:"always",notOnFirstPage:"not_on_first_page"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(9),h=a(p),f=r(3),m=a(f),b=r(5),g=a(b),v=r(86),y=a(v),_=r(19),w=a(_),I=r(13),C=a(I),D=r(12),S=a(D),k=function(e){function t(e,r,a){l.default(this,t);var n=c.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementSection"),e,-1,60,a));return n.setupComplete=!1,n.dataSource="",n.label="",n.header=!1,n.footer=!1,n.headerData=null,n.contentData=null,n.footerData=null,n.setInitialData(r),n}return m.default(t,e),s.default(t,[{key:"setup",value:function(e){h.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(w.default.bandType.header,null),this.contentData=this.createBand(w.default.bandType.content,null),this.footerData=this.createBand(w.default.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t){var r=void 0,a=e+"Data",n=void 0,o={hasChildren:!0,showDelete:!1};t?r=t:this[a]?(r=this[a],n=r.id):r={},r.parentId=this.id,r.containerId=this.containerId,n||(n=this.rb.getUniqueId());var i=0;e===w.default.bandType.header?r.y=""+i:e===w.default.bandType.content?(this.header&&this.headerData!==null&&(i+=this.headerData.getValue("heightVal")),r.y=""+i):e===w.default.bandType.footer&&(this.header&&this.headerData!==null&&(i+=this.headerData.getValue("heightVal")),this.contentData!==null&&(i+=this.contentData.getValue("heightVal")),r.y=""+i),(e===w.default.bandType.header&&!this.header||e===w.default.bandType.footer&&!this.footer)&&(o.visible=!1);var l=new y.default(n,r,e,this.rb);this.rb.addDataObject(l);var d=new S.default("section_band",this.panelItem,l,o,this.rb);return l.setPanelItem(d),this.panelItem.appendChild(d),l.setup(),e===w.default.bandType.header?l.show(this.header):e===w.default.bandType.footer&&l.show(this.footer),l}},{key:"registerEventHandlers",value:function(){h.default(t.prototype.__proto__||o.default(t.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var e=this.id;return this.footerData!==null&&(e=this.footerData.getMaxId()),e
}},{key:"appendContainerChildren",value:function(e){this.headerData!==null&&this.headerData.appendContainerChildren(e),this.contentData!==null&&this.contentData.appendContainerChildren(e),this.footerData!==null&&this.footerData.appendContainerChildren(e)}},{key:"setValue",value:function(e,r){h.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r),"label"===e||"dataSource"===e?this.updateName():"header"===e?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):"footer"===e?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):"containerId"===e&&(this.headerData.containerId=r,this.contentData.containerId=r,this.footerData.containerId=r),("header"===e||"footer"===e)&&this.updateBands(null)}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={top:this.rb.toPixel(t),width:"100%",height:this.rb.toPixel(a)};this.el.css(n)}}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return g.default.type.section}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroSectionElement"></div>'),this.el.append($('<div id="rbro_divider_section_top'+this.id+'" class="rbroDivider rbroDividerSection" style="top: 0px"></div>')),this.el.append($('<div id="rbro_divider_section_header'+this.id+'" class="rbroDivider rbroDividerSectionBand rbroHidden"></div>')),this.el.append($('<div id="rbro_divider_section_footer'+this.id+'" class="rbroDivider rbroDividerSectionBand rbroHidden"></div>')),this.el.append($('<div id="rbro_divider_section_bottom'+this.id+'" class="rbroDivider rbroDividerSection"></div>')),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){h.default(t.prototype.__proto__||o.default(t.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"setWidth",value:function(e){this.widthVal=e,this.width=""+e,this.headerData!==null&&(this.headerData.widthVal=e,this.headerData.width=""+e),this.contentData!==null&&(this.contentData.widthVal=e,this.contentData.width=""+e),this.footerData!==null&&(this.footerData.widthVal=e,this.footerData.width=""+e)}},{key:"updateHeight",value:function(e,t){var r=0;this.header&&this.headerData!==null?(r+=e===this.headerData?t:this.headerData.getValue("heightVal"),$("#rbro_divider_section_header"+this.id).css({top:this.rb.toPixel(r)}).removeClass("rbroHidden")):$("#rbro_divider_section_header"+this.id).addClass("rbroHidden"),this.contentData!==null&&(r+=e===this.contentData?t:this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?($("#rbro_divider_section_footer"+this.id).css({top:this.rb.toPixel(r)}).removeClass("rbroHidden"),r+=e===this.footerData?t:this.footerData.getValue("heightVal")):$("#rbro_divider_section_footer"+this.id).addClass("rbroHidden"),$("#rbro_divider_section_bottom"+this.id).css({top:this.rb.toPixel(r)}),this.height=""+r,this.heightVal=r,this.updateDisplay()}},{key:"updateBands",value:function(e){if(this.setupComplete){var t=0;this.header&&(this.headerData!==e&&this.headerData.setValue("y",""+t),t+=this.headerData.getValue("heightVal")),this.contentData!==e&&this.contentData.setValue("y",""+t),t+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==e&&this.footerData.setValue("y",""+t)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var e=[],t=void 0,r=["headerData","contentData","footerData"],a=0;a<r.length;a++){var n=r[a];this[n]!==null&&(t=this[n].getLinkedContainer(),null!==t&&e.push(t))}return e}},{key:"getDataSource",value:function(){var e=[],t=this.dataSource.trim(),r="";if(t.length>=3&&t.substr(0,2)==="${"&&t.charAt(t.length-1)==="}"){r=t.substring(2,t.length-1);var a=this.rb.getParameterByName(r);null!==a&&a.getValue("type")===C.default.type.array&&(e=a.getChildren())}return{name:r,parameters:e}}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"dataSource",r),this.addCommandForChangedParameterName(e,t,"printIf",r)}},{key:"toJS",value:function(){var e=h.default(t.prototype.__proto__||o.default(t.prototype),"toJS",this).call(this);return e.headerData=this.headerData.toJS(),e.contentData=this.contentData.toJS(),e.footerData=this.footerData.toJS(),e}}]),t}(g.default);t.default=k},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(2),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(4),f=n(h),m=r(9),b=n(m),g=r(3),v=n(g),y=r(5),_=n(y),w=r(87),I=n(w),C=r(17),D=n(C),S=r(13),k=n(S),P=r(12),x=n(P),E=r(6),T=a(E),V=function(e){function t(e,r,a){u.default(this,t);var n=f.default(this,(t.__proto__||d.default(t)).call(this,a.getLabel("docElementTable"),e,200,40,a));return n.setupComplete=!1,n.dataSource="",n.borderColor="#000000",n.borderWidth="1",n.border=t.border.grid,n.header=!0,n.footer=!1,n.contentRows="1",n.columns="2",n.headerData=null,n.contentDataRows=[],n.footerData=null,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.borderWidthVal=T.convertInputToNumber(n.borderWidth),n}return v.default(t,e),p.default(t,[{key:"setup",value:function(e){b.default(t.prototype.__proto__||d.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var r=T.convertInputToNumber(this.contentRows);1>r&&(r=1);for(var a=[],n=0;r>n;n++)a.push(this.createBand("content",n,null));this.contentDataRows=a,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t,r){var a=void 0,n=e+("content"===e?"DataRows":"Data"),o=void 0,i={hasChildren:!0,showDelete:!1};r?a=r:this[n]&&("content"!==e||-1!==t&&t<this[n].length)?(a="content"===e?this[n][t]:this[n],o=a.id):a={},a.parentId=this.id,o||(o=this.rb.getUniqueId()),("header"===e&&!this.header||"footer"===e&&!this.footer)&&(i.visible=!1);var l=new I.default(o,a,e,this.rb);this.rb.addDataObject(l);var d=new x.default("table_band",this.panelItem,l,i,this.rb);l.setPanelItem(d),this.panelItem.appendChild(d),l.setup();var s=T.convertInputToNumber(this.columns);return l.createColumns(s,!1,-1,!1),d.open(),"header"===e?l.show(this.header):"footer"===e&&l.show(this.footer),l}},{key:"getMaxId",value:function(){var e=this.id,t=void 0;t=this.headerData.getMaxId(),t>e&&(e=t);for(var r=0;r<this.contentDataRows.length;r++)t=this.contentDataRows[r].getMaxId(),t>e&&(e=t);return t=this.footerData.getMaxId(),t>e&&(e=t),e}},{key:"setValue",value:function(e,r){b.default(t.prototype.__proto__||d.default(t.prototype),"setValue",this).call(this,e,r),"dataSource"===e?this.updateName():"header"===e?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):"footer"===e?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):e.indexOf("border")!==-1&&("borderWidth"===e&&(this.borderWidthVal=T.convertInputToNumber(r)),this.updateStyle()),("header"===e||"footer"===e||"contentRows"===e)&&this.updateHeight()}},{key:"updateDisplayInternal",value:function(e,t){if(this.el!==null){var r={left:this.rb.toPixel(e),top:this.rb.toPixel(t)};this.el.css(r)}}},{key:"updateStyle",value:function(){var e=this.el.find("table"),r=void 0;this.border===t.border.grid||this.border===t.border.frameRow||this.border===t.border.frame?e.css({"border-style":"solid","border-width":this.borderWidthVal+"px","border-color":this.borderColor}):e.css({"border-style":"none"});var a=void 0;for(a=this.border===t.border.grid||this.border===t.border.frameRow||this.border===t.border.row?{"border-style":"solid none solid none","border-width":this.borderWidthVal+"px","border-color":this.borderColor}:{"border-style":"none"},this.headerData.getElement().css(a),r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].getElement().css(a);for(this.footerData.getElement().css(a),a=this.border===t.border.grid?{"border-style":"none solid none solid","border-width":this.borderWidthVal+"px","border-color":this.borderColor}:{"border-style":"none"},this.headerData.getElement().find("td").css(a),r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].getElement().find("td").css(a);this.footerData.getElement().find("td").css(a),this.el.removeClass("rbroBorderTableGrid rbroBorderTableFrameRow rbroBorderTableFrame rbroBorderTableRow rbroBorderTableNone"),this.el.addClass("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","width"),e}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return _.default.type.table}},{key:"select",value:function(){b.default(t.prototype.__proto__||d.default(t.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),r=["NE","SE","SW","NW"],a=0;a<r.length;a++){var n=r[a];e.append($('<div class="rbroSizer rbroSizer'+n+' rbroSizerMove"></div>'))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<div class="rbroDocElement rbroTableElement">\n                <table id="rbro_el_table'+this.id+'">\n                    <thead id="rbro_el_table_header'+this.id+'">\n                    </thead>\n                    <tbody id="rbro_el_table_content'+this.id+'">\n                    </tbody>\n                    <tfoot id="rbro_el_table_footer'+this.id+'">\n                    </tfoot>\n                </table>\n            </div>'),this.appendToContainer(),this.registerEventHandlers(),$("#rbro_el_table"+this.id).css("width",this.widthVal+1+"px")}},{key:"remove",value:function(){b.default(t.prototype.__proto__||d.default(t.prototype),"remove",this).call(this),this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var e=0;e<this.contentDataRows.length;e++)this.rb.deleteDataObject(this.contentDataRows[e]),this.contentDataRows[e].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null}},{key:"updateColumnWidth",value:function(e,t){if(this.setupComplete){this.headerData.updateColumnWidth(e,t);for(var r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].updateColumnWidth(e,t);this.footerData.updateColumnWidth(e,t)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var e=0;e<this.contentDataRows.length;e++)this.contentDataRows[e].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var e=0;this.header&&(e+=this.headerData.getHeight());for(var t=0;t<this.contentDataRows.length;t++)e+=this.contentDataRows[t].getHeight();this.footer&&(e+=this.footerData.getHeight()),this.height=""+e,this.heightVal=e}}},{key:"notifyColumnWidthResized",value:function(e,t,r,a){if(this.setupComplete){e!==this.headerData&&this.headerData.notifyColumnWidthResized(t,r);for(var n=0;n<this.contentDataRows.length;n++)e!==this.contentDataRows[n]&&this.contentDataRows[n].notifyColumnWidthResized(t,r);e!==this.footerData&&this.footerData.notifyColumnWidthResized(t,r),this.width=""+a,this.widthVal=a,$("#rbro_el_table"+this.id).css("width",a+1+"px")}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"getDataSource",value:function(){var e=[],t=this.dataSource.trim(),r="";if(t.length>=3&&t.substr(0,2)==="${"&&t.charAt(t.length-1)==="}"){r=t.substring(2,t.length-1);var a=this.rb.getParameterByName(r);null!==a&&a.getValue("type")===k.default.type.array&&(e=a.getChildren())}return{name:r,parameters:e}}},{key:"getContentRowIndex",value:function(e){for(var t=0;t<this.contentDataRows.length;t++)if(e===this.contentDataRows[t])return t;return-1}},{key:"addChildren",value:function(e){var t=void 0;for(e.push(this.headerData),t=0;t<this.contentDataRows.length;t++)e.push(this.contentDataRows[t]);for(e.push(this.footerData),this.headerData.addChildren(e),t=0;t<this.contentDataRows.length;t++)this.contentDataRows[t].addChildren(e);this.footerData.addChildren(e)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"dataSource",r)}},{key:"createSpaceForNewColumns",value:function(e,r){for(var a=t.getColumnMinWidth(),n=e*a,o=r-1;o>=0;){var i=this.headerData.getColumn(o),l=i.getValue("widthVal")-a,d=a;if(l>n&&(d=i.getValue("widthVal")-n),this.updateColumnWidth(o,d),n-=l,0>=n)break;o--}}},{key:"hasEnoughAvailableSpace",value:function(e){var r=T.convertInputToNumber(this.columns),a=Math.floor(this.widthVal/t.getColumnMinWidth());return e>r&&e>a?!1:!0}},{key:"addCommandsForChangedColumns",value:function(e,t){if(this.hasEnoughAvailableSpace(e)){var r=T.convertInputToNumber(this.columns),a=new D.default(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(t.addCommand(a),e>r)this.createSpaceForNewColumns(e-r,r);else if(r>e){for(var n=0,o=0;e>o;o++)n+=this.headerData.getColumn(o).getValue("widthVal");var i=this.headerData.getColumn(e-1);this.widthVal-n>0&&this.updateColumnWidth(e-1,i.getValue("widthVal")+(this.widthVal-n))}this.columns=e,this.headerData.createColumns(e,!0,-1,!1);for(var l=0;l<this.contentDataRows.length;l++)this.contentDataRows[l].createColumns(e,!0,-1,!1);this.footerData.createColumns(e,!0,-1,!1),a=new D.default(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(a)}}},{key:"addCommandsForChangedContentRows",value:function(e,t){if(e!==T.convertInputToNumber(this.contentRows)){var r=new D.default(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);t.addCommand(r);var a=void 0;if(e<this.contentDataRows.length){for(a=e;a<this.contentDataRows.length;a++)this.rb.deleteDataObject(this.contentDataRows[a]),this.contentDataRows[a].remove();this.contentDataRows.splice(e,this.contentDataRows.length-e)}else{var n=void 0;if(this.contentDataRows.length>0){n={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var o=!0,l=!1,d=void 0;try{for(var s,u=i.default(this.contentDataRows[0].columnData);!(o=(s=u.next()).done);o=!0){var c=s.value;n.columnData.push({width:c.width})}}catch(p){l=!0,d=p}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}}for(a=this.contentDataRows.length;e>a;a++)this.contentDataRows.push(this.createBand("content",a,n))}this.contentRows=""+e,r=new D.default(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(r)}}},{key:"toJS",value:function(){var e=b.default(t.prototype.__proto__||d.default(t.prototype),"toJS",this).call(this);e.headerData=this.headerData.toJS();for(var r=[],a=0;a<this.contentDataRows.length;a++)r.push(this.contentDataRows[a].toJS());return e.contentDataRows=r,e.footerData=this.footerData.toJS(),e}}],[{key:"removeIds",value:function(e){for(var r=["headerData","footerData"],a=0;a<r.length;a++){var n=r[a];t.removeBandIds(e[n])}for(var o=0;o<e.contentDataRows.length;o++)t.removeBandIds(e.contentDataRows[o])}},{key:"removeBandIds",value:function(e){delete e.id;var t=e.columnData,r=!0,a=!1,n=void 0;try{for(var o,l=i.default(t);!(r=(o=l.next()).done);r=!0){var d=o.value;delete d.id}}catch(s){a=!0,n=s}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}}},{key:"getColumnMinWidth",value:function(){return 20}}]),t}(_.default);t.default=V,V.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(4),p=n(c),h=r(9),f=n(h),m=r(3),b=n(m),g=r(5),v=n(g),y=r(63),_=n(y),w=r(17),I=n(w),C=r(18),D=n(C),S=r(7),k=n(S),P=r(19),x=n(P),E=r(6),T=a(E),V=function(e){function t(e,r,a){d.default(this,t);var n=p.default(this,(t.__proto__||i.default(t)).call(this,e,r,a));return n.colspan=r.colspan||"",n.colspanVal=1,n.columnIndex=r.columnIndex,n.parentId=r.parentId,n.tableId=r.tableId,n.displayWidth=n.widthVal,n.lastTouchStartTime=0,n.updateColspanVal(),n}return b.default(t,e),u.default(t,[{key:"setInitialData",value:function(e){f.default(t.prototype.__proto__||i.default(t.prototype),"setInitialData",this).call(this,e)}},{key:"registerEventHandlers",value:function(){var e=this;this.el.dblclick(function(t){e.rb.isSelectedObject(e.id)||e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())}).mousedown(function(t){e.rb.isSelectedObject(e.id)?(t.shiftKey&&e.rb.deselectObject(e.id),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())}).on("touchstart",function(t){if(!e.rb.isSelectedObject(e.id)){var r=(new Date).getTime()-e.lastTouchStartTime;1e3>r?e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!0),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!0),t.stopPropagation())}e.lastTouchStartTime=(new Date).getTime()})}},{key:"getContainerId",value:function(){var e=this.getTable();return null!==e?e.getContainerId():null}},{key:"getValue",value:function(e){return"xReadOnly"===e?this.getOffsetX():f.default(t.prototype.__proto__||i.default(t.prototype),"getValue",this).call(this,e)}},{key:"setValue",value:function(e,r){if(f.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r),"width"===e){var a=this.getTable();null!==a&&(a.updateColumnWidth(this.columnIndex,r),a.updateColumnDisplay())}else if("height"===e)this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if("colspan"===e){this.updateColspanVal();var n=this.rb.getDataObject(this.tableId);null!==n&&n.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(e,t){if("width"===e){var r=T.convertInputToNumber(t);if(this.colspanVal>1){var a=this.rb.getDataObject(this.parentId);if(null!==a){var n=this.getNextCellIndex(),o=a.getSingleCellWidths();n>o.length&&(n=o.length);for(var i=this.columnIndex+1;n>i;i++)r+=o[i]}}return""===t&&0===r?"":""+r}return t}},{key:"setWidth",value:function(e){this.width=e,this.widthVal=T.convertInputToNumber(e)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(e){this.displayWidth=e}},{key:"getDisplayWidthSplit",value:function(e){if(this.colspanVal===1)return[e];var t=20,r=[t],a=t,n=this.rb.getDataObject(this.parentId);if(null!==n){var o=this.getNextCellIndex(),i=n.getSingleCellWidths();o>i.length&&(o=i.length);for(var l=this.columnIndex+1;o>l;l++)r.push(i[l]),a+=i[l];var d=e-a;if(d>0)r[0]+=d;else if(0>d){var s=1;for(d=-d;s<r.length;){if(r[s]-t>d){r[s]-=d;break}d-=r[s]-t,r[s]=t,s++}}}return r}},{key:"updateColspanVal",value:function(){this.colspanVal=T.convertInputToNumber(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.attr("colspan",this.colspanVal)}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,1,"id"),e}},{key:"getProperties",value:function(){var e=["xReadOnly","width","content","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"],t=this.rb.getDataObject(this.parentId);return null!==t&&t.getValue("bandType")===x.default.bandType.header&&e.push("printIf"),e}},{key:"getElementType",value:function(){return v.default.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(e,t,r,a){this.updateDisplayInternalNotify(e,t,r,a,!0)}},{key:"updateDisplayInternalNotify",value:function(e,t,r,a,n){if(this.el!==null){var o={width:this.rb.toPixel(r-1)};this.el.css(o)}var i=this.getContentSize(r,a,this.getStyle());if($("#rbro_el_content_text"+this.id).css({width:this.rb.toPixel(i.width),height:this.rb.toPixel(i.height)}),n){var l=this.rb.getDataObject(this.tableId);if(null!==l){for(var d=this.rb.getDataObject(this.parentId),s=r,u=d.getSingleCellWidths(),c=0;c<u.length;c++)(c<this.columnIndex||c>=this.columnIndex+this.colspanVal)&&(s+=u[c]);for(var p=this.getDisplayWidthSplit(r),h=0;h<p.length;h++)l.notifyColumnWidthResized(d,this.columnIndex+h,p[h],s)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var e=this.rb.getDataObject(this.tableId),t=this.rb.getDataObject(this.parentId);if(null!==e&&null!==t){for(var r=this.rb.getDocumentProperties().getContentSize().width,a=t.getSingleCellWidths(),n=0,o=0;o<a.length;o++)(o<this.columnIndex||o>=this.columnIndex+this.colspanVal)&&(n+=a[o]);return r-n-e.xVal}return 0}},{key:"getOffsetX",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){for(var t=e.getSingleCellWidths(),r=0,a=0;a<this.columnIndex;a++)r+=t[a];return r}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=$('<td id="rbro_el'+this.id+'" class="rbroTableTextElement"></td>').append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_text'+this.id+'" class="rbroDocElementContentText"></div>').append($('<span id="rbro_el_content_text_data'+this.id+'"></span>')))),this.colspanVal>1&&this.el.attr("colspan",this.colspanVal),$("#rbro_el_table_band"+this.parentId).append(this.el),$("#rbro_el_content_text_data"+this.id).text(this.content),this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(e,t,r){var a=this.getDisplayWidthSplit(e),n=this.getParent();if(null!==n)for(var o=a.length-1;o>=0;o--){var i=new k.default(n.getColumn(this.columnIndex+o).getId(),"width",""+a[o],k.default.type.text,this.rb);(t||o>0)&&i.disableSelect(),r.addCommand(i)}}},{key:"insertColumn",value:function(e){var t=this.getParent(),r=this.getTable();if(null!==t&&null!==r){var a=t.getColumnIndex(this);if(-1!==a){var n=new D.default("Insert column"),o=new I.default(!1,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb);n.addCommand(o);var i=T.convertInputToNumber(r.getValue("columns"))+1;r.setValue("columns",i),r.getValue("headerData").createColumns(i,!0,a,e);for(var l=0;l<r.getValue("contentDataRows").length;l++)r.getValue("contentDataRows")[l].createColumns(i,!0,a,e);r.getValue("footerData").createColumns(i,!0,a,e),o=new I.default(!0,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb),n.addCommand(o),this.rb.executeCommand(n),this.rb.selectObject(this.getParent().getValue("columnData")[e?a:a+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var e=this.getParent(),t=this.getTable();if(null!==e&&null!==t){var r=e.getColumnIndex(this);if(-1!==r){var a=new D.default("Delete column"),n=new I.default(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);a.addCommand(n);var o=T.convertInputToNumber(t.getValue("columns"))-1;t.setValue("columns",o),t.getValue("headerData").deleteColumn(r);for(var i=0;i<t.getValue("contentDataRows").length;i++)t.getValue("contentDataRows")[i].deleteColumn(r);t.getValue("footerData").deleteColumn(r),n=new I.default(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),a.addCommand(n),this.rb.executeCommand(a)}}}}]),t}(_.default);t.default=V},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(102),o=a(n),i=r(101),l=a(i),d=typeof l.default=="function"&&typeof o.default=="symbol"?function(e){return typeof e}:function(e){return e&&typeof l.default=="function"&&e.constructor===l.default&&e!==l.default.prototype?"symbol":typeof e};t.default=typeof l.default=="function"&&d(o.default)==="symbol"?function(e){return"undefined"==typeof e?"undefined":d(e)}:function(e){return e&&typeof l.default=="function"&&e.constructor===l.default&&e!==l.default.prototype?"symbol":"undefined"==typeof e?"undefined":d(e)}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var a=r(25),n=r(123),o=r(47),i=r(53)("IE_PROTO"),l=function(){},d="prototype",s=function(){var e,t=r(66)("iframe"),a=o.length,n="<",i=">";for(t.style.display="none",r(117).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(n+"script"+i+"document.F=Object"+n+"/script"+i),e.close(),s=e.F;a--;)delete s[d][o[a]];return s()};e.exports=Object.create||function(e,t){var r;return null!==e?(l[d]=a(e),r=new l,l[d]=null,r[i]=e):r=s(),void 0===t?r:n(r,t)}},function(e,t,r){var a=r(51),n=r(35),o=r(23),i=r(57),l=r(21),d=r(67),s=Object.getOwnPropertyDescriptor;t.f=r(20)?s:function(e,t){if(e=o(e),t=i(t,!0),d)try{return s(e,t)}catch(r){}return l(e,t)?n(!a.f.call(e,t),e[t]):void 0}},function(e,t,r){var a=r(72),n=r(47);e.exports=Object.keys||function(e){return a(e,n)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var a=r(22).f,n=r(21),o=r(16)("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,o)&&a(e,o,{configurable:!0,value:t})}},function(e,t,r){var a=r(54)("keys"),n=r(36);e.exports=function(e){return a[e]||(a[e]=n(e))}},function(e,t,r){var a=r(10),n=r(15),o="__core-js_shared__",i=n[o]||(n[o]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:a.version,mode:r(34)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},function(e,t,r){var a=r(46);e.exports=function(e){return Object(a(e))}},function(e,t,r){var a=r(28);e.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!a(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var a=r(15),n=r(10),o=r(34),i=r(59),l=r(22).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:a.Symbol||{});e.charAt(0)=="_"||e in t||l(t,e,{value:i.f(e)})}},function(e,t,r){t.f=r(16)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(3),h=a(p),f=r(11),m=a(f),b=r(5),g=a(b),v=r(24);a(v);var y=function(e){function t(e,r,a,n){l.default(this,t);var i=c.default(this,(t.__proto__||o.default(t)).call(this));if(i.objId=e.getId(),i.moveToParentId=r.getId(),i.moveToPosition=a,i.oldParentId=e.getParent().getId(),i.oldPosition=e.getSiblingPosition(),i.oldContainerId=null,i.moveToContainerId=null,e.getData()instanceof g.default){var d=e.getData();i.oldContainerId=d.getValue("containerId");var s=n.getMainPanel().getContainerByItem(r);null!==s&&(i.moveToContainerId=s.getId())}return i.rb=n,i}return h.default(t,e),s.default(t,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var e=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<e&&e--,this.moveTo(this.moveToParentId,e,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(e,t){var r=this.rb.getDataObject(this.objId),a=this.rb.getDataObject(e);null!==r&&null!==a&&(r.getPanelItem().moveToPosition(a.getPanelItem(),t),r.getPanelItem().openParentItems(),this.rb.notifyEvent(r,m.default.operation.move))}}]),t}(m.default);t.default=y},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(4),p=n(c),h=r(9),f=n(h),m=r(3),b=n(m),g=r(5),v=n(g),y=r(17);n(y);var _=r(82),w=n(_),I=r(7);n(I);var C=r(14),D=n(C),S=r(12);n(S);var k=r(6),P=a(k),x=function(e){function t(e,r,a){d.default(this,t);var n=p.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementFrame"),e,100,100,a));return n.frame=null,n.setupComplete=!1,n.label="",n.backgroundColor="",n.borderAll=!1,n.borderLeft=!1,n.borderTop=!1,n.borderRight=!1,n.borderBottom=!1,n.borderColor="#000000",n.borderWidth="1",n.shrinkToContentHeight=!1,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.borderWidthVal=P.convertInputToNumber(n.borderWidth),n}return b.default(t,e),u.default(t,[{key:"setup",value:function(e){this.borderWidthVal=P.convertInputToNumber(this.borderWidth),f.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new w.default(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){f.default(t.prototype.__proto__||i.default(t.prototype),"registerContainerEventHandlers",this).call(this)
}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(e,r){e.indexOf("border")!==-1&&(this[e]=r,"borderWidth"===e&&(this.borderWidthVal=P.convertInputToNumber(r)),D.default.setBorderValue(this,e,"",r,this.rb)),f.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r),"label"===e&&this.updateName()}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}this.borderLeft&&(r-=this.borderWidthVal),this.borderRight&&(r-=this.borderWidthVal),this.borderTop&&(a-=this.borderWidthVal),this.borderBottom&&(a-=this.borderWidthVal);var o={};o.width=this.rb.toPixel(r),o.height=this.rb.toPixel(a),$("#rbro_el_content_frame"+this.id).css(o)}},{key:"updateStyle",value:function(){var e={},t={};e["background-color"]=this.getValue("backgroundColor"),this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(t["border-style"]=this.getValue("borderTop")?"solid":"none",t["border-style"]+=this.getValue("borderRight")?" solid":" none",t["border-style"]+=this.getValue("borderBottom")?" solid":" none",t["border-style"]+=this.getValue("borderLeft")?" solid":" none",t["border-width"]=this.getValue("borderWidthVal")+"px",t["border-color"]=this.getValue("borderColor")):t["border-style"]="none",$("#rbro_el_content"+this.id).css(t),this.el.css(e)}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","linkedContainerId"),e}},{key:"getProperties",value:function(){return["label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.frame}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroFrameElement rbroElementContainer"></div>'),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_frame'+this.id+'" class="rbroDocElementContentFrame"></div>'))),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return $("#rbro_el_content_frame"+this.id)}},{key:"remove",value:function(){f.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.name=this.label.trim()!==""?this.label:this.rb.getLabel("docElementFrame"),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"printIf",r)}}]),t}(v.default);t.default=x},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(9),h=a(p),f=r(3),m=a(f),b=r(5),g=a(b),v=function(e){function t(e,r,a){l.default(this,t);var n=c.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementPageBreak"),e,-1,1,a));return n.setInitialData(r),n}return m.default(t,e),s.default(t,[{key:"setup",value:function(e){h.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r){h.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r)}},{key:"getProperties",value:function(){return["y"]}},{key:"getElementType",value:function(){return g.default.type.pageBreak}},{key:"updateDisplayInternal",value:function(e,t){if(this.el!==null){var r={left:this.rb.toPixel(0),top:this.rb.toPixel(t),width:"100%",height:this.rb.toPixel(1)};this.el.css(r)}}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroPageBreakElement"></div>'),this.appendToContainer(),h.default(t.prototype.__proto__||o.default(t.prototype),"registerEventHandlers",this).call(this)}}]),t}(g.default);t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(2),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(4),f=n(h),m=r(9),b=n(m),g=r(3),v=n(g),y=r(5),_=n(y),w=r(7),I=n(w),C=r(14),D=n(C),S=r(6),k=a(S),P=function(e){function t(e,r,a){u.default(this,t);var n=f.default(this,(t.__proto__||d.default(t)).call(this,a.getLabel("docElementText"),e,100,20,a));return n.content="",n.eval=!1,n.styleId="",n.bold=!1,n.italic=!1,n.underline=!1,n.strikethrough=!1,n.horizontalAlignment=D.default.alignment.left,n.verticalAlignment=D.default.alignment.top,n.textColor="#000000",n.backgroundColor="",n.font=D.default.font.helvetica,n.fontSize=12,n.lineSpacing=1,n.borderColor="#000000",n.borderWidth="1",n.borderAll=!1,n.borderLeft=!1,n.borderTop=!1,n.borderRight=!1,n.borderBottom=!1,n.paddingLeft="2",n.paddingTop="2",n.paddingRight="2",n.paddingBottom="2",n.cs_condition="",n.cs_styleId="",n.cs_bold=!1,n.cs_italic=!1,n.cs_underline=!1,n.cs_strikethrough=!1,n.cs_horizontalAlignment=D.default.alignment.left,n.cs_verticalAlignment=D.default.alignment.top,n.cs_textColor="#000000",n.cs_backgroundColor="",n.cs_font=D.default.font.helvetica,n.cs_fontSize=12,n.cs_lineSpacing=1,n.cs_borderColor="#000000",n.cs_borderWidth="1",n.cs_borderAll=!1,n.cs_borderLeft=!1,n.cs_borderTop=!1,n.cs_borderRight=!1,n.cs_borderBottom=!1,n.cs_paddingLeft="2",n.cs_paddingTop="2",n.cs_paddingRight="2",n.cs_paddingBottom="2",n.alwaysPrintOnSamePage=!0,n.pattern="",n.link="",n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_colspan="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.borderWidthVal=k.convertInputToNumber(n.borderWidth),n}return v.default(t,e),p.default(t,[{key:"setup",value:function(e){b.default(t.prototype.__proto__||d.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle(),this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(e){b.default(t.prototype.__proto__||d.default(t.prototype),"handleDoubleClick",this).call(this,e);var r=$("#rbro_doc_element_content").get(0);r.focus(),typeof r.selectionStart=="number"&&(r.selectionStart=r.selectionEnd=r.value.length)}},{key:"setValue",value:function(e,r){e.indexOf("border")!==-1&&(this[e]=r,e.substr(0,3)==="cs_"?("cs_borderWidth"===e&&(this.borderWidthVal=k.convertInputToNumber(r)),D.default.setBorderValue(this,e,"cs_",r,this.rb)):("borderWidth"===e&&(this.borderWidthVal=k.convertInputToNumber(r)),D.default.setBorderValue(this,e,"",r,this.rb))),b.default(t.prototype.__proto__||d.default(t.prototype),"setValue",this).call(this,e,r),"content"===e?this.updateContent(r):("width"===e||"height"===e)&&this.updateDisplay()}},{key:"getProperties",value:function(){return["x","y","width","height","content","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return _.default.type.text}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}var o=this.getContentSize(r,a,this.getStyle()),i={};i.width=this.rb.toPixel(o.width),i.height=this.rb.toPixel(o.height),$("#rbro_el_content_text"+this.id).css(i)}},{key:"getStyle",value:function(){var e=this;if(this.styleId!==""){var t=this.rb.getDataObject(this.styleId);null!==t&&(e=t)}return e}},{key:"addCommandsForChangedStyle",value:function(e,t,r,a){if(""!==e){var n=this.rb.getStyleById(e);if(null!==n){var o=n.getFields().slice(2),l=!0,d=!1,s=void 0;try{for(var u,c=i.default(o);!(l=(u=c.next()).done);l=!0){var p=u.value,h=t+p,f=n.getValue(p);if(f!==this.getValue(h)){var m=r[h],b=new I.default(this.getId(),h,f,m.type,this.rb);b.disableSelect(),a.addCommand(b)}}}catch(g){d=!0,s=g}finally{try{!l&&c.return&&c.return()}finally{if(d)throw s}}}}a.addCommand(new I.default(this.getId(),t+"styleId",e,I.default.type.select,this.rb))}},{key:"getContentSize",value:function(e,t,r){var a=r.getValue("borderWidthVal");return e-=k.convertInputToNumber(r.getValue("paddingLeft"))+k.convertInputToNumber(r.getValue("paddingRight")),r.getValue("borderLeft")&&(e-=a),r.getValue("borderRight")&&(e-=a),t-=k.convertInputToNumber(r.getValue("paddingTop"))+k.convertInputToNumber(r.getValue("paddingBottom")),r.getValue("borderTop")&&(t-=a),r.getValue("borderBottom")&&(t-=a),{width:e,height:t}}},{key:"updateStyle",value:function(){var e={},t={},r=this.getStyle(),a=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),r),n=r.getValue("horizontalAlignment"),o=r.getValue("verticalAlignment"),i="rbroDocElementAlign"+n.charAt(0).toUpperCase()+n.slice(1),l="rbroDocElementVAlign"+o.charAt(0).toUpperCase()+o.slice(1);e.width=this.rb.toPixel(a.width),e.height=this.rb.toPixel(a.height),e["text-align"]=n,e["vertical-align"]=o,e["background-color"]=r.getValue("backgroundColor"),e["font-weight"]=r.getValue("bold")?"bold":"",e["font-style"]=r.getValue("italic")?"italic":"normal",e["text-decoration"]=r.getValue("underline")&&r.getValue("strikethrough")?"underline line-through":r.getValue("underline")?"underline":r.getValue("strikethrough")?"line-through":"none",e.color=r.getValue("textColor"),e["font-family"]=r.getValue("font"),e["font-size"]=r.getValue("fontSize")+"px",e["line-height"]=r.getValue("lineSpacing")*100+"%",r.getValue("borderLeft")||r.getValue("borderTop")||r.getValue("borderRight")||r.getValue("borderBottom")?(t["border-style"]=r.getValue("borderTop")?"solid":"none",t["border-style"]+=r.getValue("borderRight")?" solid":" none",t["border-style"]+=r.getValue("borderBottom")?" solid":" none",t["border-style"]+=r.getValue("borderLeft")?" solid":" none",t["border-width"]=r.getValue("borderWidthVal")+"px",t["border-color"]=r.getValue("borderColor")):t["border-style"]="none",r.getValue("paddingLeft")!==""||r.getValue("paddingTop")!==""||r.getValue("paddingRight")!==""||r.getValue("paddingBottom")!==""?(e.padding=this.rb.toPixel(r.getValue("paddingTop")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingRight")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingBottom")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingLeft"))):e.padding="",$("#rbro_el_content"+this.id).css(t),$("#rbro_el_content"+this.id).removeClass().addClass("rbroContentContainerHelper").addClass(i).addClass(l),$("#rbro_el_content_text"+this.id).css(e)}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroTextElement"></div>'),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_text'+this.id+'" class="rbroDocElementContentText"></div>').append($('<span id="rbro_el_content_text_data'+this.id+'"></span>')))),this.appendToContainer(),$("#rbro_el_content_text_data"+this.id).text(this.content),b.default(t.prototype.__proto__||d.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(e){this.name=e.trim()===""?this.rb.getLabel("docElementText"):e,$("#rbro_menu_item_name"+this.id).text(this.name),$("#rbro_menu_item_name"+this.id).attr("title",this.name),$("#rbro_el_content_text_data"+this.id).text(e)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"content",r),this.addCommandForChangedParameterName(e,t,"printIf",r),this.addCommandForChangedParameterName(e,t,"cs_condition",r)}},{key:"toJS",value:function(){for(var e=b.default(t.prototype.__proto__||d.default(t.prototype),"toJS",this).call(this),r=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"],a=0;a<r.length;a++){var n=r[a];e[n]=k.convertInputToNumber(this.getValue(n))}return e}}]),t}(_.default);t.default=P},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(2),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(4),f=n(h),m=r(9),b=n(m),g=r(3),v=n(g),y=r(32),_=n(y),w=r(18),I=n(w),C=r(7),D=n(C),S=r(14),k=n(S),P=r(5),x=n(P),E=r(42),T=n(E),V=r(6),O=a(V),A=function(e){function t(e,r){u.default(this,t);var a=f.default(this,(t.__proto__||d.default(t)).call(this,"rbro_style",k.default,e,r));return a.propertyDescriptors={name:{type:D.default.type.text,fieldId:"name"},bold:{type:D.default.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},italic:{type:D.default.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},underline:{type:D.default.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},strikethrough:{type:D.default.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},horizontalAlignment:{type:D.default.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"]},verticalAlignment:{type:D.default.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1},textColor:{type:D.default.type.color,allowEmpty:!1,fieldId:"text_color"},backgroundColor:{type:D.default.type.color,allowEmpty:!0,fieldId:"background_color"},font:{type:D.default.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"]},fontSize:{type:D.default.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1},lineSpacing:{type:D.default.type.select,fieldId:"line_spacing"},borderAll:{type:D.default.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"]},borderLeft:{type:D.default.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1},borderTop:{type:D.default.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1},borderRight:{type:D.default.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1},borderBottom:{type:D.default.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1},borderColor:{type:D.default.type.color,allowEmpty:!1,fieldId:"border_color"},borderWidth:{type:D.default.type.text,fieldId:"border_width"},paddingLeft:{type:D.default.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"]},paddingTop:{type:D.default.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingRight:{type:D.default.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingBottom:{type:D.default.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1}},a}return v.default(t,e),p.default(t,[{key:"render",value:function(){var e=this,r=$('<div id="rbro_style_panel" class="rbroHidden"></div>'),a=$('<div class="rbroFormRow"></div>');a.append('<label for="rbro_style_name">'+this.rb.getLabel("styleName")+":</label>");var n=$('<div class="rbroFormField"></div>'),o=$('<input id="rbro_style_name">').on("input",function(){var t=e.rb.getSelectedObject();null!==t&&(o.val().trim()!==""?e.rb.executeCommand(new D.default(t.getId(),"name",o.val(),D.default.type.text,e.rb)):o.val(style.getName()))});n.append(o),a.append(n),r.append(a),t.renderStyle(r,"style_","",!1,this.rb),$("#rbro_detail_panel").append(r)}},{key:"updateDisplay",value:function(e){var r=this.rb.getSelectedObject();if(null!==r&&r instanceof k.default)for(var a in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(a)&&(null===e||a===e)){var n=this.propertyDescriptors[a],o=r.getValue(a);b.default(t.prototype.__proto__||d.default(t.prototype),"setValue",this).call(this,n,o,!1)}}}],[{key:"renderStyle",value:function(e,t,r,a,n){var o=void 0,l=void 0;o=$('<div id="rbro_'+t+'textstyle_row" class="rbroFormRow"></div>'),o.append("<label>"+n.getLabel("styleTextStyle")+":</label>"),l=$('<div class="rbroFormField"></div>');var d=$('<div id="rbro_'+t+'textstyle"></div>'),s=$('<button id="rbro_'+t+'bold" name="style_bold"\n             class="rbroButton rbroActionButton rbroIcon-bold" type="button"\n             title="'+n.getLabel("styleBold")+'"></button>').click(function(){for(var e=!s.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"bold",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"bold")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("bold",e,D.default.type.button,t)}t.isEmpty()||n.executeCommand(t)});d.append(s);var u=$('<button id="rbro_'+t+'italic"\n             class="rbroButton rbroActionButton rbroIcon-italic" type="button"\n             title="'+n.getLabel("styleItalic")+'"></button>').click(function(){for(var e=!u.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"italic",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"italic")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("italic",e,D.default.type.button,t)}t.isEmpty()||n.executeCommand(t)});d.append(u);var c=$('<button id="rbro_'+t+'underline"\n             class="rbroButton rbroActionButton rbroIcon-underline" type="button"\n             title="'+n.getLabel("styleUnderline")+'"></button>').click(function(){for(var e=!c.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"underline",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"underline")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("underline",e,D.default.type.button,t)}t.isEmpty()||n.executeCommand(t)});d.append(c);var p=$('<button id="rbro_'+t+'strikethrough"\n             class="rbroButton rbroActionButton rbroIcon-strikethrough" type="button"\n             title="'+n.getLabel("styleStrikethrough")+'"></button>').click(function(){for(var e=!p.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"strikethrough",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"strikethrough")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("strikethrough",e,D.default.type.button,t)}t.isEmpty()||n.executeCommand(t)});d.append(p),l.append(d),o.append(l),e.append(o),o=$('<div id="rbro_'+t+'alignment_row" class="rbroFormRow"></div>'),o.append("<label>"+n.getLabel("styleAlignment")+":</label>"),l=$('<div class="rbroFormField"></div>');var h=$('<div id="rbro_'+t+'halignment"></div>'),f=$('<button id="rbro_'+t+'halignment_left"\n             class="rbroButton rbroActionButton rbroIcon-text-align-left" type="button" value="left"\n             title="'+n.getLabel("styleHAlignmentLeft")+'"></button>').click(function(){for(var e=k.default.alignment.left,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"horizontalAlignment")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"horizontalAlignment",e,D.default.type.buttonGroup,n)),d instanceof x.default&&d.getValue(r+"styleId")!==""?d.getValue(r+"horizontalAlignment")!==e&&i.addCommand(new D.default(d.getId(),r+"styleId","",D.default.type.select,n)):d instanceof k.default&&d.addCommandsForChangedProperty("horizontalAlignment",e,D.default.type.buttonGroup,i)}i.isEmpty()||n.executeCommand(i)}});h.append(f);var m=$('<button id="rbro_'+t+'halignment_center"\n             class="rbroButton rbroActionButton rbroIcon-text-align-center" type="button" value="center"\n             title="'+n.getLabel("styleHAlignmentCenter")+'"></button>').click(function(){for(var e=k.default.alignment.center,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"horizontalAlignment")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"horizontalAlignment",e,D.default.type.buttonGroup,n)),d instanceof x.default&&d.getValue(r+"styleId")!==""?d.getValue(r+"horizontalAlignment")!==e&&i.addCommand(new D.default(d.getId(),r+"styleId","",D.default.type.select,n)):d instanceof k.default&&d.addCommandsForChangedProperty("horizontalAlignment",e,D.default.type.buttonGroup,i)}i.isEmpty()||n.executeCommand(i)}});h.append(m);var b=$('<button id="rbro_'+t+'halignment_right"\n             class="rbroButton rbroActionButton rbroIcon-text-align-right" type="button" value="right"\n             title="'+n.getLabel("styleHAlignmentRight")+'"></button>').click(function(){for(var e=k.default.alignment.right,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"horizontalAlignment")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"horizontalAlignment",e,D.default.type.buttonGroup,n)),d instanceof x.default&&d.getValue(r+"styleId")!==""?d.getValue(r+"horizontalAlignment")!==e&&i.addCommand(new D.default(d.getId(),r+"styleId","",D.default.type.select,n)):d instanceof k.default&&d.addCommandsForChangedProperty("horizontalAlignment",e,D.default.type.buttonGroup,i)}i.isEmpty()||n.executeCommand(i)}});h.append(b);var g=$('<button id="rbro_'+t+'halignment_justify"\n             class="rbroButton rbroActionButton rbroIcon-text-align-justify" type="button" value="justify"\n             title="'+n.getLabel("styleHAlignmentJustify")+'"></button>').click(function(){for(var e=k.default.alignment.justify,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"horizontalAlignment")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"horizontalAlignment",e,D.default.type.buttonGroup,n)),d instanceof x.default&&d.getValue(r+"styleId")!==""?d.getValue(r+"horizontalAlignment")!==e&&i.addCommand(new D.default(d.getId(),r+"styleId","",D.default.type.select,n)):d instanceof k.default&&d.addCommandsForChangedProperty("horizontalAlignment",e,D.default.type.buttonGroup,i)}i.isEmpty()||n.executeCommand(i)}});h.append(g),l.append(h);var v=$('<div id="rbro_'+t+'valignment"></div>'),y=$('<button id="rbro_'+t+'valignment_top"\n             class="rbroButton rbroActionButton rbroIcon-align-top" type="button" value="top"\n             title="'+n.getLabel("styleVAlignmentTop")+'"></button>').click(function(){for(var e=k.default.alignment.top,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"verticalAlignment")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"verticalAlignment",e,D.default.type.buttonGroup,n)),d instanceof x.default&&d.getValue(r+"styleId")!==""?d.getValue(r+"verticalAlignment")!==e&&i.addCommand(new D.default(d.getId(),r+"styleId","",D.default.type.select,n)):d instanceof k.default&&d.addCommandsForChangedProperty("verticalAlignment",e,D.default.type.buttonGroup,i)}i.isEmpty()||n.executeCommand(i)}});v.append(y);var _=$('<button id="rbro_'+t+'valignment_middle"\n             class="rbroButton rbroActionButton rbroIcon-align-middle" type="button" value="middle"\n             title="'+n.getLabel("styleVAlignmentMiddle")+'"></button>').click(function(){for(var e=k.default.alignment.middle,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"verticalAlignment")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"verticalAlignment",e,D.default.type.buttonGroup,n)),d instanceof x.default&&d.getValue(r+"styleId")!==""?d.getValue(r+"verticalAlignment")!==e&&i.addCommand(new D.default(d.getId(),r+"styleId","",D.default.type.select,n)):d instanceof k.default&&d.addCommandsForChangedProperty("verticalAlignment",e,D.default.type.buttonGroup,i)}i.isEmpty()||n.executeCommand(i)}});v.append(_);var w=$('<button id="rbro_'+t+'valignment_bottom"\n             class="rbroButton rbroActionButton rbroIcon-align-bottom" type="button" value="bottom"\n             title="'+n.getLabel("styleVAlignmentBottom")+'"></button>').click(function(){for(var e=k.default.alignment.bottom,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"verticalAlignment")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"verticalAlignment",e,D.default.type.buttonGroup,n)),d instanceof x.default&&d.getValue(r+"styleId")!==""?d.getValue(r+"verticalAlignment")!==e&&i.addCommand(new D.default(d.getId(),r+"styleId","",D.default.type.select,n)):d instanceof k.default&&d.addCommandsForChangedProperty("verticalAlignment",e,D.default.type.buttonGroup,i)}i.isEmpty()||n.executeCommand(i)}});v.append(w),l.append(v),o.append(l),e.append(o),o=$('<div id="rbro_'+t+'text_color_row" class="rbroFormRow"></div>'),o.append('<label for="rbro_'+t+'text_color">'+n.getLabel("styleTextColor")+":</label>"),l=$('<div class="rbroFormField"></div>');var C=$('<div class="rbroColorPickerContainer"></div>'),S=$('<input id="rbro_'+t+'text_color">').change(function(){var e=S.val();if(O.isValidColor(e)){for(var t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"textColor",e,D.default.type.color,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"textColor")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("textColor",e,D.default.type.color,t)}t.isEmpty()||n.executeCommand(t)}});C.append(S),l.append(C),o.append(l),e.append(o),O.initColorPicker(S,n),o=$('<div id="rbro_'+t+'background_color_row" class="rbroFormRow"></div>'),o.append('<label for="rbro_'+t+'background_color">\n                      '+n.getLabel("styleBackgroundColor")+":</label>"),l=$('<div class="rbroFormField"></div>');var P=$('<div class="rbroColorPickerContainer"></div>'),E=$('<input id="rbro_'+t+'background_color">').change(function(){var e=E.val();if(O.isValidColor(e)){for(var t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"backgroundColor",e,D.default.type.color,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"backgroundColor")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("backgroundColor",e,D.default.type.color,t)}t.isEmpty()||n.executeCommand(t)}});if(P.append(E),l.append(P),o.append(l),e.append(o),O.initColorPicker(E,n,{allowEmpty:!0}),a){o=$('<div id="rbro_'+t+'alternate_background_color_row" class="rbroFormRow"></div>'),o.append('<label for="rbro_'+t+'alternate_background_color">\n                          '+n.getLabel("docElementAlternateBackgroundColor")+":</label>"),l=$('<div class="rbroFormField"></div>');var V=$('<div class="rbroColorPickerContainer"></div>'),A=$('<input id="rbro_'+t+'alternate_background_color">').change(function(){var e=A.val();if(O.isValidColor(e)){for(var t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"alternateBackgroundColor",e,D.default.type.color,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"alternateBackgroundColor")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("alternateBackgroundColor",e,D.default.type.color,t)}t.isEmpty()||n.executeCommand(t)}});V.append(A),l.append(V),o.append(l),e.append(o),O.initColorPicker(A,n,{allowEmpty:!0})}o=$('<div id="rbro_'+t+'font_row" class="rbroFormRow"></div>'),o.append('<label for="rbro_'+t+'font">'+n.getLabel("styleFont")+":</label>"),l=$('<div class="rbroFormField rbroSplit rbroSelectFont"></div>');var B='<select id="rbro_'+t+'font">',F=!0,M=!1,L=void 0;try{for(var R,j=i.default(n.getFonts());!(F=(R=j.next()).done);F=!0){var N=R.value;B+='<option value="'+N.value+'">'+N.name+"</option>"}}catch(z){M=!0,L=z}finally{try{!F&&j.return&&j.return()}finally{if(M)throw L}}B+="</select>";var H=$(B).change(function(){for(var e=H.val(),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"font",e,D.default.type.select,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"font")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("font",e,D.default.type.select,t)}t.isEmpty()||n.executeCommand(t)});l.append(H);for(var W='<select id="rbro_'+t+'font_size">',U=[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],J=0;J<U.length;J++){var G=U[J];W+='<option value="'+G+'">'+G+"</option>"}W+="</select>";var X=$(W).change(function(){for(var e=X.val(),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];
t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"fontSize",e,D.default.type.select,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"fontSize")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("fontSize",e,D.default.type.select,t)}t.isEmpty()||n.executeCommand(t)});l.append(X),l.append("<span>"+n.getLabel("styleFontSizeUnit")+"</span>"),o.append(l),e.append(o),o=$('<div id="rbro_'+t+'line_spacing_row" class="rbroFormRow"></div>'),o.append('<label for="rbro_'+t+'line_spacing">\n                      '+n.getLabel("styleLineSpacing")+":</label>"),l=$('<div class="rbroFormField"></div>');var Y=$('<select id="rbro_'+t+'line_spacing">\n                <option value="1">1</option>\n                <option value="1.1">1.1</option>\n                <option value="1.2">1.2</option>\n                <option value="1.3">1.3</option>\n                <option value="1.4">1.4</option>\n                <option value="1.5">1.5</option>\n                <option value="1.6">1.6</option>\n                <option value="1.7">1.7</option>\n                <option value="1.8">1.8</option>\n                <option value="1.9">1.9</option>\n                <option value="2">2</option>\n            </select>').change(function(){for(var e=Y.val(),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"lineSpacing",e,D.default.type.select,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"lineSpacing")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("lineSpacing",e,D.default.type.select,t),t.isEmpty()||n.executeCommand(t)}});l.append(Y),o.append(l),e.append(o);var K=$('<div id="rbro_'+t+'border_div"></div>');o=$('<div id="rbro_'+t+'border_row" class="rbroFormRow"></div>'),o.append("<label>"+n.getLabel("styleBorder")+":</label>"),l=$('<div class="rbroFormField"></div>');var q=$('<div id="rbro_'+t+'border"></div>'),Z=$('<button id="rbro_'+t+'border_all"\n             class="rbroButton rbroActionButton rbroIcon-border-all"\n             type="button" value="'+r+'borderAll" title="'+n.getLabel("styleBorderAll")+'"></button>').click(function(){for(var e=!Z.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"borderLeft",e,D.default.type.button,n)),t.addCommand(new D.default(i.getId(),r+"borderTop",e,D.default.type.button,n)),t.addCommand(new D.default(i.getId(),r+"borderRight",e,D.default.type.button,n)),t.addCommand(new D.default(i.getId(),r+"borderBottom",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?(i.getValue(r+"borderLeft")!==e||i.getValue(r+"borderTop")!==e||i.getValue(r+"borderRight")!==e||i.getValue(r+"borderBottom")!==e)&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&(i.addCommandsForChangedProperty("borderLeft",e,D.default.type.button,t),i.addCommandsForChangedProperty("borderTop",e,D.default.type.button,t),i.addCommandsForChangedProperty("borderRight",e,D.default.type.button,t),i.addCommandsForChangedProperty("borderBottom",e,D.default.type.button,t))}t.isEmpty()||n.executeCommand(t)});q.append(Z);var Q=$('<button id="rbro_'+t+'border_left"\n             class="rbroButton rbroActionButton rbroIcon-border-left"\n             type="button" value="'+r+'borderLeft" title="'+n.getLabel("orientationLeft")+'"></button>').click(function(){for(var e=!Q.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"borderLeft",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"borderLeft")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("borderLeft",e,D.default.type.button,t)}t.isEmpty()||n.executeCommand(t)});q.append(Q);var et=$('<button id="rbro_'+t+'border_top"\n             class="rbroButton rbroActionButton rbroIcon-border-top"\n             type="button" value="'+r+'borderTop" title="'+n.getLabel("orientationTop")+'"></button>').click(function(){for(var e=!et.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"borderTop",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"borderTop")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("borderTop",e,D.default.type.button,t)}t.isEmpty()||n.executeCommand(t)});q.append(et);var tt=$('<button id="rbro_'+t+'border_right"\n             class="rbroButton rbroActionButton rbroIcon-border-right"\n             type="button" value="'+r+'borderRight" title="'+n.getLabel("orientationRight")+'"></button>').click(function(){for(var e=!tt.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"borderRight",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"borderRight")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("borderRight",e,D.default.type.button,t)}t.isEmpty()||n.executeCommand(t)});q.append(tt);var rt=$('<button id="rbro_'+t+'border_bottom"\n             class="rbroButton rbroActionButton rbroIcon-border-bottom"\n             type="button" value="'+r+'borderBottom"\n             title="'+n.getLabel("orientationBottom")+'"></button>').click(function(){for(var e=!rt.hasClass("rbroButtonActive"),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"borderBottom",e,D.default.type.button,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"borderBottom")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("borderBottom",e,D.default.type.button,t)}t.isEmpty()||n.executeCommand(t)});if(q.append(rt),l.append(q),o.append(l),K.append(o),a){o=$('<div id="rbro_'+t+'table_border_row" class="rbroFormRow"></div>'),o.append("<label>"+n.getLabel("styleBorder")+":</label>"),l=$('<div class="rbroFormField"></div>');var at=$('<div id="rbro_'+t+'table_border"></div>'),nt=$('<button id="rbro_'+t+'table_border_grid"\n                 class="rbroButton rbroActionButton rbroIcon-border-table-grid"\n                 type="button" value="'+r+'grid"\n                 title="'+n.getLabel("docElementBorderGrid")+'"></button>').click(function(){for(var e=T.default.border.grid,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"border")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"border",e,D.default.type.buttonGroup,n))}i.isEmpty()||n.executeCommand(i)}});at.append(nt);var ot=$('<button id="rbro_'+t+'table_border_frame_row"\n                 class="rbroButton rbroActionButton rbroIcon-border-table-frame-row"\n                 type="button" value="'+r+'frame_row"\n                 title="'+n.getLabel("docElementBorderFrameRow")+'"></button>').click(function(){for(var e=T.default.border.frameRow,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"border")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"border",e,D.default.type.buttonGroup,n))}i.isEmpty()||n.executeCommand(i)}});at.append(ot);var it=$('<button id="rbro_'+t+'table_border_frame"\n                 class="rbroButton rbroActionButton rbroIcon-border-table-frame"\n                 type="button" value="'+r+'frame"\n                 title="'+n.getLabel("docElementBorderFrame")+'"></button>').click(function(){for(var e=T.default.border.frame,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"border")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"border",e,D.default.type.buttonGroup,n))}i.isEmpty()||n.executeCommand(i)}});at.append(it);var lt=$('<button id="rbro_'+t+'table_border_row"\n                 class="rbroButton rbroActionButton rbroIcon-border-table-row"\n                 type="button" value="'+r+'row"\n                 title="'+n.getLabel("docElementBorderRow")+'"></button>').click(function(){for(var e=T.default.border.row,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"border")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"border",e,D.default.type.buttonGroup,n))}i.isEmpty()||n.executeCommand(i)}});at.append(lt);var dt=$('<button id="rbro_'+t+'table_border_none"\n                 class="rbroButton rbroActionButton rbroIcon-border-table-none"\n                 type="button" value="'+r+'none"\n                 title="'+n.getLabel("docElementBorderNone")+'"></button>').click(function(){for(var e=T.default.border.none,t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"border")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"border",e,D.default.type.buttonGroup,n))}i.isEmpty()||n.executeCommand(i)}});at.append(dt),l.append(at),o.append(l),K.append(o)}o=$('<div id="rbro_'+t+'border_color_row" class="rbroFormRow"></div>'),o.append('<label for="rbro_'+t+'border_color">\n                      '+n.getLabel("styleBorderColor")+":</label>"),l=$('<div class="rbroFormField"></div>');var st=$('<div class="rbroColorPickerContainer"></div>'),ut=$('<input id="rbro_'+t+'border_color">').change(function(){var e=ut.val();if(O.isValidColor(e)){for(var t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"borderColor",e,D.default.type.color,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"borderColor")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("borderColor",e,D.default.type.color,t)}t.isEmpty()||n.executeCommand(t)}});st.append(ut),l.append(st),o.append(l),K.append(o),O.initColorPicker(ut,n),o=$('<div id="rbro_'+t+'border_width_row" class="rbroFormRow"></div>'),o.append('<label for="rbro_'+t+'border_width">'+n.getLabel("styleBorderWidth")+":</label>"),l=$('<div class="rbroFormField"></div>');var ct=$('<input id="rbro_'+t+'border_width" type="number">').on("input",function(){var e=ct.val();""!==e&&(e=O.checkInputDecimal(e,1,99)),e!==ct.val()&&ct.val(e);for(var t=n.getSelectedObjects(),a=!1,o=t.length-1;o>=0;o--)if(t[o].getValue(r+"borderWidth")!==e){a=!0;break}if(a){for(var i=new I.default("Set value",n),l=t.length-1;l>=0;l--){var d=t[l];i.addSelection(d.getId()),i.addCommand(new D.default(d.getId(),r+"borderWidth",e,D.default.type.text,n)),d instanceof x.default&&d.getValue(r+"styleId")!==""?d.getValue(r+"borderWidth")!==e&&i.addCommand(new D.default(d.getId(),r+"styleId","",D.default.type.select,n)):d instanceof k.default&&d.addCommandsForChangedProperty("borderWidth",e,D.default.type.text,i)}i.isEmpty()||n.executeCommand(i)}});l.append(ct),o.append(l),K.append(o),e.append(K),o=$('<div id="rbro_'+t+'padding_row" class="rbroFormRow"></div>'),o.append('<label for="rbro_'+t+'padding">'+n.getLabel("stylePadding")+":</label>"),l=$('<div class="rbroFormField rbroSmallInput"></div>');var pt=$('<div class="rbroColumnCenter"></div>'),ht=$('<input id="rbro_'+t+'padding_top"\n             placeholder="'+n.getLabel("orientationTop")+'" type="number">').on("input",function(){for(var e=ht.val(),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"paddingTop",e,D.default.type.text,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"paddingTop")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("paddingTop",e,D.default.type.text,t)}t.isEmpty()||n.executeCommand(t)});pt.append(ht),l.append(pt);var ft=$('<div class="rbroSplit"></div>'),mt=$('<input id="rbro_'+t+'padding_left"\n             placeholder="'+n.getLabel("orientationLeft")+'" type="number">').on("input",function(){for(var e=mt.val(),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"paddingLeft",e,D.default.type.text,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"paddingLeft")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("paddingLeft",e,D.default.type.text,t)}t.isEmpty()||n.executeCommand(t)});ft.append(mt);var bt=$('<input id="rbro_'+t+'padding_right"\n             placeholder="'+n.getLabel("orientationRight")+'" type="number">').on("input",function(){for(var e=bt.val(),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"paddingRight",e,D.default.type.text,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"paddingRight")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("paddingRight",e,D.default.type.text,t)}t.isEmpty()||n.executeCommand(t)});ft.append(bt),l.append(ft);var gt=$('<div class="rbroColumnCenter"></div>'),vt=$('<input id="rbro_'+t+'padding_bottom"\n             placeholder="'+n.getLabel("orientationBottom")+'" type="number">').on("input",function(){for(var e=vt.val(),t=new I.default("Set value",n),a=n.getSelectedObjects(),o=a.length-1;o>=0;o--){var i=a[o];t.addSelection(i.getId()),t.addCommand(new D.default(i.getId(),r+"paddingBottom",e,D.default.type.text,n)),i instanceof x.default&&i.getValue(r+"styleId")!==""?i.getValue(r+"paddingBottom")!==e&&t.addCommand(new D.default(i.getId(),r+"styleId","",D.default.type.select,n)):i instanceof k.default&&i.addCommandsForChangedProperty("paddingBottom",e,D.default.type.text,t)}t.isEmpty()||n.executeCommand(t)});gt.append(vt),l.append(gt),o.append(l),e.append(o)}}]),t}(_.default);t.default=A},function(e,t,r){var a=r(112);e.exports=function(e,t,r){if(a(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var a=r(28),n=r(15).document,o=a(n)&&a(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},function(e,t,r){e.exports=!r(20)&&!r(30)(function(){return Object.defineProperty(r(66)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){"use strict";var a=r(34),n=r(26),o=r(74),i=r(27),l=r(33),d=r(120),s=r(52),u=r(71),c=r(16)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",f="keys",m="values",b=function(){return this};e.exports=function(e,t,r,g,v,y,_){d(r,t,g);var w,I,C,D=function(e){if(!p&&e in x)return x[e];switch(e){case f:return function(){return new r(this,e)};case m:return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",k=v==m,P=!1,x=e.prototype,E=x[c]||x[h]||v&&x[v],$=E||D(v),T=v?k?D("entries"):$:void 0,V="Array"==t?x.entries||E:E;if(V&&(C=u(V.call(new e)),C!==Object.prototype&&C.next&&(s(C,S,!0),a||typeof C[c]=="function"||i(C,c,b))),k&&E&&E.name!==m&&(P=!0,$=function(){return E.call(this)}),a&&!_||!p&&!P&&x[c]||i(x,c,$),l[t]=$,l[S]=b,v)if(w={values:k?$:D(m),keys:y?$:D(f),entries:T},_)for(I in w)I in x||o(x,I,w[I]);else n(n.P+n.F*(p||P),t,w);return w}},function(e,t,r){var a=r(72),n=r(47).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var a=r(21),n=r(56),o=r(53)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),a(e,o)?e[o]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,r){var a=r(21),n=r(23),o=r(114)(!1),i=r(53)("IE_PROTO");e.exports=function(e,t){var r,l=n(e),d=0,s=[];for(r in l)r!=i&&a(l,r)&&s.push(r);for(;t.length>d;)a(l,r=t[d++])&&(~o(s,r)||s.push(r));return s}},function(e,t,r){var a=r(26),n=r(10),o=r(30);e.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],i={};i[e]=t(r),a(a.S+a.F*o(function(){r(1)}),"Object",i)}},function(e,t,r){e.exports=r(27)},function(e,t,r){"use strict";var a=r(126)(!0);r(68)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){r(131);for(var a=r(15),n=r(27),o=r(33),i=r(16)("toStringTag"),l="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),d=0;d<l.length;d++){var s=l[d],u=a[s],c=u&&u.prototype;c&&!c[i]&&n(c,i,s),o[s]=o.Array}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var n=r(81),o=a(n);$.fn.reportBro=function(e){var t=Array.prototype.slice.call(arguments,1),r=null;return this.each(function(a,n){var i,l=$(n),d=l.data("reportBro");"string"==typeof e?d&&$.isFunction(d[e])&&(i=d[e].apply(d,t),0===a&&(r=i),"destroy"===e&&l.removeData("reportBro")):(d||(d=new o.default(l,e),l.data("reportBro",d),d.render(),d.setup()),r=d)}),r}},function(){},function(){},function(){},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),i=n(o),l=r(8),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(24),f=n(h),m=r(37),b=n(m),g=r(17),v=n(g),y=r(38),_=n(y),w=r(39),I=n(w),C=r(11),D=n(C),S=r(18),k=n(S),P=r(7),x=n(P),E=r(19),T=n(E),V=r(31),O=n(V),A=r(40),B=n(A),F=r(13),M=n(F),L=r(14),R=n(L),j=r(5),N=n(j),z=r(61),H=n(z),W=r(62),U=n(W),J=r(41),G=n(J),X=r(42),Y=n(X),K=r(43),q=n(K),Z=r(90),Q=n(Z),et=r(93),tt=n(et),rt=r(94),at=n(rt),nt=r(95),ot=n(nt),it=r(96),lt=n(it),dt=r(64),st=n(dt),ut=r(91),ct=n(ut),pt=r(12),ht=n(pt),ft=r(92),mt=n(ft),bt=r(6),gt=a(bt),vt=function(){function e(t,r){var a=this;if(u.default(this,e),this.element=t,this.nextId=1,this.locale=Q.default[r&&r.localeKey||"en_us"],this.properties={additionalFonts:[],adminMode:!0,cmdExecutedCallback:null,enableSpreadsheet:!0,fonts:[{name:"Courier",value:"courier"},{name:"Helvetica",value:"helvetica"},{name:"Times New Roman",value:"times"}],localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,saveCallback:null,selectCallback:null,showGrid:!0,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1},r){for(var n in r)this.properties.hasOwnProperty(n)&&(this.properties[n]=r[n]);$.extend(this.locale,r.locale||{})}this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts)),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),this.document=new f.default(t,this.properties.showGrid,this),this.popupWindow=new b.default(t,this),this.docElements=[],this.headerBand=new T.default(T.default.bandType.header,!1,"","",this),this.contentBand=new T.default(T.default.bandType.content,!1,"","",this),this.footerBand=new T.default(T.default.bandType.footer,!1,"","",this),this.parameterContainer=new O.default("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new O.default("0_styles",this.getLabel("styles"),this),this.documentProperties=new B.default(this),this.clipboardElements=[],this.mainPanel=new ct.default(t,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new mt.default(t,this),this.docElementPanel=new tt.default(t,this),this.activeDetailPanel="none",this.detailPanels={none:new ot.default(t,this),docElement:new tt.default(t,this),parameter:new lt.default(t,this),style:new st.default(t,this),documentProperties:new at.default(t,this)},this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),$(document).keydown(function(e){if(e.metaKey||e.ctrlKey)switch(e.which){case 67:if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){var t=!1,r={},n=void 0,o=void 0,i=!0,l=!1,s=void 0;try{for(var u,c=d.default(a.selections);!(i=(u=c.next()).done);i=!0){var p=u.value,h=a.getDataObject(p);if((h instanceof N.default&&!(h instanceof q.default)||h instanceof M.default&&!h.showOnlyNameType||h instanceof R.default)&&(t||(a.clipboardElements=[],t=!0),!(h.getId()in r)))if(r[h.getId()]=!0,n=h.toJS(),a.clipboardElements.push(n),h instanceof N.default){if(n.baseClass="DocElement",h instanceof H.default){var f=[];h.appendContainerChildren(f);var m=!0,b=!1,g=void 0;try{for(var y,w=d.default(f);!(m=(y=w.next()).done);m=!0){var C=y.value;if(C.getId()in r){for(o=0;o<a.clipboardElements.length;o++)if(C.getId()===a.clipboardElements[o].id){a.clipboardElements.splice(o,1);break}}else r[C.getId()]=!0;n=C.toJS(),n.baseClass="DocElement",a.clipboardElements.push(n)}}catch(D){b=!0,g=D}finally{try{!m&&w.return&&w.return()}finally{if(b)throw g}}}}else h instanceof M.default?n.baseClass="Parameter":h instanceof R.default&&(n.baseClass="Style")}}catch(D){l=!0,s=D}finally{try{!i&&c.return&&c.return()}finally{if(l)throw s}}e.preventDefault()}break;case 86:if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){var S=void 0,P=new k.default("Paste from clipboard",a),E={},$=!0,T=!1,V=void 0;try{for(var O,A=d.default(a.clipboardElements);!($=(O=A.next()).done);$=!0){var B=O.value;if(B.id=a.getUniqueId(),B.baseClass==="DocElement"){if(B.linkedContainerId){var F=a.getUniqueId();E[B.linkedContainerId]=F,B.linkedContainerId=F}B.elementType===N.default.type.table&&Y.default.removeIds(B)}}}catch(D){T=!0,V=D}finally{try{!$&&A.return&&A.return()}finally{if(T)throw V}}var L=!0,j=!1,z=void 0;try{for(var W,U=d.default(a.clipboardElements);!(L=(W=U.next()).done);L=!0){var J=W.value;if(J.baseClass==="DocElement"){if(J.containerId in E)J.containerId=E[J.containerId];else{var G=0,X=a.getDataObject(J.containerId);if(null!==X){var K=X.getOffset(),Z=X.getContentSize(),Q=a.getDocument().getContentScrollPosY();Q>K.y&&Q+J.height<K.y+Z.height&&(G=Q-K.y)}J.x=0,J.y=G}S=new v.default(!0,J.elementType,J,J.id,J.containerId,-1,a),P.addCommand(S)}else J.baseClass==="Parameter"?(M.default.removeIds(J),S=new _.default(!0,J,J.id,a.parameterContainer.getId(),-1,a),P.addCommand(S)):J.baseClass==="Style"&&(S=new I.default(!0,J,J.id,a.styleContainer.getId(),-1,a),P.addCommand(S))}}catch(D){j=!0,z=D}finally{try{!L&&U.return&&U.return()}finally{if(j)throw z}}if(!P.isEmpty()){a.executeCommand(P);var et=!0,tt=!0,rt=!1,at=void 0;try{for(var nt,ot=d.default(a.clipboardElements);!(tt=(nt=ot.next()).done);tt=!0){var it=nt.value;a.selectObject(it.id,et),et=!1}}catch(D){rt=!0,at=D}finally{try{!tt&&ot.return&&ot.return()}finally{if(rt)throw at}}}e.preventDefault()}break;case 89:a.redoCommand(),e.preventDefault();break;case 90:a.undoCommand(),e.preventDefault()}else if(e.which===27)a.popupWindow.hide();else if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))switch(e.which){case 8:case 46:var lt=new k.default("Delete",a),dt=!0,st=!1,ut=void 0;try{for(var ct,pt=d.default(a.selections);!(dt=(ct=pt.next()).done);dt=!0){var ht=ct.value,ft=a.getDataObject(ht);ft instanceof N.default&&ft.addCommandsForDelete(lt)}}catch(D){st=!0,ut=D}finally{try{!dt&&pt.return&&pt.return()}finally{if(st)throw ut}}lt.isEmpty()||a.executeCommand(lt),e.preventDefault();break;case 37:case 38:case 39:case 40:var mt=new k.default("Move element",a),bt=e.which===37||e.which===39?"x":"y";a.getDocumentProperties().getContentSize().width;var gt=!0,vt=!1,yt=void 0;try{for(var _t,wt=d.default(a.selections);!(gt=(_t=wt.next()).done);gt=!0){var It=_t.value,Ct=a.getDataObject(It);if(Ct instanceof N.default&&Ct.hasProperty(bt)){var Dt=null;if(e.which===37)Ct.getValue("xVal")>0&&(Dt=Ct.getValue("xVal")-1);else if(e.which===38)Ct.getValue("yVal")>0&&(Dt=Ct.getValue("yVal")-1);else if(e.which===39){var St=Ct.getContainerContentSize();Ct.getValue("xVal")+Ct.getValue("widthVal")<St.width&&(Dt=Ct.getValue("xVal")+1)}else if(e.which===40){var kt=Ct.getContainerContentSize();Ct.getValue("yVal")+Ct.getValue("heightVal")<kt.height&&(Dt=Ct.getValue("yVal")+1)}if(null!==Dt){var Pt=new x.default(It,bt,Dt,x.default.type.text,a);mt.addCommand(Pt)}}}}catch(D){vt=!0,yt=D}finally{try{!gt&&wt.return&&wt.return()}finally{if(vt)throw yt}}mt.isEmpty()||a.executeCommand(mt),e.preventDefault()}})}return p.default(e,[{key:"addDefaultParameters",value:function(){for(var e=[{name:"page_count",type:M.default.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:M.default.type.number,eval:!1,editable:!1,showOnlyNameType:!0}],t=0;t<e.length;t++){var r=e[t],a=new M.default(this.getUniqueId(),r,this),n=this.mainPanel.getParametersItem(),o=new ht.default("parameter",n,a,{hasChildren:!1,showAdd:!1,showDelete:!1,draggable:!1},this);a.setPanelItem(o),n.appendChild(o),a.setup(),this.addParameter(a)}}},{key:"render",value:function(){var e=this;this.element.empty(),this.getProperty("menuSidebar")&&this.element.addClass("rbroMenuPanelSidebar"),this.element.append('<div class="rbroLogo"></div>'),this.element.append('<div class="rbroMenuPanel" id="rbro_menu_panel"></div>'),this.element.append('<div class="rbroContainer">\n                <div class="rbroMainPanel" id="rbro_main_panel"><ul id="rbro_main_panel_list"></ul></div>\n                <div class="rbroMainPanelSizer" id="rbro_main_panel_sizer"></div>\n                <div class="rbroDetailPanel" id="rbro_detail_panel"></div>\n                <div class="rbroDocumentPanel" id="rbro_document_panel"></div>\n            </div>'),this.mainPanel.render(),this.menuPanel.render();for(var t in this.detailPanels)this.detailPanels[t].render();this.detailPanels[this.activeDetailPanel].show(this.detailData),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),$(document).mouseup(function(t){e.mainPanel.mouseUp(t),e.document.mouseUp(t),e.popupWindow.hide()}),this.element.on("dragstart",function(e){e.preventDefault()}).mousemove(function(t){e.mainPanel.processMouseMove(t)||e.document.processMouseMove(t)})}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(e){return e in this.locale?this.locale[e]:e}},{key:"getProperty",value:function(e){return this.properties[e]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var e=[];if(this.properties.patternNumbers.length>0){e.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.properties.patternNumbers);!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i)}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}if(this.properties.patternDates.length>0){e.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var s=!0,u=!1,c=void 0;try{for(var p,h=d.default(this.properties.patternDates);!(s=(p=h.next()).done);s=!0){var f=p.value;e.push(f)}}catch(l){u=!0,c=l}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}}return e}},{key:"getParameterItems",value:function(e,t){var r=[],a=this.getMainPanel().getParametersItem().getChildren(),n=0,o=[];if(e instanceof N.default){e.getAllDataSources(o,null);var i=!0,l=!1,s=void 0;try{for(var u,c=d.default(o);!(i=(u=c.next()).done);i=!0){var p=u.value;if(p.parameters.length>0){r.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+n,name:this.getLabel("parametersDataSource")}),n++;var h=!0,f=!1,m=void 0;try{for(var b,g=d.default(p.parameters);!(h=(b=g.next()).done);h=!0){var v=b.value;v.appendParameterItems(r,t)}}catch(y){f=!0,m=y}finally{try{!h&&g.return&&g.return()}finally{if(f)throw m}}}}}catch(y){l=!0,s=y}finally{try{!i&&c.return&&c.return()}finally{if(l)throw s}}}r.push({separator:!0,name:this.getLabel("parameters")});var _=[],w=!0,I=!1,C=void 0;try{for(var D,S=d.default(a);!(w=(D=S.next()).done);w=!0){var k=D.value,P=k.getData();P.getValue("type")===M.default.type.map?P.appendParameterItems(_,t):P.appendParameterItems(r,t)}}catch(y){I=!0,C=y}finally{try{!w&&S.return&&S.return()}finally{if(I)throw C}}return r.concat(_)}},{key:"getArrayFieldParameterItems",value:function(e){var t=[],r=this.getMainPanel().getParametersItem().getChildren();t.push({separator:!0,name:this.getLabel("parameters")});var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(r);!(a=(i=l.next()).done);a=!0){var s=i.value,u=s.getData();u.getValue("type")===M.default.type.array&&u.appendFieldParameterItems(t,e)
}}catch(c){n=!0,o=c}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return t}},{key:"appendContainerDocElements",value:function(e,t,r){var a=e.getPanelItem().getChildren(),n=!0,o=!1,i=void 0;try{for(var l,s=d.default(a);!(n=(l=s.next()).done);n=!0){var u=l.value;if(u.getData()instanceof N.default){var c=u.getData();t?(r.push(c),c.addChildren(r)):r.push(c.toJS());var p=[];if(c instanceof G.default)p=c.getLinkedContainers();else{var h=c.getLinkedContainer();null!==h&&p.push(h)}var f=!0,m=!1,b=void 0;try{for(var g,v=d.default(p);!(f=(g=v.next()).done);f=!0){var y=g.value;this.appendContainerDocElements(y,t,r)}}catch(_){m=!0,b=_}finally{try{!f&&v.return&&v.return()}finally{if(m)throw b}}}}}catch(_){o=!0,i=_}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}},{key:"getDocElements",value:function(e){var t=[];return this.appendContainerDocElements(this.headerBand,e,t),this.appendContainerDocElements(this.contentBand,e,t),this.appendContainerDocElements(this.footerBand,e,t),t}},{key:"setDetailPanel",value:function(e){e!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=e,this.detailPanels[e].show())}},{key:"notifyEvent",value:function(e,t,r){this.detailPanels[this.activeDetailPanel].notifyEvent(e,t,r)}},{key:"addParameter",value:function(e){this.addDataObject(e)}},{key:"addStyle",value:function(e){this.addDataObject(e),this.notifyEvent(e,D.default.operation.add)}},{key:"getStyles",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getMainPanel().getStylesItem().getChildren());!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i.getData())}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getParameters",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getMainPanel().getParametersItem().getChildren());!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i.getData())}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"addDocElement",value:function(e){this.docElements.push(e),this.addDataObject(e)}},{key:"deleteDocElements",value:function(){for(var e=0;e<this.docElements.length;e++)this.deleteDataObject(this.docElements[e]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(e){if(e.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var t=this.commandStack[this.commandStack.length-1];e.allowReplace(t)&&(e.replace(t),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(e),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(e)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var e=this.commandStack[this.lastCommandIndex];e.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex>=0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(e)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var e=this.commandStack[this.lastCommandIndex];e.do(),this.modified=!0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(e)}}},{key:"updateMenuButtons",value:function(){$("#rbro_menu_save").prop("disabled",!this.modified),$("#rbro_menu_undo").prop("disabled",this.lastCommandIndex<0),$("#rbro_menu_redo").prop("disabled",this.lastCommandIndex>=this.commandStack.length-1)}},{key:"updateMenuActionButtons",value:function(){var e=0,t={x:0,y:0},r=!0,a=!0,n=!0,o=!1,i=void 0;try{for(var l,s=d.default(this.selections);!(n=(l=s.next()).done);n=!0){var u=l.value,c=this.getDataObject(u);if(c instanceof N.default&&c.hasProperty("x")){e++;var p=c.getContainer(),h=p.getOffset();1===e?t=h:(h.x!==t.x&&(r=!1),h.y!==t.y&&(a=!1))}}}catch(f){o=!0,i=f}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}if(e>1)r?$("#rbro_menu_align").show():$("#rbro_menu_align").hide(),a?$("#rbro_menu_valign").show():$("#rbro_menu_valign").hide(),$("#rbo_menu_elements .rbroMenuButton").hide(),$("#rbro_menu_column_actions").hide(),$("#rbro_menu_row_actions").hide();else{var m=null;if(this.selections.length===1&&(m=this.getDataObject(this.selections[0])),$("#rbro_menu_align").hide(),$("#rbro_menu_valign").hide(),m instanceof q.default){$("#rbo_menu_elements .rbroMenuButton").hide();var b=m.getTable(),g=m.getParent();null!==b&&gt.convertInputToNumber(b.getValue("columns"))!==1?$("#rbro_menu_column_delete").show():$("#rbro_menu_column_delete").hide(),$("#rbro_menu_column_actions").show(),null!==b&&null!==g&&g.getValue("bandType")===T.default.bandType.content?(gt.convertInputToNumber(b.getValue("contentRows"))!==1?$("#rbro_menu_row_delete").show():$("#rbro_menu_row_delete").hide(),$("#rbro_menu_row_actions").show()):$("#rbro_menu_row_actions").hide()}else $("#rbo_menu_elements .rbroMenuButton").show(),$("#rbro_menu_column_actions").hide(),$("#rbro_menu_row_actions").hide()}}},{key:"debugCommandStack",value:function(){console.clear();for(var e=0;e<this.commandStack.length;e++)e>this.lastCommandIndex?console.log("( "+e+" "+this.commandStack[e].getName()+" )"):console.log(e+" "+this.commandStack[e].getName())}},{key:"addDataObject",value:function(e){this.objectMap[e.getId()]=e}},{key:"deleteDataObject",value:function(e){this.isSelectedObject(e.getId())&&this.deselectObject(e.getId()),e.getId()in this.objectMap&&(e.remove(),delete this.objectMap[e.getId()])}},{key:"getDataObject",value:function(e){return null!==e&&e in this.objectMap?this.objectMap[e]:null}},{key:"getSelectedObjects",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.selections);!(t=(n=o.next()).done);t=!0){var i=n.value,l=this.getDataObject(i);null!==l&&e.push(l)}}catch(s){r=!0,a=s}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(e){return this.selections.indexOf(e)!==-1}},{key:"isDocElementSelected",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=d.default(this.selections);!(e=(a=n.next()).done);e=!0){var o=a.value,i=this.getDataObject(o);if(i instanceof N.default)return!0}}catch(l){t=!0,r=l}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}return!1}},{key:"isTableElementSelected",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.selections);!(t=(n=o.next()).done);t=!0){var i=n.value,l=this.getDataObject(i);if(l instanceof q.default&&l.getValue("tableId")===e)return!0}}catch(s){r=!0,a=s}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return!1}},{key:"selectObject",value:function(e,t){var r="none",a=this.getDataObject(e);if(t){if(null!==a&&this.selections.length===1&&this.selections[0]===e)return;this.deselectAll(!0)}null!==a&&(a instanceof N.default?r="docElement":a instanceof M.default?r="parameter":a instanceof R.default?r="style":a instanceof B.default&&(r="documentProperties"),this.selections.push(e),a.select(),a.getPanelItem()!==null&&(a.getPanelItem().openParentItems(),a.getPanelItem().setActive()),r!==this.activeDetailPanel&&this.setDetailPanel(r),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(a,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(e){this.deselectObjectInternal(e,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(e,t){var r=this.getDataObject(e);if(null!==r&&(r.deselect(),r.getPanelItem()!==null&&r.getPanelItem().setInactive()),t){var a=this.selections.indexOf(e);-1!==a&&this.selections.splice(a,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}null!==r&&this.properties.selectCallback&&this.properties.selectCallback(r,!1)}},{key:"deselectAll",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.selections);!(t=(n=o.next()).done);t=!0){var i=n.value;this.deselectObjectInternal(i,!1)}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}this.selections=[],e&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(e,t,r){for(var a=null,n=-1,o=0;o<this.containers.length;o++){var i=this.containers[o];i.getLevel()>n&&i.isElementAllowed(r)&&i.isInside(e,t)&&(a=i,n=i.getLevel())}return a}},{key:"addContainer",value:function(e){this.containers.push(e),this.addDataObject(e)}},{key:"deleteContainer",value:function(e){for(var t=0;t<this.containers.length;t++)if(this.containers[t].getId()===e.getId()){this.containers.splice(t,1);break}this.deleteDataObject(e)}},{key:"startBrowserDrag",value:function(e,t,r){this.browserDragType=e,this.browserDragId=r,this.getDocument().startBrowserDrag(t)}},{key:"isBrowserDragActive",value:function(e){return this.browserDragType===e}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(e,t,r,a,n){var o=void 0;n&&(o=new k.default(r===N.default.dragType.element?"Update position":"Resize",this));var i=!0,l=!1,s=void 0;try{for(var u,c=d.default(this.selections);!(i=(u=c.next()).done);i=!0){var p=u.value,h=this.getDataObject(p);null!==h&&(r!==N.default.dragType.element||h.isDraggingAllowed())&&h.updateDrag(e,t,r,a,n?o:null)}}catch(f){l=!0,s=f}finally{try{!i&&c.return&&c.return()}finally{if(l)throw s}}n&&!o.isEmpty()&&this.executeCommand(o)}},{key:"alignSelections",value:function(e){var t=void 0,r=void 0,a=void 0,n=void 0,o=Number.MAX_VALUE,i=Number.MIN_VALUE,l=Number.MAX_VALUE,s=Number.MIN_VALUE,u=0,c=!0,p=!1,h=void 0;try{for(var f,m=d.default(this.selections);!(c=(f=m.next()).done);c=!0){var b=f.value,g=this.getDataObject(b);g instanceof N.default&&g.hasProperty("x")&&(u++,t=g.getValue("xVal"),r=g.getValue("yVal"),a=g.getValue("widthVal"),n=g.getValue("heightVal"),o>t&&(o=t),t+a>i&&(i=t+a),l>r&&(l=r),r+n>s&&(s=r+n))}}catch(v){p=!0,h=v}finally{try{!c&&m.return&&m.return()}finally{if(p)throw h}}var y=o+(i-o)/2,_=l+(s-l)/2;if(u>1){var w=new k.default("Align elements",this),I=!0,C=!1,D=void 0;try{for(var S,P=d.default(this.selections);!(I=(S=P.next()).done);I=!0){var E=S.value,$=this.getDataObject(E);if($ instanceof N.default&&!($ instanceof U.default))switch(e){case R.default.alignment.left:var T=new x.default($.getId(),"x",""+o,x.default.type.text,this);w.addCommand(T);break;case R.default.alignment.center:var V=new x.default($.getId(),"x",""+(y-$.getValue("widthVal")/2),x.default.type.text,this);w.addCommand(V);break;case R.default.alignment.right:var O=new x.default($.getId(),"x",""+(i-$.getValue("widthVal")),x.default.type.text,this);w.addCommand(O);break;case R.default.alignment.top:var A=new x.default($.getId(),"y",""+l,x.default.type.text,this);w.addCommand(A);break;case R.default.alignment.middle:var B=new x.default($.getId(),"y",""+(_-$.getValue("heightVal")/2),x.default.type.text,this);w.addCommand(B);break;case R.default.alignment.bottom:var F=new x.default($.getId(),"y",""+(s-$.getValue("heightVal")),x.default.type.text,this);w.addCommand(F)}}}catch(v){C=!0,D=v}finally{try{!I&&P.return&&P.return()}finally{if(C)throw D}}this.executeCommand(w)}}},{key:"toPixel",value:function(e){return""===e?"0px":$.type(e)==="string"&&(e=parseFloat(e.replace(",",".")),isNaN(e))?"0px":e+"px"}},{key:"showLoading",value:function(){$("#rbro_loading_div").length==0&&$("body").append('<div id="rbro_loading_div" class="rbroLoadingIndicator"></div>')}},{key:"hideLoading",value:function(){$("#rbro_loading_div").remove()}},{key:"getTestData",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;if(!i.getValue("showOnlyNameType")){var l=i.getValue("type");if(l===M.default.type.map){var s={},u=!0,c=!1,p=void 0;try{for(var h,f=d.default(i.getChildren());!(u=(h=f.next()).done);u=!0){var m=h.value;s[m.getName()]=m.getValue("testData")}}catch(b){c=!0,p=b}finally{try{!u&&f.return&&f.return()}finally{if(c)throw p}}e[i.getName()]=s}else if(l===M.default.type.array)e[i.getName()]=i.getTestDataRows(!1);else if(l===M.default.type.simpleArray){var g=[],v=!0,y=!1,_=void 0;try{for(var w,I=d.default(i.getTestDataRows(!1));!(v=(w=I.next()).done);v=!0){var C=w.value;"data"in C&&g.push(C.data)}}catch(b){y=!0,_=b}finally{try{!v&&I.return&&I.return()}finally{if(y)throw _}}e[i.getName()]=g}else(l===M.default.type.string||l===M.default.type.number||l===M.default.type.boolean||l===M.default.type.date)&&(e[i.getName()]=i.getValue("testData"))}}}catch(b){r=!0,a=b}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"processErrors",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(e);!(t=(n=o.next()).done);t=!0){var i=n.value;if(i.object_id){$("#rbro_menu_item"+i.object_id).addClass("rbroError");var l=this.getDataObject(i.object_id);null!==l&&l.addError(i)}}}catch(s){r=!0,a=s}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}e.length>0&&(this.deselectAll(!1),this.selectObject(e[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"previewInternal",value:function(e,t){var r=this;$(".rbroMenuItem").removeClass("rbroError"),$(".rbroFormRow").removeClass("rbroError"),$(".rbroErrorMessage").text("");for(var a in this.objectMap)this.objectMap[a].clearErrors();this.showLoading(),$.ajax(this.properties.reportServerUrl,{data:i.default({report:this.getReport(),outputFormat:B.default.outputFormat.pdf,data:e,isTestData:t}),type:"PUT",contentType:"application/json",timeout:this.properties.reportServerTimeout,crossDomain:this.properties.reportServerUrlCrossDomain,success:function(e){if(r.hideLoading(),e.substr(0,4)==="key:")r.reportKey=e.substr(4),r.getDocument().openPdfPreviewTab(r.properties.reportServerUrl+"?key="+r.reportKey+"&outputFormat=pdf");else{r.reportKey=null;try{var t=JSON.parse(e);t.errors.length>0&&r.processErrors(t.errors)}catch(a){alert("preview failed")}}},error:function(e,t){r.hideLoading(),"timeout"===t?alert("preview failed (timeout)"):alert("preview failed")}})}},{key:"setModified",value:function(e){this.modified=e,this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var e={docElements:[],parameters:[],styles:[],version:3};e.docElements=this.getDocElements(!1);var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;e.parameters.push(i.toJS())}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}var s=!0,u=!1,c=void 0;try{for(var p,h=d.default(this.getStyles());!(s=(p=h.next()).done);s=!0){var f=p.value;e.styles.push(f.toJS())}}catch(l){u=!0,c=l}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}return e.documentProperties=this.documentProperties.toJS(),e}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var e=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,i.default(e)),this.modified=!1}catch(t){}this.updateMenuButtons()}},{key:"load",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;this.deleteDataObject(i)}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}var s=!0,u=!1,c=void 0;try{for(var p,h=d.default(this.getStyles());!(s=(p=h.next()).done);s=!0){var f=p.value;this.deleteDataObject(f)}}catch(l){u=!0,c=l}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),e.version<2){var m=!0,b=!1,g=void 0;try{for(var v,y=d.default(e.docElements);!(m=(v=y.next()).done);m=!0){var _=v.value;_.elementType===N.default.type.table&&(_.contentDataRows=[_.contentData],_.contentRows="1")}}catch(l){b=!0,g=l}finally{try{!m&&y.return&&y.return()}finally{if(b)throw g}}}if(e.version<3){var w=!0,I=!1,C=void 0;try{for(var D,S=d.default(e.docElements);!(w=(D=S.next()).done);w=!0){var k=D.value;if(k.elementType===N.default.type.table){for(var P=0,x=0;x<k.headerData.columnData.length;x++)P+=k.headerData.columnData[x].width;k.width=P}}}catch(l){I=!0,C=l}finally{try{!w&&S.return&&S.return()}finally{if(I)throw C}}}this.documentProperties.setInitialData(e.documentProperties),this.documentProperties.setup();var E=!0,$=!1,T=void 0;try{for(var V,O=d.default(e.styles);!(E=(V=O.next()).done);E=!0){var A=V.value;this.createStyle(A)}}catch(l){$=!0,T=l}finally{try{!E&&O.return&&O.return()}finally{if($)throw T}}var B=!0,F=!1,M=void 0;try{for(var L,R=d.default(e.parameters);!(B=(L=R.next()).done);B=!0){var j=L.value;this.createParameter(j)}}catch(l){F=!0,M=l}finally{try{!B&&R.return&&R.return()}finally{if(F)throw M}}var z=!0,H=!1,W=void 0;try{for(var U,J=d.default(e.docElements);!(z=(U=J.next()).done);z=!0){var G=U.value;this.createDocElement(G)}}catch(l){H=!0,W=l}finally{try{!z&&J.return&&J.return()}finally{if(H)throw W}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var e=null;try{e=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(t){}null!==e&&this.load(e)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(e){this.previewInternal(e,!1)}},{key:"downloadSpreadsheet",value:function(){this.reportKey!==null&&window.open(this.properties.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx","_blank")}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(e){var t=this.getDataObject(e);return t instanceof N.default?t:null}},{key:"getParameterById",value:function(e){var t=this.getDataObject(e);return t instanceof M.default?t:null}},{key:"getParameterByName",value:function(e){var t=this.getParameters(),r=!0,a=!1,n=void 0;try{for(var o,i=d.default(t);!(r=(o=i.next()).done);r=!0){var l=o.value;if(l.getValue("name")===e)return l}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}return null}},{key:"getStyleById",value:function(e){var t=this.getDataObject(e);return t instanceof R.default?t:null}},{key:"createDocElement",value:function(e){var t=v.default.createElement(e.id,e,e.elementType,-1,!1,this),r=t.getMaxId();return r>=this.nextId&&(this.nextId=r+1),t}},{key:"createParameter",value:function(e){var t=new M.default(e.id,e,this),r=this.mainPanel.getParametersItem(),a=new ht.default("parameter",r,t,{hasChildren:!0,showAdd:t.getValue("editable"),showDelete:t.getValue("editable"),draggable:!0},this);t.setPanelItem(a),r.appendChild(a),t.setup(),t.getValue("type")!==M.default.type.array&&t.getValue("type")!==M.default.type.map&&($("#rbro_menu_item_add"+t.getId()).hide(),$("#rbro_menu_item_children"+t.getId()).hide(),$("#rbro_menu_item_children_toggle"+t.getId()).hide()),this.addParameter(t);var n=t.getMaxId();return n>=this.nextId&&(this.nextId=n+1),t}},{key:"createStyle",value:function(e){var t=new R.default(e.id,e,this),r=this.mainPanel.getStylesItem(),a=new ht.default("style",r,t,{draggable:!0},this);return t.setPanelItem(a),r.appendChild(a),this.addStyle(t),e.id>=this.nextId&&(this.nextId=e.id+1),t}},{key:"deleteDocElement",value:function(e){for(var t=0;t<this.docElements.length;t++)if(this.docElements[t].getId()===e.getId()){this.docElements.splice(t,1),this.deleteDataObject(e),this.notifyEvent(e,D.default.operation.remove);break}}},{key:"deleteParameter",value:function(e){this.deleteDataObject(e),e.getPanelItem().getParent().removeChild(e.getPanelItem()),this.notifyEvent(e,D.default.operation.remove)}},{key:"deleteStyle",value:function(e){this.deleteDataObject(e),e.getPanelItem().getParent().removeChild(e.getPanelItem()),this.notifyEvent(e,D.default.operation.remove)}}]),e}();t.default=vt},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(4),p=n(c),h=r(3),f=n(h),m=r(31),b=n(m),g=r(5),v=n(g),y=r(24);n(y);var _=r(6);a(_);var w=function(e){function t(e,r,a){return d.default(this,t),p.default(this,(t.__proto__||i.default(t)).call(this,e,r,a))}return f.default(t,e),u.default(t,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(e){return e!==v.default.type.pageBreak&&e!==v.default.type.frame&&e!==v.default.type.section}},{key:"getOffset",value:function(){var e=0,t=0;if(this.owner!==null&&(e=this.owner.getValue("xVal"),t=this.owner.getValue("yVal")),this.parent!==null){var r=this.parent.getOffset();e+=r.x,t+=r.y}return{x:e,y:t}}},{key:"getSize",value:function(){var e=0,t=0;return this.owner!==null&&(e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal")),{width:e,height:t}}},{key:"getContentSize",value:function(){var e=0,t=0;if(this.owner!==null){e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal");var r=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(e-=r),this.owner.getValue("borderRight")&&(e-=r),this.owner.getValue("borderTop")&&(t-=r),this.owner.getValue("borderBottom")&&(t-=r)}return{width:e,height:t}}}]),t}(b.default);t.default=w},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(9),h=a(p),f=r(3),m=a(f),b=r(5),g=a(b),v=function(e){function t(e,r,a){l.default(this,t);var n=c.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementImage"),e,80,80,a));return n.elBarCode=null,n.content="",n.format="CODE128",n.displayValue=!0,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_colspan="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.name=n.rb.getLabel("docElementBarCode"),$("#rbro_menu_item_name"+n.id).text(n.name),n}return m.default(t,e),s.default(t,[{key:"setup",value:function(e){h.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r){h.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r),("content"===e||"format"===e||"displayValue"===e||"height"===e)&&(this.updateBarCode(),this.updateDisplay())}},{key:"getProperties",value:function(){return["x","y","height","content","format","displayValue","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return g.default.type.barCode}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}}},{key:"getSizers",value:function(){return["N","S"]}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroBarCodeElement"></div>'),this.elBarCode=$("<canvas></canvas>"),this.el.append(this.elBarCode),this.appendToContainer(),this.updateBarCode(),h.default(t.prototype.__proto__||o.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){h.default(t.prototype.__proto__||o.default(t.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){var e=!1,t={format:this.format,height:this.displayValue?this.heightVal-22:this.heightVal,margin:0,displayValue:this.displayValue};if(this.content!==""&&this.content.indexOf("${")===-1)try{this.elBarCode.JsBarcode(this.content,t),e=!0}catch(r){}if(!e){var a="";this.format==="CODE39"||this.format==="CODE128"?a="12345678":this.format==="EAN13"?a="5901234123457":this.format==="EAN8"?a="96385074":this.format==="EAN5"?a="12345":this.format==="EAN2"?a="12":this.format==="ITF14"?a="12345678901231":(this.format==="MSI"||this.format==="MSI10"||this.format==="MSI11"||this.format==="MSI1010"||this.format==="MSI1110"||this.format=="pharmacode")&&(a="1234"),this.elBarCode.JsBarcode(a,t)}this.widthVal=this.elBarCode.width(),this.width=""+this.widthVal}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"content",r),this.addCommandForChangedParameterName(e,t,"printIf",r)}}]),t}(g.default);t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(4),p=n(c),h=r(9),f=n(h),m=r(3),b=n(m),g=r(5),v=n(g),y=r(7);n(y);var _=r(14),w=n(_),I=r(6);a(I);var C=function(e){function t(e,r,a){d.default(this,t);var n=p.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementImage"),e,80,80,a));return n.source="",n.image="",n.imageWidth=0,n.imageHeight=0,n.imageRatio=0,n.imageFilename="",n.elImg=null,n.horizontalAlignment=w.default.alignment.left,n.verticalAlignment=w.default.alignment.top,n.backgroundColor="",n.link="",n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n}return b.default(t,e),u.default(t,[{key:"setup",value:function(e){f.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(e,r){f.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r),("source"===e||"imageFilename"===e)&&this.updateName(),("source"===e||"image"===e)&&this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.image}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n);var o=0,i=0;if(this.imageRatio!==0&&(o=this.imageWidth<r?this.imageWidth:r,i=this.imageHeight<a?this.imageHeight:a,o!==this.imageWidth||i!==this.imageHeight)){var l=Math.floor(i*this.imageRatio);r>l?o=l:i=Math.floor(o/this.imageRatio)}this.elImg.css({width:this.rb.toPixel(o),height:this.rb.toPixel(i)})}}},{key:"updateStyle",value:function(){var e={},t=this.getValue("horizontalAlignment"),r=this.getValue("verticalAlignment"),a="rbroDocElementAlign"+t.charAt(0).toUpperCase()+t.slice(1),n="rbroDocElementVAlign"+r.charAt(0).toUpperCase()+r.slice(1);e["text-align"]=t,e["vertical-align"]=r,e["background-color"]=this.getValue("backgroundColor"),$("#rbro_el_content"+this.id).css(e),$("#rbro_el_content"+this.id).removeClass().addClass("rbroContentContainerHelper").addClass(a).addClass(n)}},{key:"createElement",value:function(){var e=this;this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroImageElement"></div>'),this.elImg=$('<img src="">').on("load",function(){e.imageWidth=e.elImg.get(0).naturalWidth,e.imageHeight=e.elImg.get(0).naturalHeight,e.imageRatio=e.imageHeight!==0?e.imageWidth/e.imageHeight:0,e.updateDisplay()}),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append(this.elImg)),this.appendToContainer(),f.default(t.prototype.__proto__||i.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,f.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.attr("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.attr("src",this.source):this.image!==""?this.elImg.attr("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.name=this.getValue("imageFilename").trim()!==""?this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.getValue("source"):this.rb.getLabel("docElementImage"),$("#rbro_menu_item_name"+this.id).text(this.name),$("#rbro_menu_item_name"+this.id).attr("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"source",r),this.addCommandForChangedParameterName(e,t,"printIf",r)}}]),t}(v.default);t.default=C},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(4),c=a(u),p=r(9),h=a(p),f=r(3),m=a(f),b=r(5),g=a(b),v=function(e){function t(e,r,a){l.default(this,t);var n=c.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementLine"),e,100,1,a));return n.color="#000000",n.setInitialData(r),n}return m.default(t,e),s.default(t,[{key:"setup",value:function(e){h.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r){h.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r),"color"===e&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return g.default.type.line}},{key:"updateStyle",value:function(){var e={};e["background-color"]=this.getValue("color"),this.el.css(e)}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroLineElement"></div>'),this.appendToContainer(),h.default(t.prototype.__proto__||o.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"printIf",r)}}]),t}(g.default);t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(4),p=n(c),h=r(9),f=n(h),m=r(3),b=n(m),g=r(5),v=n(g),y=r(19),_=n(y),w=r(24);n(w);var I=r(6),C=a(I),D=function(e){function t(e,r,a,n){d.default(this,t);var o=a===_.default.bandType.header?n.getLabel("bandHeader"):a===_.default.bandType.footer?n.getLabel("bandFooter"):n.getLabel("bandContent"),l=p.default(this,(t.__proto__||i.default(t)).call(this,o,e,0,100,n));
return l.setupComplete=!1,l.band=null,l.bandType=a,l.repeatHeader=!1,l.alwaysPrintOnSamePage=!0,l.shrinkToContentHeight=!1,l.parentId=r.parentId,l.heightVal=0,l.visible=a===_.default.bandType.content,l.setInitialData(r),l}return b.default(t,e),u.default(t,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new _.default(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var e={x:0,y:0},t=this.getParent();return null!==t&&(e=t.getAbsolutePosition()),e.y+=this.yVal,e}},{key:"setValue",value:function(e,r){if(f.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r),"height"===e){this[e+"Val"]=C.convertInputToNumber(r);var a=this.getParent();null!==a&&a.updateBands(this)}}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","linkedContainerId"),e}},{key:"getProperties",value:function(){var e=void 0;return e=this.bandType===_.default.bandType.header?["height","repeatHeader","shrinkToContentHeight"]:["height","alwaysPrintOnSamePage","shrinkToContentHeight"]}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={top:this.rb.toPixel(t),width:"100%",height:this.rb.toPixel(a)};if(this.el.css(n),this.setupComplete){var o=this.getParent();null!==o&&o.updateHeight(this,a)}}}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroSectionBandElement rbroElementContainer"></div>'),this.el.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("docElementSection")+" "+this.name+"</div>")),$("#rbro_el"+this.parentId).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(e){this.visible=e,e?$("#rbro_el"+this.id).removeClass("rbroHidden"):$("#rbro_el"+this.id).addClass("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}}]),t}(v.default);t.default=D},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(2),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(4),f=n(h),m=r(9),b=n(m),g=r(3),v=n(g),y=r(5),_=n(y),w=r(43),I=n(w),C=r(17),D=n(C),S=r(18),k=n(S),P=r(7);n(P);var x=r(19),E=n(x),T=r(12),V=n(T),O=r(6),A=a(O),B=function(e){function t(e,r,a,n){u.default(this,t);var o="header"===a?n.getLabel("bandHeader"):"footer"===a?n.getLabel("bandFooter"):n.getLabel("bandContent"),i=f.default(this,(t.__proto__||d.default(t)).call(this,o,e,0,20,n));return i.bandType=a,i.repeatHeader=!1,i.alwaysPrintOnSamePage=!0,i.backgroundColor="",i.alternateBackgroundColor="",i.groupExpression="",i.parentId=r.parentId,i.columnData=[],i.heightVal=0,i.setInitialData(r),i}return v.default(t,e),p.default(t,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.heightVal=A.convertInputToNumber(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var e=this.id,t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;l.getId()>e&&(e=l.getId())}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getContainerId",value:function(){var e=this.getParent();return null!==e?e.getContainerId():null}},{key:"setValue",value:function(e,t){if(this[e]=t,"height"===e){var r=A.convertInputToNumber(t);this[e+"Val"]=r,this.getElement().find("td").css({height:this.rb.toPixel(r)});var a=!0,n=!1,o=void 0;try{for(var l,d=i.default(this.columnData);!(a=(l=d.next()).done);a=!0){var s=l.value;s.setValue(e,t)}}catch(u){n=!0,o=u}finally{try{!a&&d.return&&d.return()}finally{if(n)throw o}}var c=this.getParent();null!==c&&c.updateHeight()}else"backgroundColor"===e&&this.updateStyle()}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id"),e}},{key:"getProperties",value:function(){var e=["height","backgroundColor"];return this.bandType===E.default.bandType.header?e.push("repeatHeader"):this.bandType===E.default.bandType.content&&(e.push("alternateBackgroundColor"),e.push("groupExpression"),e.push("printIf"),e.push("alwaysPrintOnSamePage")),e}},{key:"updateDisplayInternal",value:function(){}},{key:"updateStyle",value:function(){this.el.css("background-color",this.backgroundColor)}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<tr id="rbro_el_table_band'+this.id+'" class="rbroTableBandElement"></tr>'),$("#rbro_el_table_"+this.bandType+this.parentId).append(this.el)}},{key:"remove",value:function(){b.default(t.prototype.__proto__||d.default(t.prototype),"remove",this).call(this);for(var e=0;e<this.columnData.length;e++)this.rb.deleteDataObject(this.columnData[e])}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(e,t,r,a){if(this.panelItem!==null){if(t)for(var n=0;n<this.columnData.length;n++)this.columnData[n].remove(),n>=e&&this.rb.deleteDataObject(this.columnData[n]);for(var o=[],l=0;e>l;l++){var d=void 0,s=void 0,u=t?20:100,c=l;-1!==r&&(a?l===r?(u=this.columnData[r].getValue("widthVal"),c=-1):l>=r&&c--:l===r+1?(u=this.columnData[r].getValue("widthVal"),c=-1):l>r&&c--),-1!==c&&c<this.columnData.length?(d=this.columnData[c],d.columnIndex=l,s=d.id,t||(d.band=this.band,d.parentId=this.id,d.tableId=this.parentId)):d={band:this.band,columnIndex:l,parentId:this.id,tableId:this.parentId,width:u,height:this.height},s||(s=this.rb.getUniqueId());var p=new I.default(s,d,this.rb);o.push(p),this.rb.addDataObject(p);var h=new V.default(_.default.type.text,this.panelItem,p,{showDelete:!1},this.rb);p.setPanelItem(h),this.panelItem.appendChild(h)}this.columnData=o;var f=!0,m=!1,b=void 0;try{for(var g,v=i.default(o);!(f=(g=v.next()).done);f=!0){var y=g.value;y.setup(!0)}}catch(w){m=!0,b=w}finally{try{!f&&v.return&&v.return()}finally{if(m)throw b}}this.updateColumnDisplay(),this.getElement().find("td").css({height:this.rb.toPixel(this.heightVal)})}}},{key:"deleteColumn",value:function(e){e<this.columnData.length&&(this.columnData[e].remove(),this.rb.deleteDataObject(this.columnData[e]),this.columnData.splice(e,1))}},{key:"show",value:function(e){e?$("#rbro_el_table_band"+this.id).removeClass("rbroHidden"):$("#rbro_el_table_band"+this.id).addClass("rbroHidden")}},{key:"updateColumnWidth",value:function(e,t){e<this.columnData.length&&this.columnData[e].setWidth(t)}},{key:"updateColumnDisplay",value:function(){for(var e=0;e<this.columnData.length;){var t=this.columnData[e],r=t.getValue("widthVal"),a=t.getValue("colspanVal");if(t.getElement().show(),a>1){var n=e+a<this.columnData.length?e+a:this.columnData.length;for(e++;n>e;)r+=this.columnData[e].getValue("widthVal"),this.columnData[e].getElement().hide(),e++}else e++;t.setDisplayWidth(r),t.updateDisplay()}}},{key:"getColumn",value:function(e){return e>=0&&e<this.columnData.length?this.columnData[e]:null}},{key:"notifyColumnWidthResized",value:function(e,t){for(var r=0;r<this.columnData.length;){var a=this.columnData[r],n=a.getNextCellIndex();if(n>e){if(n>r+1)for(var o=r;n>o&&o<this.columnData.length;o++)o!==e&&(t+=this.columnData[o].getValue("widthVal"));a.updateDisplayInternalNotify(0,0,t,a.getValue("heightVal"),!1);break}r=n}}},{key:"getColumnIndex",value:function(e){for(var t=0;t<this.columnData.length;t++)if(e===this.columnData[t])return t;return-1}},{key:"getWidth",value:function(){for(var e=0,t=0;t<this.columnData.length;){var r=this.columnData[t];e+=r.getDisplayWidth();var a=r.getValue("colspanVal");a>1?t+=a:t++}return e}},{key:"getSingleCellWidths",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;e.push(l.getValue("widthVal"))}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"insertRow",value:function(e){var t=this.getParent();if(null!==t){var r=t.getContentRowIndex(this);if(-1!==r){var a=new k.default("Insert row"),n=new D.default(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);a.addCommand(n);var o=A.convertInputToNumber(t.getValue("contentRows"))+1;t.setValue("contentRows",o);var l=t.getValue("contentDataRows")[r],d={height:l.height,columnData:[]},s=!0,u=!1,c=void 0;try{for(var p,h=i.default(l.columnData);!(s=(p=h.next()).done);s=!0){var f=p.value;d.columnData.push({width:f.width})}}catch(m){u=!0,c=m}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}var b=t.createBand("content",-1,d);t.getValue("contentDataRows").splice(e?r:r+1,0,b),n=new D.default(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),a.addCommand(n),this.rb.executeCommand(a),this.rb.selectObject(b.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var e=this.getParent();if(null!==e){var t=e.getContentRowIndex(this),r=A.convertInputToNumber(e.getValue("contentRows"));if(-1!==t&&r>1){var a=new k.default("Delete row"),n=new D.default(!1,e.getPanelItem().getPanelName(),e.toJS(),e.getId(),e.getContainerId(),-1,this.rb);a.addCommand(n),e.setValue("contentRows",r-1),e.getValue("contentDataRows").splice(t,1),n=new D.default(!0,e.getPanelItem().getPanelName(),e.toJS(),e.getId(),e.getContainerId(),-1,this.rb),a.addCommand(n),this.rb.executeCommand(a)}}}},{key:"addChildren",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;e.push(l)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}},{key:"toJS",value:function(){var e=b.default(t.prototype.__proto__||d.default(t.prototype),"toJS",this).call(this);e.columnData=[];var r=!0,a=!1,n=void 0;try{for(var o,l=i.default(this.columnData);!(r=(o=l.next()).done);r=!0){var s=o.value;e.columnData.push(s.toJS())}}catch(u){a=!0,n=u}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}return e}}]),t}(_.default);t.default=B},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={bandContent:"Inhalt",bandFooter:"Fuzeile",bandHeader:"Kopfzeile",contentHeight:"Inhaltshhe",contentHeightInfo:"Hhe des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tatschliche Seitengre)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBorderFrame:"auen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Expression",docElementHeight:"Hhe",docElementImage:"Bild",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementPageBreak:"Zeilenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRoot:"Dokument",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltshhe reduzieren",docElementSize:"Gre (Breite, Hhe)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einfgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlieen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",emptyPanel:"Leer",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ungltige Liste",errorMsgInvalidAvgSumExpression:"Summe nur fr Zahlen-Parameter einer Liste mglich",errorMsgInvalidBarCode:"Ungltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ungltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ungltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm fr Datum mit Uhrzeit)",errorMsgInvalidExpression:"Ungltige Expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ungltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ungltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ungltige Auflistung",errorMsgInvalidNumber:"Ungltige Zahl",errorMsgInvalidPageSize:"Ungltige Seitengre",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter berein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ungltiges Pattern",errorMsgInvalidPosition:"Die Position ist auerhalb des Bereichs",errorMsgInvalidSize:"Das Element ist auerhalb des Bereichs",errorMsgInvalidTestData:"Ungltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Expression muss gesetzt sein",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten fr Parameter {info} nicht gefunden",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgUnicodeEncodeError:"Text enthlt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht untersttzt (nur .jpg und .png erlaubt)",footer:"Fuzeile",footerDisplay:"Anzeige",footerSize:"Hhe Fuzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"Hhe Kopfzeile",menuColumnAddLeft:"Spalte links hinzufgen",menuColumnAddRight:"Spalte rechts hinzufgen",menuColumnDelete:"Spalte lschen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einfgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten rckgngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzufgen",menuRowAddBelow:"Zeile unterhalb hinzufgen",menuRowDelete:"Zeile lschen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"RCKG.",menuUndoTip:"Letzten Befehl rckgngig machen",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"Hhe",pageMargins:"Seitenrnder",pageWidth:"Breite",parameter:"Parameter",parameterAddTestData:"Zeile hinzufgen",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataNoFields:"Keine Felder fr diese Liste definiert",parameterEval:"Text auswerten",parameterExpression:"Expression",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",patternCurrencySymbol:"Whrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgekrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit fhrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"Whrungssymbol vor Zahl",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",select:"auswhlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollstndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen"};t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementHeight:"Height",docElementImage:"Image",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatHeader:"Repeat header",docElementRoot:"Document",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementStyle:"Style",docElementTable:"Table",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",emptyPanel:"Empty panel",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD ( or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter {info} not found",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterAddTestData:"Add row",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataNoFields:"No fields defined for this list",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles"};t.default=r},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(88),o=a(n),i=r(89),l=a(i),d={de_de:o.default,en_us:l.default};t.default=d},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(12),c=a(u),p=r(31),h=a(p),f=r(24);a(f);var m=function(){function e(t,r,a,n,o,i,d){l.default(this,e),this.rootElement=t,this.rb=d,this.headerItem=new c.default("band",null,r,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},d),this.documentItem=new c.default("band",null,a,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},d),this.footerItem=new c.default("band",null,n,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},d),this.parametersItem=new c.default("parameter",null,o,{hasChildren:!0,showAdd:d.getProperty("adminMode"),showDelete:!1,hasDetails:!1},d),this.stylesItem=new c.default("style",null,i,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},d),this.documentPropertiesItem=new c.default("documentProperties",null,d.getDocumentProperties(),{showDelete:!1,hasDetails:!0},d),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,r.setPanelItem(this.headerItem),a.setPanelItem(this.documentItem),n.setPanelItem(this.footerItem),o.setPanelItem(this.parametersItem),i.setPanelItem(this.stylesItem)}return s.default(e,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(e){for(;null!==e;){if(e.getData()instanceof h.default)return e.getData();e=e.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var e=this,t=$("#rbro_main_panel_list");this.appendChildren(t,this.items),$("#rbro_main_panel_sizer").mousedown(function(t){e.dragMainPanelSizer=!0,e.dragMainPanelSizerStartX=t.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(e,t){var r=!0,a=!1,n=void 0;try{for(var i,l=o.default(t);!(r=(i=l.next()).done);r=!0){var d=i.value;e.append(d.getElement());var s=d.getChildren();s.length>0&&($("#"+d.getId()+"_children"),this.appendChildren(e,s))}}catch(u){a=!0,n=u}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}}},{key:"processMouseMove",value:function(e){if(this.dragMainPanelSizer){var t=this.mainPanelWidth+(e.pageX-this.dragMainPanelSizerStartX);return t=this.checkMainPanelWidth(t),this.updateMainPanelWidth(t),!0}return!1}},{key:"mouseUp",value:function(e){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(e.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"updateMainPanelWidth",value:function(e){$("#rbro_main_panel").css({width:e}),$("#rbro_main_panel_sizer").css({left:e}),$("#rbro_detail_panel").css({left:e+this.mainPanelSizerWidth});var t=e+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(t+=104,$("#reportbro .rbroLogo").css({width:e})),$("#rbro_document_panel").css({width:"calc(100% - "+t+"px)"})}},{key:"checkMainPanelWidth",value:function(e){return 150>e?150:e>500?500:e}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()
}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=o.default(this.items);!(e=(a=n.next()).done);e=!0){var i=a.value;i.clear()}}catch(l){t=!0,r=l}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}}]),e}();t.default=m},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(44),o=a(n),i=r(29),l=a(i),d=r(0),s=a(d),u=r(1),c=a(u),p=r(14),h=a(p),f=r(5),m=a(f),b=r(43),g=a(b);r(6);var v=function(){function e(t,r){s.default(this,e),this.rootElement=t,this.rb=r}return c.default(e,[{key:"render",value:function(){var e=this,t=this.rb.getProperty("menuShowButtonLabels"),r=t?"":"rbroHidden",a=$("#rbro_menu_panel"),n=$('<div class="rbroToolButtonContainer"></div>');(this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey"))&&n.append($('<button id="rbro_menu_save" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuSaveTip")+'">\n                    <span class="rbroIcon-save"></span><span class="'+r+'">'+this.rb.getLabel("menuSave")+"</span></button>").click(function(){e.rb.save()})),this.rb.getProperty("menuShowDebug")&&(n.append($('<button id="rbro_menu_log_report" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuLogReportTip")+'">\n                    <span class="rbroIcon-console"></span><span class="rbroHidden">'+this.rb.getLabel("menuLogReport")+"</span></button>").click(function(){console.log(l.default(e.rb.getReport()))})),n.append($('<button id="rbro_menu_insert_report" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuInsertReportTip")+'">\n                    <span class="rbroIcon-insert-report"></span><span class="rbroHidden">'+this.rb.getLabel("menuInsertReport")+"</span></button>").click(function(){var t=prompt("Paste report template here to load report");if(t)try{var r=JSON.parse(t);o.default(r.docElements)==="object"&&o.default(r.parameters)==="object"&&o.default(r.styles)==="object"&&o.default(r.documentProperties)==="object"?(e.rb.load(r),e.rb.setModified(!0)):alert("Invalid report template data")}catch(a){alert("Invalid report template data")}}))),n.append($('<button id="rbro_menu_undo" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuUndoTip")+'">\n                <span class="rbroIcon-undo"></span><span class="'+r+'">'+this.rb.getLabel("menuUndo")+"</span></button>").click(function(){e.rb.undoCommand()})),n.append($('<button id="rbro_menu_redo" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuRedoTip")+'">\n                <span class="rbroIcon-redo"></span><span class="'+r+'">'+this.rb.getLabel("menuRedo")+"</span></button>").click(function(){e.rb.redoCommand()})),n.append($('<button id="rbro_menu_preview" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuPreviewTip")+'">\n                <span class="rbroIcon-play"></span><span class="'+r+'">'+this.rb.getLabel("menuPreview")+"</span></button>").click(function(){e.rb.preview()})),a.append(n);var i=$('<div class="rbroElementButtonContainer"></div>'),d=$('<div id="rbo_menu_elements" class="rbroElementButtons"></div>');d.append($('<div id="rbro_menu_element_text" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementText")+'">\n                    <span class="rbroIcon-text"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",m.default.type.text,""),t.stopPropagation()}).on("touchstart",function(t){e.rb.startBrowserDrag("docElement",m.default.type.text,""),t.preventDefault()}).on("touchmove",function(t){e.rb.getDocument().processDragover(t)}).on("touchend",function(t){e.rb.getDocument().processDrop(t)})),d.append($('<div id="rbro_menu_element_line" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementLine")+'">\n                    <span class="rbroIcon-line"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",m.default.type.line,""),t.stopPropagation()}).on("touchstart",function(t){e.rb.startBrowserDrag("docElement",m.default.type.line,""),t.preventDefault()}).on("touchmove",function(t){e.rb.getDocument().processDragover(t)}).on("touchend",function(t){e.rb.getDocument().processDrop(t)})),d.append($('<div id="rbro_menu_element_image" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementImage")+'">\n                    <span class="rbroIcon-image"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",m.default.type.image,""),t.stopPropagation()}).on("touchstart",function(t){e.rb.startBrowserDrag("docElement",m.default.type.image,""),t.preventDefault()}).on("touchmove",function(t){e.rb.getDocument().processDragover(t)}).on("touchend",function(t){e.rb.getDocument().processDrop(t)})),d.append($('<div id="rbro_menu_element_bar_code" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementBarCode")+'">\n                    <span class="rbroIcon-barcode"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",m.default.type.barCode,""),t.stopPropagation()}).on("touchstart",function(t){e.rb.startBrowserDrag("docElement",m.default.type.barCode,""),t.preventDefault()}).on("touchmove",function(t){e.rb.getDocument().processDragover(t)}).on("touchend",function(t){e.rb.getDocument().processDrop(t)})),d.append($('<div id="rbro_menu_element_table" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementTable")+'">\n                    <span class="rbroIcon-table"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",m.default.type.table,""),t.stopPropagation()}).on("touchstart",function(t){e.rb.startBrowserDrag("docElement",m.default.type.table,""),t.preventDefault()}).on("touchmove",function(t){e.rb.getDocument().processDragover(t)}).on("touchend",function(t){e.rb.getDocument().processDrop(t)})),d.append($('<div id="rbro_menu_element_frame" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementFrame")+'">\n                    <span class="rbroIcon-frame"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",m.default.type.frame,""),t.stopPropagation()}).on("touchstart",function(t){e.rb.startBrowserDrag("docElement",m.default.type.frame,""),t.preventDefault()}).on("touchmove",function(t){e.rb.getDocument().processDragover(t)}).on("touchend",function(t){e.rb.getDocument().processDrop(t)})),d.append($('<div id="rbro_menu_element_section" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementSection")+'">\n                    <span class="rbroIcon-section"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",m.default.type.section,""),t.stopPropagation()}).on("touchstart",function(t){e.rb.startBrowserDrag("docElement",m.default.type.section,""),t.preventDefault()}).on("touchmove",function(t){e.rb.getDocument().processDragover(t)}).on("touchend",function(t){e.rb.getDocument().processDrop(t)})),d.append($('<div id="rbro_menu_element_page_break" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementPageBreak")+'">\n                    <span class="rbroIcon-page-break"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",m.default.type.pageBreak,""),t.stopPropagation()}).on("touchstart",function(t){e.rb.startBrowserDrag("docElement",m.default.type.pageBreak,""),t.preventDefault()}).on("touchmove",function(t){e.rb.getDocument().processDragover(t)}).on("touchend",function(t){e.rb.getDocument().processDrop(t)})),i.append(d);var s=$('<div class="rbroActionButtons"></div>'),u=$('<div id="rbro_menu_align" style="display: none;"></div>'),c=$('<button id="rbro_menu_align_left"\n                class="rbroButton rbroActionButton rbroIcon-align-left" type="button"\n                title="'+this.rb.getLabel("menuAlignLeft")+'"></button>').click(function(){e.rb.alignSelections(h.default.alignment.left)});u.append(c);var p=$('<button id="rbro_menu_align_center"\n                class="rbroButton rbroActionButton rbroIcon-align-center" type="button"\n                title="'+this.rb.getLabel("menuAlignCenter")+'"></button>').click(function(){e.rb.alignSelections(h.default.alignment.center)});u.append(p);var f=$('<button id="rbro_menu_align_right"\n                class="rbroButton rbroActionButton rbroIcon-align-right" type="button"\n                title="'+this.rb.getLabel("menuAlignRight")+'"></button>').click(function(){e.rb.alignSelections(h.default.alignment.right)});u.append(f),s.append(u);var b=$('<div id="rbro_menu_valign" style="display: none;"></div>'),v=$('<button id="rbro_menu_align_top"\n                class="rbroButton rbroActionButton rbroIcon-align-top" type="button"\n                title="'+this.rb.getLabel("menuAlignTop")+'"></button>').click(function(){e.rb.alignSelections(h.default.alignment.top)});b.append(v);var y=$('<button id="rbro_menu_align_middle"\n                class="rbroButton rbroActionButton rbroIcon-align-middle" type="button"\n                title="'+this.rb.getLabel("menuAlignMiddle")+'"></button>').click(function(){e.rb.alignSelections(h.default.alignment.middle)});b.append(y);var _=$('<button id="rbro_menu_align_bottom"\n                class="rbroButton rbroActionButton rbroIcon-align-bottom" type="button"\n                title="'+this.rb.getLabel("menuAlignBottom")+'"></button>').click(function(){e.rb.alignSelections(h.default.alignment.bottom)});b.append(_),s.append(b);var w=$('<div id="rbro_menu_column_actions" style="display: none;"></div>'),I=$('<button id="rbro_menu_column_add_left"\n                class="rbroButton rbroActionButton rbroIcon-column-add-left" type="button"\n                title="'+this.rb.getLabel("menuColumnAddLeft")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof g.default&&t.insertColumn(!0)});w.append(I);var C=$('<button id="rbro_menu_column_add_right"\n                class="rbroButton rbroActionButton rbroIcon-column-add-right" type="button"\n                title="'+this.rb.getLabel("menuColumnAddRight")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof g.default&&t.insertColumn(!1)});w.append(C);var D=$('<button id="rbro_menu_column_delete"\n                class="rbroButton rbroActionButton rbroIcon-column-delete" type="button"\n                title="'+this.rb.getLabel("menuColumnDelete")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof g.default&&t.deleteColumn()});w.append(D),s.append(w);var S=$('<div id="rbro_menu_row_actions" style="display: none;"></div>'),k=$('<button id="rbro_menu_row_add_above"\n                class="rbroButton rbroActionButton rbroIcon-row-add-above" type="button"\n                title="'+this.rb.getLabel("menuRowAddAbove")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof g.default&&t.getParent()!==null&&t.getParent().insertRow(!0)});S.append(k);var P=$('<button id="rbro_menu_row_add_below"\n                class="rbroButton rbroActionButton rbroIcon-row-add-below" type="button"\n                title="'+this.rb.getLabel("menuRowAddBelow")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof g.default&&t.getParent()!==null&&t.getParent().insertRow(!1)});S.append(P);var x=$('<button id="rbro_menu_row_delete"\n                class="rbroButton rbroActionButton rbroIcon-row-delete" type="button"\n                title="'+this.rb.getLabel("menuRowDelete")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof g.default&&t.getParent()!==null&&t.getParent().deleteRow()});S.append(x),s.append(S);var E=$('<button id="rbro_menu_toggle_grid"\n                class="rbroButton rbroGridButton rbroActionButton rbroIcon-grid '+(this.rb.getProperty("showGrid")?"rbroButtonActive":"")+'" type="button"\n                title="'+this.rb.getLabel("menuToggleGrid")+'"></button>').click(function(){E.toggleClass("rbroButtonActive"),e.rb.getDocument().toggleGrid()});s.append(E),i.append(s),a.append(i)}}]),e}();t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(2),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(4),f=n(h),m=r(9),b=n(m),g=r(3),v=n(g),y=r(32),_=n(y),w=r(64),I=n(w),C=r(11),D=n(C),S=r(18),k=n(S),P=r(7),x=n(P),E=r(13),T=n(E),V=r(14),O=n(V),A=r(5),B=n(A),F=r(37),M=n(F),L=r(6),R=a(L),j=function(e){function t(e,r){u.default(this,t);var a=f.default(this,(t.__proto__||d.default(t)).call(this,"rbro_doc_element",B.default,e,r));return a.propertyDescriptors={label:{type:x.default.type.text,fieldId:"label"},content:{type:x.default.type.text,fieldId:"content"},eval:{type:x.default.type.checkbox,fieldId:"eval"},dataSource:{type:x.default.type.text,fieldId:"data_source"},xReadOnly:{type:x.default.type.text,fieldId:"x_read_only"},x:{type:x.default.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:x.default.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:x.default.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth"},height:{type:x.default.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:x.default.type.text,fieldId:"colspan"},format:{type:x.default.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:x.default.type.checkbox,fieldId:"display_value"},source:{type:x.default.type.text,fieldId:"source"},image:{type:x.default.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:x.default.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:x.default.type.text,fieldId:"columns"},header:{type:x.default.type.checkbox,fieldId:"header"},contentRows:{type:x.default.type.text,fieldId:"content_rows"},footer:{type:x.default.type.checkbox,fieldId:"footer"},color:{type:x.default.type.color,allowEmpty:!1,fieldId:"color",section:"style"},styleId:{type:x.default.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},bold:{type:x.default.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style"},italic:{type:x.default.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style"},underline:{type:x.default.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style"},strikethrough:{type:x.default.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style"},horizontalAlignment:{type:x.default.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style"},verticalAlignment:{type:x.default.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:x.default.type.color,allowEmpty:!1,fieldId:"text_color",section:"style"},backgroundColor:{type:x.default.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:x.default.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:x.default.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1},fontSize:{type:x.default.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1},lineSpacing:{type:x.default.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:x.default.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:x.default.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:x.default.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:x.default.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:x.default.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:x.default.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:x.default.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:x.default.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:x.default.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:x.default.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:x.default.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:x.default.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:x.default.type.text,fieldId:"group_expression",section:"print"},printIf:{type:x.default.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:x.default.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:x.default.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:x.default.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:x.default.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},pattern:{type:x.default.type.text,fieldId:"pattern",section:"print"},link:{type:x.default.type.text,fieldId:"link",section:"print"},cs_condition:{type:x.default.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:x.default.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_bold:{type:x.default.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style"},cs_italic:{type:x.default.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style"},cs_underline:{type:x.default.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style"},cs_strikethrough:{type:x.default.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style"},cs_horizontalAlignment:{type:x.default.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style"},cs_verticalAlignment:{type:x.default.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:x.default.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style"},cs_backgroundColor:{type:x.default.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:x.default.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1},cs_fontSize:{type:x.default.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1},cs_lineSpacing:{type:x.default.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:x.default.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:x.default.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:x.default.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:x.default.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:x.default.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:x.default.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:x.default.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:x.default.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:x.default.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:x.default.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:x.default.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:x.default.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:x.default.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:x.default.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:x.default.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"}},a}return v.default(t,e),p.default(t,[{key:"render",value:function(){var e=this,t=void 0,r=void 0,a=void 0,n=$('<div id="rbro_doc_element_panel" class="rbroHidden"></div>');t=$('<div id="rbro_doc_element_label_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_label">'+this.rb.getLabel("docElementLabel")+":</label>"),r=$('<div class="rbroFormField"></div>');var o=$('<input id="rbro_doc_element_label">').on("input",function(){for(var t=o.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var i=a[n];r.addSelection(i.getId()),r.addCommand(new x.default(i.getId(),"label",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(o),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_data_source_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_data_source">\n                      '+this.rb.getLabel("docElementDataSource")+":</label>"),r=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var i=$('<textarea id="rbro_doc_element_data_source" rows="1"></textarea>').on("input",function(){for(var t=i.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"dataSource",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});autosize(i),r.append(i),a=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObjects(),r=t.length===1?t[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(r,[T.default.type.array]),null,"rbro_doc_element_data_source","dataSource",M.default.type.parameterSet)}),r.append(a),r.append('<div id="rbro_doc_element_data_source_error" class="rbroErrorMessage"></div>'),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_content_row" class="rbroFormRow rbroHidden"></div>'),t.append('<label for="rbro_doc_element_content">'+this.rb.getLabel("docElementContent")+":</label>"),r=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var l=$('<textarea id="rbro_doc_element_content" rows="1"></textarea>').on("input",function(){for(var t=l.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"content",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)}).blur(function(){e.rb.getPopupWindow().hide()});autosize(l),r.append(l),a=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObjects(),r=t.length===1?t[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(r),null,"rbro_doc_element_content","content",M.default.type.parameterAppend)}),r.append(a),r.append('<div id="rbro_doc_element_content_error" class="rbroErrorMessage"></div>'),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_eval_row" class="rbroFormRow rbroHidden"></div>'),t.append('<label for="rbro_doc_element_eval">'+this.rb.getLabel("docElementEval")+":</label>"),r=$('<div class="rbroFormField"></div>');var d=$('<input id="rbro_doc_element_eval" type="checkbox">').change(function(){for(var t=new k.default("Set value",e.rb),r=e.rb.getSelectedObjects(),a=d.is(":checked"),n=r.length-1;n>=0;n--){var o=r[n];t.addSelection(o.getId()),t.addCommand(new x.default(o.getId(),"eval",a,x.default.type.checkbox,e.rb))}t.isEmpty()||e.rb.executeCommand(t)});r.append(d),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_format_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_format">'+this.rb.getLabel("docElementFormat")+":</label>"),r=$('<div class="rbroFormField"></div>');var s=$('<select id="rbro_doc_element_format" disabled="disabled">\n                <option value="CODE128">CODE128</option>\n            </select>').change(function(){for(var t=s.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"format",t,x.default.type.select,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(s),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_display_value_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_display_value">'+this.rb.getLabel("docElementDisplayValue")+":</label>"),r=$('<div class="rbroFormField"></div>');var u=$('<input id="rbro_doc_element_display_value" type="checkbox">').change(function(){for(var t=u.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"displayValue",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(u),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_source_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_source">'+this.rb.getLabel("docElementSource")+":</label>"),r=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var c=$('<textarea id="rbro_doc_element_source" rows="1"></textarea>').on("input",function(){for(var t=c.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"source",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});autosize(c),r.append(c),a=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObjects(),r=t.length===1?t[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(r,[T.default.type.image,T.default.type.string]),null,"rbro_doc_element_source","source",M.default.type.parameterSet)}),r.append(a),r.append('<div id="rbro_doc_element_source_error" class="rbroErrorMessage"></div>'),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_image_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_image">'+this.rb.getLabel("docElementImageFile")+":</label>"),r=$('<div class="rbroFormField"></div>');var p=$('<input id="rbro_doc_element_image" type="file">').change(function(t){var r=t.target.files;if(r&&r[0]){var a=new FileReader,n=e.rb,o=r[0].name;a.onload=function(e){for(var t=new k.default("Load image",n),r=n.getSelectedObjects(),a=r.length-1;a>=0;a--){var i=r[a];t.addSelection(i.getId()),t.addCommand(new x.default(i.getId(),"image",e.target.result,x.default.type.file,n)),t.addCommand(new x.default(i.getId(),"imageFilename",o,x.default.type.filename,n))}t.isEmpty()||n.executeCommand(t)},a.onerror=function(){alert(n.getLabel("docElementLoadImageErrorMsg"))},a.readAsDataURL(r[0])}});r.append(p);var h=$('<div id="rbro_doc_element_image_filename_container" class="rbroSplit rbroHidden"></div>');h.append($('<div id="rbro_doc_element_image_filename"></div>')),h.append($('<div id="rbro_doc_element_image_filename_clear"                   class="rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"></div>').click(function(){p.val("");for(var t=new k.default("Clear image",e.rb),r=e.rb.getSelectedObjects(),a=r.length-1;a>=0;a--){var n=r[a];t.addSelection(n.getId()),t.addCommand(new x.default(n.getId(),"image","",x.default.type.file,e.rb)),t.addCommand(new x.default(n.getId(),"imageFilename","",x.default.type.filename,e.rb))}t.isEmpty()||e.rb.executeCommand(t)})),r.append(h),r.append('<div id="rbro_doc_element_image_error" class="rbroErrorMessage"></div>'),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_x_read_only_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_x_read_only" class="rbroDisabled">\n                      '+this.rb.getLabel("docElementPositionX")+":</label>"),r=$('<div class="rbroFormField"></div>');
var f=$('<input id="rbro_doc_element_x_read_only" disabled="true">');r.append(f),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_position_row" class="rbroFormRow rbroHidden"></div>'),t.append('<label id="rbro_doc_element_position_label" for="rbro_doc_element_x">\n                      '+this.rb.getLabel("docElementPosition")+":</label>"),r=$('<div class="rbroFormField rbroSplit"></div>');var m=$('<input id="rbro_doc_element_x" type="number">').on("input",function(){for(var t=m.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"x",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(m);var b=$('<input id="rbro_doc_element_y" type="number">').on("input",function(){for(var t=b.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"y",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(b),r.append('<div id="rbro_doc_element_position_error" class="rbroErrorMessage"></div>'),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_size_row" class="rbroFormRow rbroHidden"></div>'),t.append('<label id="rbro_doc_element_size_label" for="rbro_doc_element_size">\n                      '+this.rb.getLabel("docElementSize")+":</label>"),r=$('<div class="rbroFormField rbroSplit"></div>');var g=$('<input id="rbro_doc_element_width" type="number">').on("input",function(){for(var t=g.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"width",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(g);var v=$('<input id="rbro_doc_element_height" type="number">').on("input",function(){for(var t=v.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"height",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(v),r.append('<div id="rbro_doc_element_size_error" class="rbroErrorMessage"></div>'),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_colspan_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_colspan">'+this.rb.getLabel("docElementColspan")+":</label>"),r=$('<div class="rbroFormField"></div>');var y=$('<input id="rbro_doc_element_colspan" type="number">').change(function(){var t=y.val().trim();""!==t&&(t=R.checkInputDecimal(t,1,9)),t!==y.val()&&y.val(t);for(var r=e.rb.getSelectedObjects(),a=!1,n=r.length-1;n>=0;n--)if(r[n].getValue("colspan")!==t){a=!0;break}if(a){for(var o=new k.default("Set value",e.rb),i=r.length-1;i>=0;i--){var l=r[i];o.addSelection(l.getId()),o.addCommand(new x.default(l.getId(),"colspan",t,x.default.type.text,e.rb))}o.isEmpty()||e.rb.executeCommand(o)}});r.append(y),r.append('<div id="rbro_doc_element_colspan_error" class="rbroErrorMessage"></div>'),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_columns_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_columns">'+this.rb.getLabel("docElementColumns")+":</label>"),r=$('<div class="rbroFormField"></div>');var _=$('<input id="rbro_doc_element_columns" type="number">').change(function(){var t=R.checkInputDecimal(_.val(),1,99);t!==_.val()&&_.val(t);for(var r=R.convertInputToNumber(t),a=e.rb.getSelectedObjects(),n=!1,o=!0,i=a.length-1;i>=0;i--){var l=a[i];l.getValue("columns")!==t&&(n=!0),l.hasEnoughAvailableSpace(r)||(o=!1)}if(o||a.length!==1||_.val(a[0].getValue("columns")),n&&o){for(var d=new k.default("Set value",e.rb),s=a.length-1;s>=0;s--){var u=a[s];d.addSelection(u.getId()),u.addCommandsForChangedColumns(r,d)}d.isEmpty()||e.rb.executeCommand(d)}});r.append(_),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_header_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_header">'+this.rb.getLabel("header")+":</label>"),r=$('<div class="rbroFormField"></div>');var w=$('<label class="switch-light switch-material"></label>'),C=$('<input id="rbro_doc_element_header" type="checkbox">').change(function(){for(var t=C.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"header",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});w.append(C);var D=$("<span></span>");D.append($("<span></span>")),D.append($("<span></span>")),D.append($("<a></a>")),w.append(D),r.append(w),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_content_rows_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_content_rows">\n                      '+this.rb.getLabel("docElementContentRows")+":</label>"),r=$('<div class="rbroFormField"></div>');var S=$('<input id="rbro_doc_element_content_rows" type="number">').change(function(){var t=R.checkInputDecimal(S.val(),1,99),r=R.convertInputToNumber(t);t!==S.val()&&S.val(t);for(var a=e.rb.getSelectedObjects(),n=!1,o=a.length-1;o>=0;o--)if(a[o].getValue("contentRows")!==t){n=!0;break}if(n){for(var i=new k.default("Set value",e.rb),l=a.length-1;l>=0;l--){var d=a[l];i.addSelection(d.getId()),d.addCommandsForChangedContentRows(r,i)}i.isEmpty()||e.rb.executeCommand(i)}});r.append(S),t.append(r),n.append(t),t=$('<div id="rbro_doc_element_footer_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_footer">'+this.rb.getLabel("footer")+":</label>"),r=$('<div class="rbroFormField"></div>');var P=$('<label class="switch-light switch-material"></label>'),E=$('<input id="rbro_doc_element_footer" type="checkbox">').change(function(){for(var t=E.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"footer",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});P.append(E);var V=$("<span></span>");V.append($("<span></span>")),V.append($("<span></span>")),V.append($("<a></a>")),P.append(V),r.append(P),t.append(r),n.append(t);var O=$('<div id="rbro_doc_element_style_section_container"></div>'),A=$('<div class="rbroPanelSectionHeader"></div>'),B=$('<span id="rbro_doc_element_style_header_icon" class="rbroIcon-minus"></span>');t=$('<div id="rbro_doc_element_style_header"\n             class="rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"></div>').click(function(){if($("#rbro_doc_element_style_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_doc_element_style_section").toggleClass("rbroHidden"),B.toggleClass("rbroIcon-plus"),B.toggleClass("rbroIcon-minus"),B.hasClass("rbroIcon-minus")){var e=document.getElementById("rbro_doc_element_style_section_container").offsetTop;$("#rbro_detail_panel").scrollTop(e)}}),A.append(B),A.append("<span>"+this.rb.getLabel("docElementStyle")+"</span>"),t.append(A),O.append(t);var F=$('<div id="rbro_doc_element_style_section"></div>');t=$('<div id="rbro_doc_element_color_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_color">'+this.rb.getLabel("docElementColor")+":</label>"),r=$('<div class="rbroFormField"></div>');var L=$('<div class="rbroColorPickerContainer"></div>'),j=$('<input id="rbro_doc_element_color">').change(function(){var t=j.val();if(R.isValidColor(t)){for(var r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"color",t,x.default.type.color,e.rb))}r.isEmpty()||e.rb.executeCommand(r)}});L.append(j),r.append(L),t.append(r),F.append(t),R.initColorPicker(j,this.rb),t=$('<div id="rbro_doc_element_style_id_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_style_id">'+this.rb.getLabel("docElementStyle")+":</label>"),r=$('<div class="rbroFormField"></div>'),this.elStyle=$('<select id="rbro_doc_element_style_id"></select>').change(function(){for(var t=new k.default("Set value",e.rb),r=e.rb.getSelectedObjects(),a=r.length-1;a>=0;a--){var n=r[a];t.addSelection(n.getId()),n.addCommandsForChangedStyle(e.elStyle.val(),"",e.propertyDescriptors,t)}t.isEmpty()||e.rb.executeCommand(t)}),r.append(this.elStyle),t.append(r),F.append(t);var N=$('<div id="rbro_doc_element_style_settings"></div>');I.default.renderStyle(N,"doc_element_","",!0,this.rb),F.append(N),O.append(F),n.append(O);var z=$('<div id="rbro_doc_element_print_section_container"></div>'),H=$('<div class="rbroPanelSectionHeader"></div>'),W=$('<span id="rbro_doc_element_print_header_icon" class="rbroIcon-plus"></span>');t=$('<div id="rbro_doc_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){if($("#rbro_doc_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_doc_element_print_section").toggleClass("rbroHidden"),W.toggleClass("rbroIcon-plus"),W.toggleClass("rbroIcon-minus"),W.hasClass("rbroIcon-minus")){var e=document.getElementById("rbro_doc_element_print_section_container").offsetTop;$("#rbro_detail_panel").scrollTop(e)}autosize.update($("#rbro_doc_element_print_if"))}),H.append(W),H.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),t.append(H),z.append(t);var U=$('<div id="rbro_doc_element_print_section" class="rbroHidden"></div>');t=$('<div id="rbro_doc_element_group_expression_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_group_expression">\n                      '+this.rb.getLabel("docElementGroupExpression")+":</label>"),r=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var J=$('<textarea id="rbro_doc_element_group_expression" rows="1"></textarea>').on("input",function(){for(var t=J.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"groupExpression",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)}).blur(function(){e.rb.getPopupWindow().hide()});autosize(J),r.append(J),a=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObjects(),r=t.length===1?t[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(r),null,"rbro_doc_element_group_expression","groupExpression",M.default.type.parameterSet)}),r.append(a),r.append('<div id="rbro_doc_element_group_expression_error" class="rbroErrorMessage"></div>'),t.append(r),U.append(t),t=$('<div id="rbro_doc_element_print_if_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),r=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var G=$('<textarea id="rbro_doc_element_print_if" rows="1"></textarea>').on("input",function(){for(var t=G.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"printIf",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});autosize(G),r.append(G),a=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObjects(),r=t.length===1?t[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(r),null,"rbro_doc_element_print_if","printIf",M.default.type.parameterAppend)}),r.append(a),r.append('<div id="rbro_doc_element_print_if_error" class="rbroErrorMessage"></div>'),t.append(r),U.append(t),t=$('<div id="rbro_doc_element_repeat_header_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_repeat_header">\n                      '+this.rb.getLabel("docElementRepeatHeader")+":</label>"),r=$('<div class="rbroFormField"></div>');var X=$('<input id="rbro_doc_element_repeat_header" type="checkbox">').change(function(){for(var t=X.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"repeatHeader",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(X),t.append(r),U.append(t),t=$('<div id="rbro_doc_element_remove_empty_element_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_remove_empty_element">\n                      '+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),r=$('<div class="rbroFormField"></div>');var Y=$('<input id="rbro_doc_element_remove_empty_element" type="checkbox">').change(function(){for(var t=Y.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"removeEmptyElement",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(Y),t.append(r),U.append(t),t=$('<div id="rbro_doc_element_always_print_on_same_page_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_always_print_on_same_page">\n                      '+this.rb.getLabel("docElementAlwaysPrintOnSamePage")+":</label>"),r=$('<div class="rbroFormField"></div>');var K=$('<input id="rbro_doc_element_always_print_on_same_page" type="checkbox">').change(function(){for(var t=K.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"alwaysPrintOnSamePage",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(K),t.append(r),U.append(t),t=$('<div id="rbro_doc_element_shrink_to_content_height_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_shrink_to_content_height">\n                      '+this.rb.getLabel("docElementShrinkToContentHeight")+":</label>"),r=$('<div class="rbroFormField"></div>');var q=$('<input id="rbro_doc_element_shrink_to_content_height" type="checkbox">').change(function(){for(var t=q.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"shrinkToContentHeight",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(q),t.append(r),U.append(t),t=$('<div id="rbro_doc_element_pattern_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_pattern">'+this.rb.getLabel("docElementPattern")+":</label>"),r=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var Z=$('<input id="rbro_doc_element_pattern">').on("input",function(){for(var t=Z.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"pattern",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(Z),a=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){e.rb.getPopupWindow().show(e.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",M.default.type.pattern)}),r.append(a),r.append('<div id="rbro_doc_element_pattern_error" class="rbroErrorMessage"></div>'),t.append(r),U.append(t),t=$('<div id="rbro_doc_element_link_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_link">'+this.rb.getLabel("docElementLink")+":</label>"),r=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var Q=$('<input id="rbro_doc_element_link">').on("input",function(){for(var t=Q.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"link",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(Q),a=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObjects(),r=t.length===1?t[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(r),null,"rbro_doc_element_link","link",M.default.type.parameterSet)}),r.append(a),r.append('<div id="rbro_doc_element_link_error" class="rbroErrorMessage"></div>'),t.append(r),U.append(t),z.append(U),n.append(z);var et=$('<div id="rbro_doc_element_cs_style_section_container"></div>'),tt=$('<div class="rbroPanelSectionHeader"></div>'),rt=$('<span id="rbro_doc_element_cs_style_header_icon" class="rbroIcon-plus"></span>');t=$('<div id="rbro_doc_element_cs_style_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){if($("#rbro_doc_element_cs_style_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_doc_element_cs_style_section").toggleClass("rbroHidden"),rt.toggleClass("rbroIcon-plus"),rt.toggleClass("rbroIcon-minus"),rt.hasClass("rbroIcon-minus")){var e=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;$("#rbro_detail_panel").scrollTop(e)}}),tt.append(rt),tt.append("<span>"+this.rb.getLabel("docElementConditionalStyle")+"</span>"),t.append(tt),et.append(t);var at=$('<div id="rbro_doc_element_cs_style_section" class="rbroHidden"></div>');t=$('<div id="rbro_doc_element_cs_condition_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_cs_condition">\n                      '+this.rb.getLabel("docElementConditionalStyleCondition")+":</label>"),r=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var nt=$('<textarea id="rbro_doc_element_cs_condition" rows="1"></textarea>').on("input",function(){for(var t=nt.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"cs_condition",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});autosize(nt),r.append(nt),a=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObjects(),r=t.length===1?t[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(r),null,"rbro_doc_element_cs_condition","cs_condition",M.default.type.parameterAppend)}),r.append(a),r.append('<div id="rbro_doc_element_cs_condition_error" class="rbroErrorMessage"></div>'),t.append(r),at.append(t),t=$('<div id="rbro_doc_element_cs_style_id_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_cs_style_id">'+this.rb.getLabel("docElementStyle")+":</label>"),r=$('<div class="rbroFormField"></div>'),this.elCsStyle=$('<select id="rbro_doc_element_cs_style_id"></select>').change(function(){for(var t=e.elCsStyle.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),o.addCommandsForChangedStyle(t,"cs_",e.propertyDescriptors,r)}r.isEmpty()||e.rb.executeCommand(r)}),r.append(this.elCsStyle),t.append(r),at.append(t);var ot=$('<div id="rbro_doc_element_cs_style_settings"></div>');if(I.default.renderStyle(ot,"doc_element_cs_","cs_",!1,this.rb),at.append(ot),et.append(at),n.append(et),this.rb.getProperty("enableSpreadsheet")){var it=$('<div id="rbro_doc_element_spreadsheet_section_container"></div>'),lt=$('<div class="rbroPanelSectionHeader"></div>'),dt=$('<span id="rbro_doc_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');t=$('<div id="rbro_doc_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){if($("#rbro_doc_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_doc_element_spreadsheet_section").toggleClass("rbroHidden"),dt.toggleClass("rbroIcon-plus"),dt.toggleClass("rbroIcon-minus"),dt.hasClass("rbroIcon-minus")){var e=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;$("#rbro_detail_panel").scrollTop(e)}}),lt.append(dt),lt.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),t.append(lt),it.append(t);var st=$('<div id="rbro_doc_element_spreadsheet_section" class="rbroHidden"></div>');t=$('<div id="rbro_doc_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_spreadsheet_hide">\n                          '+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),r=$('<div class="rbroFormField"></div>');var ut=$('<input id="rbro_doc_element_spreadsheet_hide" type="checkbox">').change(function(){for(var t=ut.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"spreadsheet_hide",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(ut),t.append(r),st.append(t),t=$('<div id="rbro_doc_element_spreadsheet_column_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),r=$('<div class="rbroFormField"></div>');var ct=$('<input id="rbro_doc_element_spreadsheet_column" type="number">').on("input",function(){var t=ct.val();""!==t&&(t=R.checkInputDecimal(t,1,99)),t!==ct.val()&&ct.val(t);for(var r=e.rb.getSelectedObjects(),a=!1,n=r.length-1;n>=0;n--)if(r[n].getValue("spreadsheet_column")!==t){a=!0;break}if(a){for(var o=new k.default("Set value",e.rb),i=r.length-1;i>=0;i--){var l=r[i];o.addSelection(l.getId()),o.addCommand(new x.default(l.getId(),"spreadsheet_column",t,x.default.type.text,e.rb))}o.isEmpty()||e.rb.executeCommand(o)}});r.append(ct),r.append('<div id="rbro_doc_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),t.append(r),st.append(t),t=$('<div id="rbro_doc_element_spreadsheet_colspan_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_spreadsheet_colspan">'+this.rb.getLabel("docElementSpreadsheetColspan")+":</label>"),r=$('<div class="rbroFormField"></div>');var pt=$('<input id="rbro_doc_element_spreadsheet_colspan" type="number">').on("input",function(){for(var t=pt.val(),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"spreadsheet_colspan",t,x.default.type.text,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(pt),r.append('<div id="rbro_doc_element_spreadsheet_colspan_error" class="rbroErrorMessage"></div>'),t.append(r),st.append(t),t=$('<div id="rbro_doc_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),t.append('<label for="rbro_doc_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),r=$('<div class="rbroFormField"></div>');var ht=$('<input id="rbro_doc_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){for(var t=ht.is(":checked"),r=new k.default("Set value",e.rb),a=e.rb.getSelectedObjects(),n=a.length-1;n>=0;n--){var o=a[n];r.addSelection(o.getId()),r.addCommand(new x.default(o.getId(),"spreadsheet_addEmptyRow",t,x.default.type.checkbox,e.rb))}r.isEmpty()||e.rb.executeCommand(r)});r.append(ht),t.append(r),st.append(t),it.append(st),n.append(it)}$("#rbro_detail_panel").append(n)}},{key:"renderStyleSelect",value:function(){this.elStyle.empty(),this.elCsStyle.empty(),this.elStyle.append('<option value="">'+this.rb.getLabel("styleNone")+"</option>"),this.elCsStyle.append('<option value="">'+this.rb.getLabel("styleNone")+"</option>");var e=this.rb.getStyles(),t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e);!(t=(n=o.next()).done);t=!0){var l=n.value;this.elStyle.append('<option value="'+l.getId()+'">'+l.getName()+"</option>"),this.elCsStyle.append('<option value="'+l.getId()+'">'+l.getName()+"</option>")}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}},{key:"updateDisplay",value:function(e){var r=this.rb.getSelectedObjects(),a={},n={},o=!0,l=!1,s=void 0;try{for(var u,c=i.default(r);!(o=(u=c.next()).done);o=!0){var p=u.value,h=p.getProperties(),f=!0,m=!1,g=void 0;try{for(var v,y=i.default(h);!(f=(v=y.next()).done);f=!0){var _=v.value;_ in n?n[_]+=1:n[_]=1}}catch(w){m=!0,g=w}finally{try{!f&&y.return&&y.return()}finally{if(m)throw g}}}}catch(w){l=!0,s=w}finally{try{!o&&c.return&&c.return()}finally{if(l)throw s}}for(var I in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(I)&&(null===e||I===e)){var C=this.propertyDescriptors[I],D=!1;if(I in n)if(n[I]===r.length){var S=null,k=!1,P=!0,E=!1,T=void 0;try{for(var V,O=i.default(r);!(P=(V=O.next()).done);P=!0){var A=V.value,B=A.getUpdateValue(I,A.getValue(I));if(null===S)S=B;else if(B!==S){k=!0;break}}}catch(w){E=!0,T=w}finally{try{!P&&O.return&&O.return()}finally{if(E)throw T}}if(k&&C.type===x.default.type.select&&C.allowEmpty&&(S=""),b.default(t.prototype.__proto__||d.default(t.prototype),"setValue",this).call(this,C,S,k),"section"in C){var F=C.section;F in a?a[F]+=1:a[F]=1}D=!0}else delete n[I];if("singleRowProperty"in C&&!C.singleRowProperty){var M="#rbro_doc_element_"+C.fieldId;D?$(M).removeClass("rbroHidden"):$(M).addClass("rbroHidden")}else{var L=this.getRowId(C);D?$("#"+L).removeClass("rbroHidden"):$("#"+L).addClass("rbroHidden")}}if(null===e){for(var R in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(R)){var j=this.propertyDescriptors[R];if("rowId"in j&&"rowProperties"in j){var N=0,z=!0,H=!1,W=void 0;try{for(var U,J=i.default(j.rowProperties);!(z=(U=J.next()).done);z=!0){var G=U.value;G in n&&N++}}catch(w){H=!0,W=w}finally{try{!z&&J.return&&J.return()}finally{if(H)throw W}}if("labelId"in j){var X=j.defaultLabel;if(1===N){var Y=!0,K=!1,q=void 0;try{for(var Z,Q=i.default(j.rowProperties);!(Y=(Z=Q.next()).done);Y=!0){var et=Z.value;if(et in n){X=this.propertyDescriptors[et].singlePropertyLabel;break}}}catch(w){K=!0,q=w}finally{try{!Y&&Q.return&&Q.return()}finally{if(K)throw q}}}$("#"+j.labelId).text(this.rb.getLabel(X)+":")}N>0?$("#"+j.rowId).removeClass("rbroHidden"):$("#"+j.rowId).addClass("rbroHidden")}}for(var tt=["style","print","cs_style","spreadsheet"],rt=0;rt<tt.length;rt++){var at=tt[rt];at in a?$("#rbro_doc_element_"+at+"_section_container").removeClass("rbroHidden"):$("#rbro_doc_element_"+at+"_section_container").addClass("rbroHidden")}}t.updateAutosizeInputs(e)}},{key:"show",value:function(){this.renderStyleSelect(),b.default(t.prototype.__proto__||d.default(t.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(e,r,a){e instanceof O.default?(r===D.default.operation.add||r===D.default.operation.remove||r===D.default.operation.move||r===D.default.operation.change&&"name"===a)&&this.renderStyleSelect():b.default(t.prototype.__proto__||d.default(t.prototype),"notifyEvent",this).call(this,e,r,a)}}],[{key:"updateAutosizeInputs",value:function(e){(null===e||"dataSource"===e)&&autosize.update($("#rbro_doc_element_data_source")),(null===e||"content"===e)&&autosize.update($("#rbro_doc_element_content")),(null===e||"source"===e)&&autosize.update($("#rbro_doc_element_source")),(null===e||"expression"===e)&&autosize.update($("#rbro_doc_element_group_expression")),(null===e||"printIf"===e)&&autosize.update($("#rbro_doc_element_print_if"))}}]),t}(_.default);t.default=j},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),c=r(4),p=n(c),h=r(9),f=n(h),m=r(3),b=n(m),g=r(32),v=n(g),y=r(7),_=n(y),w=r(40),I=n(w),C=r(6),D=a(C),S=function(e){function t(e,r){d.default(this,t);var a=p.default(this,(t.__proto__||i.default(t)).call(this,"rbro_document_properties",I.default,e,r));return a.propertyDescriptors={pageFormat:{type:_.default.type.text,fieldId:"page_format"},pageWidth:{type:_.default.type.text,fieldId:"page_width"},pageHeight:{type:_.default.type.text,fieldId:"page_height"},unit:{type:_.default.type.select,fieldId:"unit"},orientation:{type:_.default.type.select,fieldId:"orientation"},contentHeight:{type:_.default.type.text,fieldId:"content_height"},marginLeft:{type:_.default.type.text,fieldId:"page_margin_left"},marginTop:{type:_.default.type.text,fieldId:"page_margin_top"},marginRight:{type:_.default.type.text,fieldId:"page_margin_right"},marginBottom:{type:_.default.type.text,fieldId:"page_margin_bottom"},header:{type:_.default.type.checkbox,fieldId:"header"},headerSize:{type:_.default.type.text,fieldId:"header_size"},headerDisplay:{type:_.default.type.select,fieldId:"header_display"},footer:{type:_.default.type.checkbox,fieldId:"footer"},footerSize:{type:_.default.type.text,fieldId:"footer_size"},footerDisplay:{type:_.default.type.select,fieldId:"footer_display"},patternLocale:{type:_.default.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:_.default.type.select,fieldId:"pattern_currency_symbol"}},a}return b.default(t,e),u.default(t,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_document_properties_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_document_properties_page_row" class="rbroFormRow"></div>');r.append('<label for="rbro_document_properties_page_format">'+this.rb.getLabel("pageFormat")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<select id="rbro_document_properties_page_format">\n                <option value="A4">'+this.rb.getLabel("pageFormatA4")+'</option>\n                <option value="A5">'+this.rb.getLabel("pageFormatA5")+'</option>\n                <option value="letter">'+this.rb.getLabel("pageFormatLetter")+'</option>\n                <option value="user_defined">'+this.rb.getLabel("pageFormatUserDefined")+"</option>\n            </select>").change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new _.default(t.getId(),"pageFormat",n.val(),_.default.type.select,e.rb);e.rb.executeCommand(r)}});a.append(n);var o=$('<div id="rbro_document_properties_page_size_row" class="rbroTripleSplit"></div>'),i=$('<input id="rbro_document_properties_page_width" maxlength="5">').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new _.default(t.getId(),"pageWidth",i.val(),_.default.type.select,e.rb);e.rb.executeCommand(r)}});D.setInputPositiveInteger(i),o.append(i);var l=$('<input id="rbro_document_properties_page_height" maxlength="5">').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new _.default(t.getId(),"pageHeight",l.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});D.setInputPositiveInteger(l),o.append(l);var d=$('<select id="rbro_document_properties_unit">\n            <option value="mm">mm</option>\n            <option value="inch">inch</option>\n        </select>').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new _.default(t.getId(),"unit",d.val(),_.default.type.select,e.rb);e.rb.executeCommand(r)}});o.append(d),a.append(o),a.append('<div id="rbro_document_properties_page_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_orientation">'+this.rb.getLabel("orientation")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<select id="rbro_document_properties_orientation">\n                <option value="portrait">'+this.rb.getLabel("orientationPortrait")+'</option>\n                <option value="landscape">'+this.rb.getLabel("orientationLandscape")+"</option>\n            </select>").change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new _.default(t.getId(),"orientation",s.val(),_.default.type.select,e.rb);e.rb.executeCommand(r)}});a.append(s),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_content_height">'+this.rb.getLabel("contentHeight")+":</label>"),a=$('<div class="rbroFormField"></div>');var u=$('<input id="rbro_document_properties_content_height">').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new _.default(t.getId(),"contentHeight",u.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});D.setInputPositiveInteger(u),a.append(u),a.append('<div class="rbroInfo">'+this.rb.getLabel("contentHeightInfo")+"</div>"),r.append(a),t.append(r),this.renderMarginControls(t),this.renderHeaderFooter(t),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_pattern_locale">'+this.rb.getLabel("patternLocale")+":</label>"),a=$('<div class="rbroFormField"></div>');
var c=$('<select id="rbro_document_properties_pattern_locale">\n                <option value="de">de</option>\n                <option value="en">en</option>\n                <option value="es">es</option>\n                <option value="fr">fr</option>\n                <option value="it">it</option>\n            </select>').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new _.default(t.getId(),"patternLocale",c.val(),_.default.type.select,e.rb);e.rb.executeCommand(r)}});a.append(c),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_pattern_currency_symbol">'+this.rb.getLabel("patternCurrencySymbol")+":</label>"),a=$('<div class="rbroFormField"></div>');var p=$('<input id="rbro_document_properties_pattern_currency_symbol">').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new _.default(t.getId(),"patternCurrencySymbol",p.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});a.append(p),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"renderMarginControls",value:function(e){var t=this,r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_document_properties_page_margin_top">'+this.rb.getLabel("pageMargins")+":</label>");var a=$('<div class="rbroFormField rbroSmallInput"></div>'),n=$('<div class="rbroColumnCenter"></div>'),o=$('<input id="rbro_document_properties_page_margin_top" placeholder="'+this.rb.getLabel("orientationTop")+'">').change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"marginTop",o.val(),_.default.type.text,t.rb);t.rb.executeCommand(r)}});D.setInputPositiveInteger(o),n.append(o),a.append(n);var i=$('<div class="rbroSplit"></div>'),l=$('<input id="rbro_document_properties_page_margin_left" placeholder="'+this.rb.getLabel("orientationLeft")+'">').change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"marginLeft",l.val(),_.default.type.text,t.rb);t.rb.executeCommand(r)}});D.setInputPositiveInteger(l),i.append(l);var d=$('<input id="rbro_document_properties_page_margin_right" placeholder="'+this.rb.getLabel("orientationRight")+'">').change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"marginRight",d.val(),_.default.type.text,t.rb);t.rb.executeCommand(r)}});D.setInputPositiveInteger(d),i.append(d),a.append(i);var s=$('<div class="rbroColumnCenter"></div>'),u=$('<input id="rbro_document_properties_page_margin_bottom" placeholder="'+this.rb.getLabel("orientationBottom")+'">').change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"marginBottom",u.val(),_.default.type.text,t.rb);t.rb.executeCommand(r)}});D.setInputPositiveInteger(u),s.append(u),a.append(s),r.append(a),e.append(r)}},{key:"renderHeaderFooter",value:function(e){var t=this,r=$('<div class="rbroFormRowContainer"></div>'),a=$('<div class="rbroFormRow"></div>');a.append('<label for="rbro_document_properties_header">'+this.rb.getLabel("header")+":</label>");var n=$('<div class="rbroFormField"></div>'),o=$('<label class="switch-light switch-material"></label>'),i=$('<input id="rbro_document_properties_header" type="checkbox">').change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"header",i.is(":checked"),_.default.type.checkbox,t.rb);t.rb.executeCommand(r)}});o.append(i);var l=$("<span></span>");l.append($("<span></span>")),l.append($("<span></span>")),l.append($("<a></a>")),o.append(l),n.append(o),a.append(n),r.append(a);var d=$('<div id="rbro_document_properties_header_settings"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_header_size">'+this.rb.getLabel("headerSize")+":</label>"),n=$('<div class="rbroFormField"></div>');var s=$('<input id="rbro_document_properties_header_size">').change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"headerSize",s.val(),_.default.type.text,t.rb);t.rb.executeCommand(r)}});D.setInputPositiveInteger(s),n.append(s),a.append(n),d.append(a),a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_header_display">'+this.rb.getLabel("headerDisplay")+":</label>"),n=$('<div class="rbroFormField"></div>');var u=$('<select id="rbro_document_properties_header_display">\n                <option value="always">'+this.rb.getLabel("headerFooterDisplayAlways")+'</option>\n                <option value="not_on_first_page">'+this.rb.getLabel("headerFooterDisplayNotOnFirstPage")+"</option>\n            </select>").change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"headerDisplay",u.val(),_.default.type.select,t.rb);t.rb.executeCommand(r)}});n.append(u),a.append(n),d.append(a),r.append(d),e.append(r);var c=$('<div class="rbroFormRowContainer"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer">'+this.rb.getLabel("footer")+":</label>"),n=$('<div class="rbroFormField"></div>');var p=$('<label class="switch-light switch-material"></label>'),h=$('<input id="rbro_document_properties_footer" type="checkbox">').change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"footer",h.is(":checked"),_.default.type.checkbox,t.rb);t.rb.executeCommand(r)}});p.append(h);var f=$("<span></span>");f.append($("<span></span>")),f.append($("<span></span>")),f.append($("<a></a>")),p.append(f),n.append(p),a.append(n),c.append(a);var m=$('<div id="rbro_document_properties_footer_settings"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer_size">'+this.rb.getLabel("footerSize")+":</label>"),n=$('<div class="rbroFormField"></div>');var b=$('<input id="rbro_document_properties_footer_size">').change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"footerSize",b.val(),_.default.type.text,t.rb);t.rb.executeCommand(r)}});D.setInputPositiveInteger(b),n.append(b),a.append(n),m.append(a),a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer_display">'+this.rb.getLabel("footerDisplay")+":</label>"),n=$('<div class="rbroFormField"></div>');var g=$('<select id="rbro_document_properties_footer_display">\n                <option value="always">'+this.rb.getLabel("headerFooterDisplayAlways")+'</option>\n                <option value="not_on_first_page">'+this.rb.getLabel("headerFooterDisplayNotOnFirstPage")+"</option>\n            </select>").change(function(){var e=t.rb.getSelectedObject();if(null!==e){var r=new _.default(e.getId(),"footerDisplay",g.val(),_.default.type.select,t.rb);t.rb.executeCommand(r)}});n.append(g),a.append(n),m.append(a),c.append(m),e.append(c)}},{key:"updateDisplay",value:function(e){var r=this.rb.getSelectedObject();if(null!==r&&r instanceof I.default){for(var a in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(a)&&(null===e||a===e)){var n=this.propertyDescriptors[a],o=r.getValue(a);f.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,n,o,!1)}t.updateVisibileRows(r,e)}}}],[{key:"updateVisibileRows",value:function(e,t){(null===t||"pageFormat"===t)&&(e.getValue("pageFormat")===I.default.pageFormat.userDefined?$("#rbro_document_properties_page_size_row").show():$("#rbro_document_properties_page_size_row").hide()),(null===t||"header"===t)&&(e.getValue("header")?$("#rbro_document_properties_header_settings").show():$("#rbro_document_properties_header_settings").hide()),(null===t||"footer"===t)&&(e.getValue("footer")?$("#rbro_document_properties_footer_settings").show():$("#rbro_document_properties_footer_settings").hide())}}]),t}(v.default);t.default=S},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(t,r){o.default(this,e),this.rootElement=t,this.rb=r}return l.default(e,[{key:"render",value:function(){$("#rbro_detail_panel"),$("#rbro_detail_panel").append('<div id="rbro_empty_detail_panel" class="rbroEmptyDetailPanel rbroHidden">\n                <div class="rbroLogo"></div>\n            </div>')}},{key:"show",value:function(){$("#rbro_empty_detail_panel").removeClass("rbroHidden")}},{key:"hide",value:function(){$("#rbro_empty_detail_panel").addClass("rbroHidden")}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){}}]),e}();t.default=d},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=n(o),l=r(2),d=n(l),s=r(0),u=n(s),c=r(1),p=n(c),h=r(4),f=n(h),m=r(9),b=n(m),g=r(3),v=n(g),y=r(32),_=n(y),w=r(11);n(w);var I=r(18),C=n(I),D=r(7),S=n(D),k=r(13),P=n(k),x=r(37),E=n(x),T=r(6);a(T);var V=function(e){function t(e,r){u.default(this,t);var a=f.default(this,(t.__proto__||d.default(t)).call(this,"rbro_parameter",P.default,e,r));return a.propertyDescriptors={name:{type:S.default.type.text,fieldId:"name"},type:{type:S.default.type.select,fieldId:"type"},arrayItemType:{type:S.default.type.select,fieldId:"array_item_type"},eval:{type:S.default.type.checkbox,fieldId:"eval"},nullable:{type:S.default.type.checkbox,fieldId:"nullable"},pattern:{type:S.default.type.text,fieldId:"pattern"},expression:{type:S.default.type.text,fieldId:"expression"},testData:{type:S.default.type.text,fieldId:"test_data"}},a.parameterTypeOptions=[],a}return v.default(t,e),p.default(t,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_parameter_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_parameter_name_row" class="rbroFormRow"></div>');r.append('<label for="rbro_parameter_name">'+this.rb.getLabel("parameterName")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_parameter_name">').on("input",function(){var t=e.rb.getSelectedObject();if(null!==t)if(n.val().trim()!==""){var r=n.val(),a=new C.default("Rename parameter"),o=new S.default(t.getId(),"name",r,S.default.type.text,e.rb);a.addCommand(o);var l=t.getParent();null!==l&&l.addUpdateTestDataCmdForChangedParameter(t.getName(),r,a);var d=e.rb.getDocElements(!0),s=!0,u=!1,c=void 0;try{for(var p,h=i.default(d);!(s=(p=h.next()).done);s=!0){var f=p.value;f.addCommandsForChangedParameterName(t,r,a)}}catch(m){u=!0,c=m}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}var b=!0,g=!1,v=void 0;try{for(var y,_=i.default(e.rb.getParameters());!(b=(y=_.next()).done);b=!0){var w=y.value;w.addCommandsForChangedParameterName(t,r,a)}}catch(m){g=!0,v=m}finally{try{!b&&_.return&&_.return()}finally{if(g)throw v}}e.rb.executeCommand(a)}else n.val(parameter.getName())});a.append(n),a.append('<div id="rbro_parameter_name_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_parameter_type_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_parameter_type">'+this.rb.getLabel("parameterType")+":</label>"),a=$('<div class="rbroFormField"></div>');var o=$('<select id="rbro_parameter_type"></select>').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new C.default("Set parameter type"),a=o.val(),n=new S.default(t.getId(),"type",a,S.default.type.select,e.rb);r.addCommand(n),t.addCommandsForChangedParameterType(a,r),e.rb.executeCommand(r)}});a.append(o),a.append('<div id="rbro_parameter_type_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_parameter_array_item_type_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_parameter_array_item_type_row">'+this.rb.getLabel("parameterArrayItemType")+":</label>"),a=$('<div class="rbroFormField"></div>');var l=$('<select id="rbro_parameter_array_item_type">\n                <option value="string">'+this.rb.getLabel("parameterTypeString")+'</option>\n                <option value="number">'+this.rb.getLabel("parameterTypeNumber")+'</option>\n                <option value="boolean">'+this.rb.getLabel("parameterTypeBoolean")+'</option>\n                <option value="date">'+this.rb.getLabel("parameterTypeDate")+"</option>\n            </select>").change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new S.default(t.getId(),"arrayItemType",l.val(),S.default.type.select,e.rb);e.rb.executeCommand(r)}});if(a.append(l),a.append('<div id="rbro_parameter_array_item_type_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),this.rb.getProperty("adminMode")){r=$('<div class="rbroFormRow" id="rbro_parameter_eval_row"></div>'),r.append('<label for="rbro_parameter_eval">'+this.rb.getLabel("parameterEval")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<input id="rbro_parameter_eval" type="checkbox">').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new S.default(t.getId(),"eval",d.is(":checked"),S.default.type.checkbox,e.rb);e.rb.executeCommand(r)}});a.append(d),r.append(a),t.append(r)}r=$('<div class="rbroFormRow" id="rbro_parameter_nullable_row"></div>'),r.append('<label for="rbro_parameter_nullable">'+this.rb.getLabel("parameterNullable")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<input id="rbro_parameter_nullable" type="checkbox">').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new S.default(t.getId(),"nullable",s.is(":checked"),S.default.type.checkbox,e.rb);e.rb.executeCommand(r)}});a.append(s),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_pattern_row"></div>'),r.append('<label for="rbro_parameter_pattern">'+this.rb.getLabel("parameterPattern")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var u=$('<input id="rbro_parameter_pattern">').on("input",function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new S.default(t.getId(),"pattern",u.val(),S.default.type.text,e.rb);e.rb.executeCommand(r)}});a.append(u);var c=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=void 0,a=t.getValue("type"),n=a===P.default.type.simpleArray?t.getValue("arrayItemType"):a;r=n===P.default.type.date?e.rb.getProperty("patternDates"):e.rb.getProperty("patternNumbers"),e.rb.getPopupWindow().show(r,t.getId(),"rbro_parameter_pattern","pattern",E.default.type.pattern)}});a.append(c),a.append('<div id="rbro_parameter_pattern_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_expression_row"></div>'),r.append('<label for="rbro_parameter_expression">'+this.rb.getLabel("parameterExpression")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var p=$('<textarea id="rbro_parameter_expression" rows="1"></textarea>').on("input",function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new S.default(t.getId(),"expression",p.val(),S.default.type.text,e.rb);e.rb.executeCommand(r)}});autosize(p),a.append(p),c=$('<div id="rbro_parameter_expression_param_button"\n        class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=void 0,a=void 0;t.getValue("type")===P.default.type.sum||t.getValue("type")===P.default.type.average?(r=e.rb.getArrayFieldParameterItems(P.default.type.number),a=E.default.type.parameterSet):(r=e.rb.getParameterItems(t),a=E.default.type.parameterAppend),e.rb.getPopupWindow().show(r,t.getId(),"rbro_parameter_expression","expression",a)}}),a.append(c),a.append('<div id="rbro_parameter_expression_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_test_data_row"></div>'),r.append('<label for="rbro_parameter_test_data">'+this.rb.getLabel("parameterTestData")+":</label>"),a=$('<div class="rbroFormField"></div>');var h=$('<input id="rbro_parameter_test_data">').change(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=new S.default(t.getId(),"testData",h.val(),S.default.type.text,e.rb);e.rb.executeCommand(r)}});a.append(h);var f=$('<button id="rbro_parameter_edit_test_data"\n        class="rbroButton rbroActionButton" style="display: none;">\n                    <span>'+this.rb.getLabel("parameterEditTestData")+'</span>\n                    <span class="rbroIcon-edit"></span>\n                </button>').click(function(){var t=e.rb.getSelectedObject();if(null!==t){var r=t.getTestDataRows(!0);r.length>0?e.rb.getPopupWindow().show(r,t.getId(),"","testData",E.default.type.testData):alert(e.rb.getLabel("parameterEditTestDataNoFields"))}});a.append(f),a.append('<div id="rbro_parameter_test_data_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"updateVisibileRows",value:function(e,t){var r=e.getValue("type"),a=r===P.default.type.simpleArray?e.getValue("arrayItemType"):r,n=e.getValue("showOnlyNameType"),o=null;if(e.getPanelItem()!==null&&e.getPanelItem().getParent().getData()instanceof P.default&&(o=e.getPanelItem().getParent().getData()),null===t){var i=e.getValue("editable");$("#rbro_parameter_name").prop("disabled",!i),$("#rbro_parameter_type").prop("disabled",!i),$("#rbro_parameter_eval").prop("disabled",!i),$("#rbro_parameter_nullable").prop("disabled",!i),$("#rbro_parameter_pattern").prop("disabled",!i),$("#rbro_parameter_expression").prop("disabled",!i),i?($("#rbro_parameter_name_row label").removeClass("rbroDisabled"),$("#rbro_parameter_type_row label").removeClass("rbroDisabled"),$("#rbro_parameter_eval_row label").removeClass("rbroDisabled"),$("#rbro_parameter_nullable_row label").removeClass("rbroDisabled"),$("#rbro_parameter_pattern_row label").removeClass("rbroDisabled"),$("#rbro_parameter_expression_row label").removeClass("rbroDisabled")):($("#rbro_parameter_name_row label").addClass("rbroDisabled"),$("#rbro_parameter_type_row label").addClass("rbroDisabled"),$("#rbro_parameter_eval_row label").addClass("rbroDisabled"),$("#rbro_parameter_nullable_row label").addClass("rbroDisabled"),$("#rbro_parameter_pattern_row label").addClass("rbroDisabled"),$("#rbro_parameter_expression_row label").addClass("rbroDisabled"))}if((null===t||"type"===t)&&(r===P.default.type.simpleArray?$("#rbro_parameter_array_item_type_row").show():$("#rbro_parameter_array_item_type_row").hide(),r===P.default.type.string||r===P.default.type.number||r===P.default.type.boolean||r===P.default.type.date||r===P.default.type.array||r===P.default.type.simpleArray||r===P.default.type.map?$("#rbro_parameter_nullable_row").show():$("#rbro_parameter_nullable_row").hide()),(null===t||"type"===t||"arrayItemType"===t)&&(a!==P.default.type.number&&a!==P.default.type.date&&a!==P.default.type.sum&&a!==P.default.type.average||n?$("#rbro_parameter_pattern_row").hide():$("#rbro_parameter_pattern_row").show()),(null===t||"type"===t||"eval"===t)&&(r===P.default.type.image||r===P.default.type.sum||r===P.default.type.average||n?($("#rbro_parameter_eval_row").hide(),$("#rbro_parameter_test_data_row").hide()):(r===P.default.type.image||r===P.default.type.array||r===P.default.type.simpleArray||r===P.default.type.map?$("#rbro_parameter_eval_row").hide():$("#rbro_parameter_eval_row").show(),null!==o&&o.getValue("type")===P.default.type.array||r===P.default.type.map?$("#rbro_parameter_test_data_row").hide():r!==P.default.type.array&&r!==P.default.type.simpleArray&&e.getValue("eval")?$("#rbro_parameter_test_data_row").hide():$("#rbro_parameter_test_data_row").show(),r===P.default.type.array||r===P.default.type.simpleArray?($("#rbro_parameter_test_data").hide(),$("#rbro_parameter_edit_test_data").show()):($("#rbro_parameter_test_data").show(),$("#rbro_parameter_edit_test_data").hide())),(!e.getValue("eval")||r!==P.default.type.string&&r!==P.default.type.number&&r!==P.default.type.boolean&&r!==P.default.type.date)&&r!==P.default.type.sum&&r!==P.default.type.average||n?$("#rbro_parameter_expression_row").hide():$("#rbro_parameter_expression_row").show()),null===t){var l=[],d=e.getPanelItem()!==null&&e.getPanelItem().getParent()===this.rb.getMainPanel().getParametersItem(),s=null!==o&&o.getValue("type")===P.default.type.array;l.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),l.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),l.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),l.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),l.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),d&&l.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),l.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),d&&l.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),s||(l.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),l.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var u=!1;if(l.length!==this.parameterTypeOptions.length)u=!0;else for(var c=0;c<l.length;c++)if(l[c].value!==this.parameterTypeOptions[c].value){u=!0;break}if(u){var p=$("#rbro_parameter_type");p.empty();for(var h=0;h<l.length;h++){var f=l[h];p.append('<option value="'+f.value+'">'+f.label+"</option>")}this.parameterTypeOptions=l}}}},{key:"updateDisplay",value:function(e){var r=this.rb.getSelectedObject();if(null!==r&&r instanceof P.default){this.updateVisibileRows(r,e);for(var a in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(a)&&(null===e||a===e)){var n=this.propertyDescriptors[a],o=r.getValue(a);b.default(t.prototype.__proto__||d.default(t.prototype),"setValue",this).call(this,n,o,!1)}(null===e||"type"===e)&&(r.getValue("type")===P.default.type.date?$("#rbro_parameter_test_data").attr("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):$("#rbro_parameter_test_data").attr("placeholder","")),t.updateAutosizeInputs(e)}}}],[{key:"updateAutosizeInputs",value:function(e){(null===e||"expression"===e)&&autosize.update($("#rbro_parameter_expression"))}}]),t}(_.default);t.default=V},function(e,t,r){e.exports={"default":r(105),__esModule:!0}},function(e,t,r){e.exports={"default":r(106),__esModule:!0}},function(e,t,r){e.exports={"default":r(107),__esModule:!0}},function(e,t,r){e.exports={"default":r(109),__esModule:!0}},function(e,t,r){e.exports={"default":r(110),__esModule:!0}},function(e,t,r){e.exports={"default":r(111),__esModule:!0}},function(e,t,r){r(76),r(75),e.exports=r(130)},function(e,t,r){var a=r(10),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(){return n.stringify.apply(n,arguments)}},function(e,t,r){r(132);var a=r(10).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,r){r(133);var a=r(10).Object;e.exports=function(e,t,r){return a.defineProperty(e,t,r)}},function(e,t,r){r(134);var a=r(10).Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}},function(e,t,r){r(135),e.exports=r(10).Object.getPrototypeOf},function(e,t,r){r(136),e.exports=r(10).Object.setPrototypeOf},function(e,t,r){r(138),r(137),r(139),r(140),e.exports=r(10).Symbol},function(e,t,r){r(75),r(76),e.exports=r(59).f("iterator")},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){e.exports=function(){}},function(e,t,r){var a=r(23),n=r(128),o=r(127);e.exports=function(e){return function(t,r,i){var l,d=a(t),s=n(d.length),u=o(i,s);if(e&&r!=r){for(;s>u;)if(l=d[u++],l!=l)return!0}else for(;s>u;u++)if((e||u in d)&&d[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var a=r(45),n=r(16)("toStringTag"),o=a(function(){return arguments}())=="Arguments",i=function(e,t){try{return e[t]}catch(r){}};e.exports=function(e){var t,r,l;return void 0===e?"Undefined":null===e?"Null":typeof(r=i(t=Object(e),n))=="string"?r:o?a(t):(l=a(t))=="Object"&&typeof t.callee=="function"?"Arguments":l}},function(e,t,r){var a=r(50),n=r(70),o=r(51);e.exports=function(e){var t=a(e),r=n.f;if(r)for(var i,l=r(e),d=o.f,s=0;l.length>s;)d.call(e,i=l[s++])&&t.push(i);return t}},function(e,t,r){var a=r(15).document;e.exports=a&&a.documentElement},function(e,t,r){var a=r(45);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return a(e)=="String"?e.split(""):Object(e)}},function(e,t,r){var a=r(45);e.exports=Array.isArray||function(e){return a(e)=="Array"}},function(e,t,r){"use strict";var a=r(48),n=r(35),o=r(52),i={};r(27)(i,r(16)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=a(i,{next:n(1,r)}),o(e,t+" Iterator")}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var a=r(36)("meta"),n=r(28),o=r(21),i=r(22).f,l=0,d=Object.isExtensible||function(){return!0},s=!r(30)(function(){return d(Object.preventExtensions({}))}),u=function(e){i(e,a,{value:{i:"O"+ ++l,w:{}}})},c=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!d(e))return"F";if(!t)return"E";u(e)}return e[a].i},p=function(e,t){if(!o(e,a)){if(!d(e))return!0;if(!t)return!1;u(e)}return e[a].w},h=function(e){return s&&f.NEED&&d(e)&&!o(e,a)&&u(e),e},f=e.exports={KEY:a,NEED:!1,fastKey:c,getWeak:p,onFreeze:h}},function(e,t,r){var a=r(22),n=r(25),o=r(50);e.exports=r(20)?Object.defineProperties:function(e,t){n(e);for(var r,i=o(t),l=i.length,d=0;l>d;)a.f(e,r=i[d++],t[r]);return e}},function(e,t,r){var a=r(23),n=r(69).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return n(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&o.call(e)=="[object Window]"?l(e):n(a(e))}},function(e,t,r){var a=r(28),n=r(25),o=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=r(65)(Function.call,r(49).f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){var a=r(55),n=r(46);e.exports=function(e){return function(t,r){var o,i,l=String(n(t)),d=a(r),s=l.length;return 0>d||d>=s?e?"":void 0:(o=l.charCodeAt(d),55296>o||o>56319||d+1===s||(i=l.charCodeAt(d+1))<56320||i>57343?e?l.charAt(d):o:e?l.slice(d,d+2):(o-55296<<10)+(i-56320)+65536)}}},function(e,t,r){var a=r(55),n=Math.max,o=Math.min;e.exports=function(e,t){return e=a(e),0>e?n(e+t,0):o(e,t)}},function(e,t,r){var a=r(55),n=Math.min;e.exports=function(e){return e>0?n(a(e),9007199254740991):0}},function(e,t,r){var a=r(115),n=r(16)("iterator"),o=r(33);e.exports=r(10).getIteratorMethod=function(e){return void 0!=e?e[n]||e["@@iterator"]||o[a(e)]:void 0}},function(e,t,r){var a=r(25),n=r(129);e.exports=r(10).getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},function(e,t,r){"use strict";var a=r(113),n=r(121),o=r(33),i=r(23);e.exports=r(68)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,r):"values"==t?n(0,e[r]):n(0,[r,e[r]])},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},function(e,t,r){var a=r(26);a(a.S,"Object",{create:r(48)})},function(e,t,r){var a=r(26);a(a.S+a.F*!r(20),"Object",{defineProperty:r(22).f})},function(e,t,r){var a=r(23),n=r(49).f;r(73)("getOwnPropertyDescriptor",function(){return function(e,t){return n(a(e),t)}})},function(e,t,r){var a=r(56),n=r(71);r(73)("getPrototypeOf",function(){return function(e){return n(a(e))}})},function(e,t,r){var a=r(26);a(a.S,"Object",{setPrototypeOf:r(125).set})},function(){},function(e,t,r){"use strict";var a=r(15),n=r(21),o=r(20),i=r(26),l=r(74),d=r(122).KEY,s=r(30),u=r(54),c=r(52),p=r(36),h=r(16),f=r(59),m=r(58),b=r(116),g=r(119),v=r(25),y=r(28),_=r(56),w=r(23),I=r(57),C=r(35),D=r(48),S=r(124),k=r(49),P=r(70),x=r(22),E=r(50),$=k.f,T=x.f,V=S.f,O=a.Symbol,A=a.JSON,B=A&&A.stringify,F="prototype",M=h("_hidden"),L=h("toPrimitive"),R={}.propertyIsEnumerable,j=u("symbol-registry"),N=u("symbols"),z=u("op-symbols"),H=Object[F],W="function"==typeof O&&!!P.f,U=a.QObject,J=!U||!U[F]||!U[F].findChild,G=o&&s(function(){return D(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var a=$(H,t);a&&delete H[t],T(e,t,r),a&&e!==H&&T(H,t,a)}:T,X=function(e){var t=N[e]=D(O[F]);return t._k=e,t},Y=W&&typeof O.iterator=="symbol"?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},K=function(e,t,r){return e===H&&K(z,t,r),v(e),t=I(t,!0),v(r),n(N,t)?(r.enumerable?(n(e,M)&&e[M][t]&&(e[M][t]=!1),r=D(r,{enumerable:C(0,!1)})):(n(e,M)||T(e,M,C(1,{})),e[M][t]=!0),G(e,t,r)):T(e,t,r)},q=function(e,t){v(e);for(var r,a=b(t=w(t)),n=0,o=a.length;o>n;)K(e,r=a[n++],t[r]);return e},Z=function(e,t){return void 0===t?D(e):q(D(e),t)},Q=function(e){var t=R.call(this,e=I(e,!0));return this===H&&n(N,e)&&!n(z,e)?!1:t||!n(this,e)||!n(N,e)||n(this,M)&&this[M][e]?t:!0},et=function(e,t){if(e=w(e),t=I(t,!0),e!==H||!n(N,t)||n(z,t)){var r=$(e,t);return!r||!n(N,t)||n(e,M)&&e[M][t]||(r.enumerable=!0),r}},tt=function(e){for(var t,r=V(w(e)),a=[],o=0;r.length>o;)n(N,t=r[o++])||t==M||t==d||a.push(t);return a},rt=function(e){for(var t,r=e===H,a=V(r?z:w(e)),o=[],i=0;a.length>i;)n(N,t=a[i++])&&(r?n(H,t):!0)&&o.push(N[t]);return o};W||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===H&&t.call(z,r),n(this,M)&&n(this[M],e)&&(this[M][e]=!1),G(this,e,C(1,r))};return o&&J&&G(H,e,{configurable:!0,set:t}),X(e)},l(O[F],"toString",function(){return this._k}),k.f=et,x.f=K,r(69).f=S.f=tt,r(51).f=Q,P.f=rt,o&&!r(34)&&l(H,"propertyIsEnumerable",Q,!0),f.f=function(e){return X(h(e))}),i(i.G+i.W+i.F*!W,{Symbol:O});for(var at="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;at.length>nt;)h(at[nt++]);for(var ot=E(h.store),it=0;ot.length>it;)m(ot[it++]);i(i.S+i.F*!W,"Symbol",{"for":function(e){return n(j,e+="")?j[e]:j[e]=O(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){J=!0},useSimple:function(){J=!1}}),i(i.S+i.F*!W,"Object",{create:Z,defineProperty:K,defineProperties:q,getOwnPropertyDescriptor:et,getOwnPropertyNames:tt,getOwnPropertySymbols:rt});var lt=s(function(){P.f(1)});i(i.S+i.F*lt,"Object",{getOwnPropertySymbols:function(e){return P.f(_(e))}}),A&&i(i.S+i.F*(!W||s(function(){var e=O();return B([e])!="[null]"||B({a:e})!="{}"||B(Object(e))!="{}"})),"JSON",{stringify:function(e){for(var t,r,a=[e],n=1;arguments.length>n;)a.push(arguments[n++]);return r=t=a[1],!y(t)&&void 0===e||Y(e)?void 0:(g(t)||(t=function(e,t){return"function"==typeof r&&(t=r.call(this,e,t)),Y(t)?void 0:t}),a[1]=t,B.apply(A,a))}}),O[F][L]||r(27)(O[F],L,O[F].valueOf),c(O,"Symbol"),c(Math,"Math",!0),c(a.JSON,"JSON",!0)},function(e,t,r){r(58)("asyncIterator")},function(e,t,r){r(58)("observable")},function(e,t,r){r(77),r(79),r(78),e.exports=r(80)}]);
/*
//@ sourceMappingURL=./dist/reportbro.min.js.map
*/